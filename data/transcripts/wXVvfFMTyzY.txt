
[00:00:00.040 --> 00:00:20.160]   Hey everybody. Yeah, thanks for coming. Great to see a full room. Always good when you're doing a
[00:00:20.160 --> 00:00:27.120]   workshop to have a lot of people here. So yeah, I'm Damian Murphy. I'm going to be presenting A2A
[00:00:27.120 --> 00:00:33.540]   and MCP, two pretty hot topics these days in AI, and how you can use them to automate
[00:00:33.540 --> 00:00:42.540]   business processes. So yeah, a little bit about me. About 15 years full-time, full-stack
[00:00:42.540 --> 00:00:47.620]   developer, five years doing solutions engineering, so customer-facing kind of
[00:00:47.620 --> 00:00:53.360]   forward-deployed engineer, and spent the last three years or so working on voice AI
[00:00:53.360 --> 00:00:59.780]   and AI agents. I did a workshop last year as well, AI voice
[00:00:59.780 --> 00:01:05.120]   agent swarms, and it was pretty hot topic. I think it's now pretty much standard that
[00:01:05.120 --> 00:01:10.320]   everybody can build a voice agent in five minutes. And so now the hard part
[00:01:10.320 --> 00:01:15.740]   becomes building autonomous agents that actually can do complex tasks. And so I
[00:01:15.740 --> 00:01:21.160]   joined Bench Computing about two months ago, a pre-revenue startup backed by Sutter Hill
[00:01:21.160 --> 00:01:27.380]   Ventures, and we're building what I would imagine to be a better Manus, and that's
[00:01:27.380 --> 00:01:32.660]   more focused on teams and enterprises. If you're not familiar with what Manus is, it's
[00:01:32.660 --> 00:01:38.980]   kind of like an autonomous AI agent, and Bench is essentially an autonomous AI agent that can
[00:01:38.980 --> 00:01:45.400]   do a sub-parallel task automation.
[00:01:45.400 --> 00:01:50.400]   All right, so the workshop that we're doing today, we're going to build a multi-agent system
[00:01:50.400 --> 00:01:57.980]   and using A2A agents. If you're not familiar with A2A, Google released, essentially, a protocol
[00:01:57.980 --> 00:02:05.980]   that allows agents to communicate over the web. We're going to integrate these agents with MCP,
[00:02:05.980 --> 00:02:13.980]   MCP, which is the model context protocol. MCP is like a USB-C for, you know, all of your
[00:02:13.980 --> 00:02:23.280]   agents to be able to consume context and tools and resources very easily. We're going to get
[00:02:23.280 --> 00:02:30.400]   these agents to work together, and we're going to trigger the agent with a webhook. And then
[00:02:30.400 --> 00:02:36.240]   I'm going to cover a little bit about when to use A2A MCP, and I'll also go into prompt
[00:02:36.240 --> 00:02:38.400]   caching and context management as well.
[00:02:38.400 --> 00:02:48.400]   All right, so A2A, right, and it's not exactly clear what it's for and why it exists, right?
[00:02:48.400 --> 00:02:53.400]   If you ask everybody in a room what they think it does or why it exists, you'll probably get
[00:02:53.400 --> 00:02:59.400]   a different answer. But the key benefits are you can have agent specialization, right? So,
[00:02:59.400 --> 00:03:04.400]   rather than trying to make one agent do a hundred things, you can have a hundred agents do one
[00:03:04.400 --> 00:03:12.240]   thing and do that one thing very well. A2A allows you to handle task delegation. So, you know,
[00:03:12.240 --> 00:03:21.240]   imagine you had a salesforce agent and you wanted to interact with all the salesforce MCP tools,
[00:03:21.240 --> 00:03:26.240]   you could do that. And you've also got the ability to do parallel processing, and this will become
[00:03:26.240 --> 00:03:33.240]   very important when it comes to speed and context management. You can then use those A2A agents
[00:03:33.240 --> 00:03:43.240]   to have complex workflows and help keep your main agent's context size down. MCP, again,
[00:03:43.240 --> 00:03:50.240]   really hot topic right now. It's been kind of coined as the USBC for AI, and there's definitely
[00:03:50.240 --> 00:03:56.240]   some benefits in just having a standard interface, right? You know, there's something like 10,000 MCP
[00:03:56.240 --> 00:04:03.240]   tools that you can use today, and about 7,000 of those come through the Zapier MCP. If you're
[00:04:03.240 --> 00:04:10.240]   not familiar with Zapier, it's essentially a way to connect disparate systems together, and they've
[00:04:10.240 --> 00:04:17.240]   now released all of their zaps, they're called, as MCP servers and tools. One of the great things
[00:04:17.240 --> 00:04:24.240]   about MCP, no integration with APIs, so you don't have to do any sort of, you know, different handling of
[00:04:24.240 --> 00:04:31.240]   different APIs. It's a plug-in architecture, an industry standard, and it's really based on
[00:04:31.240 --> 00:04:38.240]   LSP, so LSP was a way for, you know, IDEs to actually figure out how different code languages
[00:04:38.240 --> 00:04:49.240]   worked, and it was a great kind of transfer of ideas over to the MCP protocol. All right, so when
[00:04:49.240 --> 00:04:55.240]   should you use A2A versus MCP? Anybody?
[00:04:55.240 --> 00:05:05.240]   MC, if you want to resource the infrastructure, then you go for MCP. But yeah, I don't know.
[00:05:05.240 --> 00:05:16.240]   And that's kind of the challenge, right? It's like, what exactly, you know, are these protocols for, and should I be using them, and things like that. So if you want to have, you know, two A2A versus MCP,
[00:05:16.240 --> 00:05:31.240]   So if you want to have, you know, two agents, right, and typically two agents that are completely unrelated, right? So it's not two agents that you necessarily control. It's more likely going to be an agent of a third party, or, you know, their first party agent and your agent. Yeah?
[00:05:31.240 --> 00:05:50.240]   What's the difference between agent TKI and A2A? So I work a lot on the agent TKI, where you have multiple agents and doing the same task. The way you are saying, describing A2A is a lot similar to agent TKI.
[00:05:50.240 --> 00:06:01.240]   Yeah, so like Autogen and frameworks like that, that allow you to kind of manage multiple agents kind of locally, A2A is more about remote agents, right?
[00:06:01.240 --> 00:06:13.240]   So, agents you have no knowledge of. So you can think of A2A as a way for you to have service discoverability, and once you have the end point to the agent, you can then learn everything that agent's capable of.
[00:06:13.240 --> 00:06:20.240]   With things like Autogen, it's like, you know, descriptive. So you describe what it's capable of. It's in your control.
[00:06:20.240 --> 00:06:40.240]   So to summarize, agent TKI's kind of define the role of each agent, and A2A is kind of working remotely, and its role is not defined or defined?
[00:06:40.240 --> 00:06:46.240]   So each of the A2A agents will have a definition, and we'll kind of get into that a little bit later.
[00:06:46.240 --> 00:06:51.240]   But yeah, think of agent TKI kind of as a superset of everything, right?
[00:06:51.240 --> 00:06:56.240]   A2A and MCP are just kind of subsets of that, right? Different modalities.
[00:06:56.240 --> 00:07:01.240]   Yeah, so for MCP, you're going to connect to external context and tools.
[00:07:01.240 --> 00:07:06.240]   A lot of people don't use most of the features of MCP, right? They're just using the tools.
[00:07:06.240 --> 00:07:14.240]   But there's a lot of stuff around prompt templates, resources, and a thing called sampling.
[00:07:14.240 --> 00:07:19.240]   Sampling is actually going to be a really interesting thing I think that we'll see a lot more of as well,
[00:07:19.240 --> 00:07:24.240]   where it allows these MCPs to sample the host LLM, right?
[00:07:24.240 --> 00:07:29.240]   So if you're using, you know, Claude and you're hitting an MCP server,
[00:07:29.240 --> 00:07:33.240]   and that MCP server may want to also use the same model of Claude that you're using,
[00:07:33.240 --> 00:07:36.240]   and it can use sampling to actually achieve that.
[00:07:36.240 --> 00:07:40.240]   So when you bring those two together, you kind of get the benefit of both, right?
[00:07:40.240 --> 00:07:52.240]   So you have A2A as the remote interface, and MCP is then giving you the actual tool use and context management.
[00:07:52.240 --> 00:07:55.240]   Okay, so when not to use MCP.
[00:07:55.240 --> 00:07:57.240]   And you'll notice a lot of, like, memes here.
[00:07:57.240 --> 00:08:01.240]   And just to give you a heads up, all memes were generated by Bench.
[00:08:01.240 --> 00:08:04.240]   Actually, the whole slide deck was generated by Bench.
[00:08:04.240 --> 00:08:08.240]   And I just gave it a markdown file, and it out-ba-da-da-da.
[00:08:08.240 --> 00:08:15.240]   So when you use A2A or MCP, if you have full control of the tools, then you probably don't need it, right?
[00:08:15.240 --> 00:08:22.240]   Like, if your function is local to your code base, you know, why do you need to create, you know, a USB-C?
[00:08:22.240 --> 00:08:26.240]   It's kind of like me plugging in my hard drive with a USB cable.
[00:08:26.240 --> 00:08:30.240]   You know, like, shouldn't I just use the hard drive that's in my machine, right?
[00:08:30.240 --> 00:08:37.240]   So calling functions directly in your code base, super easy, easy to maintain, faster to develop.
[00:08:37.240 --> 00:08:43.240]   And then if you have full control of your agents, you probably don't need A2A either, right?
[00:08:43.240 --> 00:08:49.240]   Like, if they're your agents, you can use, you know, some sort of local function call for them to communicate.
[00:08:49.240 --> 00:08:55.240]   And I've built multi-agent systems using MCP and using just local function calls.
[00:08:55.240 --> 00:08:58.240]   It's a lot easier to just use the code you have.
[00:08:58.240 --> 00:09:03.240]   It's going to be faster, there's no protocol overheads, and things like that.
[00:09:03.240 --> 00:09:06.240]   A lot easier to debug as well.
[00:09:06.240 --> 00:09:12.240]   Okay, so why do you need A2A and MCP at all, right?
[00:09:12.240 --> 00:09:16.240]   Third-party tools is probably the number one reason to use MCP.
[00:09:16.240 --> 00:09:26.240]   You can just get access to such a large array of tools that, you know, you're never going to be able to -- let's say you're building a product, right?
[00:09:26.240 --> 00:09:33.240]   And you're like, okay, we're going to build first-class integrations with Salesforce and Slack, but what about your 10,000 tools?
[00:09:33.240 --> 00:09:36.240]   It's like, okay, we'll just allow people to add their own MCP server.
[00:09:36.240 --> 00:09:39.240]   So that gives you great extensibility.
[00:09:39.240 --> 00:09:42.240]   But there's a lot of drawbacks with MCP, right?
[00:09:42.240 --> 00:09:44.240]   And you only get what you're given.
[00:09:44.240 --> 00:09:46.240]   And a lot of the time, that's not exactly what you want.
[00:09:46.240 --> 00:09:46.240]   And so you may go down the route of saying, you know what, I need a way to actually index this data so that I'm not calling, like, you know, list Slack channels every time I want to post a channel, right?
[00:09:46.240 --> 00:10:00.240]   Or a post a message.
[00:10:00.240 --> 00:10:05.240]   And then with A2A, the complexity is hidden from you, right?
[00:10:05.240 --> 00:10:12.240]   And that's one of the kind of the key elements of A2A is that you don't know anything about this agent until you connect.
[00:10:12.240 --> 00:10:16.240]   And all of its complexity is completely opaque.
[00:10:16.240 --> 00:10:28.240]   And then you can essentially connect to, you know, any sort of remote A2A agent, so long as you have, you know, the credentials and things like that.
[00:10:28.240 --> 00:10:32.240]   And we haven't seen any first-party A2A agents released yet.
[00:10:32.240 --> 00:10:36.240]   But Google has about, I think, 50 partners they're going to launch with.
[00:10:36.240 --> 00:10:40.240]   So I'd imagine there's going to be, like, a Salesforce A2A agent.
[00:10:40.240 --> 00:10:44.240]   And it'll probably only come with a paid account, right?
[00:10:44.240 --> 00:10:46.240]   Because it's going to use LLM compute.
[00:10:46.240 --> 00:10:50.240]   Versus things like MCP, typically don't actually use an LLM, right?
[00:10:50.240 --> 00:10:52.240]   They use the host LLM.
[00:10:52.240 --> 00:10:56.240]   Alrighty, so we're going to get into the code now.
[00:10:56.240 --> 00:11:10.240]   Yeah, so if you haven't already grabbed the repo, we also have a Slack channel, workshop-a2a-mcp-2025.
[00:11:10.240 --> 00:11:14.240]   And in this repo there's basically everything you need to get going.
[00:11:14.240 --> 00:11:20.240]   Yeah, so the code structure, we've got a host agent.
[00:11:20.240 --> 00:11:22.240]   And then we've got some sub-agents, right?
[00:11:22.240 --> 00:11:28.240]   And the whole concept here is to demonstrate, you know, A2A and MCP.
[00:11:28.240 --> 00:11:34.240]   But in reality, these sub-agents will probably live in a different repo, you know, run on a different server.
[00:11:34.240 --> 00:11:42.240]   And then we've also got the A2A implementation, the server and the client in the repo.
[00:11:42.240 --> 00:11:46.240]   And these are taken directly from the A2A repo.
[00:11:46.240 --> 00:11:50.240]   We've also got the MCP integration, so this is just a client.
[00:11:50.240 --> 00:11:53.240]   We're not creating a server here.
[00:11:53.240 --> 00:11:55.240]   And we also have a CLI interface.
[00:11:55.240 --> 00:11:57.240]   You're not going to need the CLI interface.
[00:11:57.240 --> 00:12:01.240]   That's kind of internally how it's being used.
[00:12:01.240 --> 00:12:06.240]   Yeah, so once you've cloned a repo, you're going to want an NPM install.
[00:12:06.240 --> 00:12:09.240]   And you're going to need an MCP server URL.
[00:12:09.240 --> 00:12:14.240]   This is going to be a Zapier URL and a Gemini API key.
[00:12:14.240 --> 00:12:16.240]   You can get both of these for free.
[00:12:16.240 --> 00:12:19.240]   There's no need to sign up for a paid account to get them.
[00:12:19.240 --> 00:12:23.240]   And you'll want to rename your .env.example to .env.
[00:12:23.240 --> 00:12:31.240]   Alright, so setting up the Zapier MCP.
[00:12:31.240 --> 00:12:37.240]   When you go to zapier.com/mcp, you'll have the option to create a new server.
[00:12:37.240 --> 00:12:41.240]   And when you go to connect, you're going to have a couple of options here.
[00:12:41.240 --> 00:12:44.240]   We're going to use SSE.
[00:12:44.240 --> 00:12:51.240]   They recently released streamable HTTP, which is making SSE deprecated and it's going to replace it.
[00:12:51.240 --> 00:12:58.240]   But there's still a litany of SSE servers out there, so I just used SSE for this one.
[00:12:58.240 --> 00:13:02.240]   Once you do that, you're going to get this server URL at the bottom.
[00:13:02.240 --> 00:13:03.240]   You can copy that URL.
[00:13:03.240 --> 00:13:07.240]   That's going to be the URL that goes into your .env.
[00:13:07.240 --> 00:13:11.240]   And then you're going to set up a Slack and a GitHub integration.
[00:13:11.240 --> 00:13:14.240]   So you're going to want the ability to create an issue.
[00:13:14.240 --> 00:13:18.240]   You can put in the repository URL for the workshop if you want.
[00:13:18.240 --> 00:13:21.240]   You can use your own as well.
[00:13:21.240 --> 00:13:29.240]   You can let AI choose these, but what I've found with AI is that it will choose something else, right?
[00:13:29.240 --> 00:13:35.240]   So a lot of time with these MCPs, you're going to want to kind of say, hey, you know, this is the thing I want to do.
[00:13:35.240 --> 00:13:37.240]   So let's just kind of hard code that.
[00:13:37.240 --> 00:13:44.240]   But if you do let it kind of go wild into your Slack, it's going to start posting in general and random and sales.
[00:13:44.240 --> 00:13:49.240]   Yeah, a few of my bots have kind of gone rogue.
[00:13:49.240 --> 00:13:52.240]   All right, so the Gemini setup.
[00:13:52.240 --> 00:13:56.240]   Yeah, so you can get the API key here at the AI studio.
[00:13:56.240 --> 00:14:02.240]   And there's a link in the slide deck as well if you need to click it.
[00:14:02.240 --> 00:14:09.240]   You can get a free account, generate an API key, drop that into your .env as well.
[00:14:09.240 --> 00:14:11.240]   Excuse me.
[00:14:11.240 --> 00:14:15.240]   And there's also a remote Bench A2A agent.
[00:14:15.240 --> 00:14:18.240]   So the code for it's actually in the repo.
[00:14:18.240 --> 00:14:23.240]   But we haven't officially released our API yet, so I'm just hosting that remotely.
[00:14:23.240 --> 00:14:28.240]   But it's a nice kind of way to show how you would use A2A remotely as well.
[00:14:28.240 --> 00:14:31.240]   So what is Bench?
[00:14:31.240 --> 00:14:37.240]   Bench is essentially a kind of LLM aggregator with autonomous AI agents.
[00:14:37.240 --> 00:14:41.240]   So you get access to Cloud, Gemini, OpenAI, XAI, and loads of more models.
[00:14:41.240 --> 00:14:44.240]   It has, I think, about 30 tools now.
[00:14:44.240 --> 00:14:46.240]   And integrations.
[00:14:46.240 --> 00:14:50.240]   So we actually started out with MCP integrations to Slack and Salesforce.
[00:14:50.240 --> 00:14:51.240]   They didn't meet our needs.
[00:14:51.240 --> 00:14:55.240]   We built first-party integrations, you know, data caching and indexing.
[00:14:55.240 --> 00:15:01.240]   And that kind of gives you an idea of, like, how far is MCP going to get you, right?
[00:15:01.240 --> 00:15:08.240]   Eventually, at some point, you're going to realize that it doesn't do the, you know, the specific thing you need to do.
[00:15:08.240 --> 00:15:09.240]   All right.
[00:15:09.240 --> 00:15:10.240]   So running the application.
[00:15:10.240 --> 00:15:14.240]   You're going to run npm run start all.
[00:15:14.240 --> 00:15:18.240]   And that's going to kick off all the agents, right?
[00:15:18.240 --> 00:15:22.240]   So the Slack agent, the GitHub agent, the host agent.
[00:15:22.240 --> 00:15:27.240]   And it will also start the webhook server and the webhook admin panel.
[00:15:27.240 --> 00:15:32.240]   You can access that then through local host port 3000.
[00:15:32.240 --> 00:15:39.240]   And, yeah, so let's just kind of go into what each of the actual agents do.
[00:15:39.240 --> 00:15:44.240]   And so the host agent is essentially your central coordinator, right?
[00:15:44.240 --> 00:15:48.240]   And this may be the only agent that you have in your application.
[00:15:48.240 --> 00:15:52.240]   It may be using external A2A agents.
[00:15:52.240 --> 00:16:03.240]   And if that's the case, then, you know, everything that your host does is going to be delegated, you know, to sub-agents.
[00:16:03.240 --> 00:16:09.240]   And so that handles all the agent discovery and kind of bringing everything together.
[00:16:09.240 --> 00:16:13.240]   Yeah, so the code for that's going to be in source-agents-host.
[00:16:13.240 --> 00:16:15.240]   And you'll notice there's a couple of files in there.
[00:16:15.240 --> 00:16:18.240]   One of them is the host-agent prompt.
[00:16:18.240 --> 00:16:22.240]   All right, so that's just a plain text system prompt.
[00:16:22.240 --> 00:16:29.240]   Genkit, that's going to be essentially how you hook all of your A2A code up with Gemini.
[00:16:29.240 --> 00:16:36.240]   And there's also a Genkit MCP plug-in that the sub-agents use.
[00:16:36.240 --> 00:16:40.240]   Yeah, so then the Slack agent.
[00:16:40.240 --> 00:16:44.240]   So this is going to send a Slack message in response to the webhook transcript.
[00:16:44.240 --> 00:16:50.240]   And, yeah, the kind of sample webhook that we have in this is essentially, you know, your meeting end.
[00:16:50.240 --> 00:16:54.240]   And you're going to receive a transcript of that meeting.
[00:16:54.240 --> 00:16:55.240]   Right?
[00:16:55.240 --> 00:16:57.240]   And with that, you're going to decide what to do.
[00:16:57.240 --> 00:17:02.240]   So it's going to, you know, if it detects any bugs, it's going to create a GitHub issue.
[00:17:02.240 --> 00:17:07.240]   If it detects any, you know, feature requests or anything of interest, it's going to post that into Slack.
[00:17:07.240 --> 00:17:13.240]   And you can think of the kind of automations that you can build with this sort of scenario.
[00:17:13.240 --> 00:17:13.240]   Right?
[00:17:13.240 --> 00:17:17.240]   So you could even -- I had a version here that was hooked up to Salesforce.
[00:17:17.240 --> 00:17:24.240]   But there's actually a limitation on the host agent on how many sub-agents it can call.
[00:17:24.240 --> 00:17:30.240]   And so I figured, right, if one of them is going to go, it's going to be Salesforce because it's probably the hardest to get an account on.
[00:17:30.240 --> 00:17:34.240]   But you could actually update an opportunity based on a sales call.
[00:17:34.240 --> 00:17:35.240]   Right?
[00:17:35.240 --> 00:17:42.240]   So you could have a sales call and, you know, you're talking to them, you're doing your discovery, and you're able to update those Salesforce fields automatically.
[00:17:42.240 --> 00:17:53.240]   And, like, the time saving for account executives, because, you know, they're probably on back-to-back calls, is actually pretty big.
[00:17:53.240 --> 00:17:56.240]   Yeah, so this was an interesting issue I ran into.
[00:17:56.240 --> 00:18:00.240]   So I asked one of my colleagues to test the repo out.
[00:18:00.240 --> 00:18:01.240]   Right?
[00:18:01.240 --> 00:18:06.240]   And he was getting this weird error where it was saying, you know, the Slack MCP succeeded.
[00:18:06.240 --> 00:18:11.240]   And so I asked him to send me the logs, and he sent me this.
[00:18:11.240 --> 00:18:14.240]   And it was like, is error false?
[00:18:14.240 --> 00:18:17.240]   And I'm like, okay, that's great.
[00:18:17.240 --> 00:18:25.240]   So, yeah, it turns out that, you know, not all MCPs are created equally, and the Zapier Slack MCP failed silently.
[00:18:25.240 --> 00:18:35.240]   And so the reason it failed was he had the default Slack channel name, which was, like, test Damian Slack.
[00:18:35.240 --> 00:18:40.240]   And he was in a different workspace where that channel didn't exist, so it just failed silently.
[00:18:40.240 --> 00:18:44.240]   And so I added a bit of code to detect this kind of empty text array.
[00:18:44.240 --> 00:18:46.240]   And so it will fail now.
[00:18:46.240 --> 00:18:51.240]   But it kind of goes to show you just kind of the limitations of MCP.
[00:18:51.240 --> 00:18:55.240]   Yeah, so the GitHub agent, pretty straightforward.
[00:18:55.240 --> 00:19:00.240]   It's probably the most basic of the three or four.
[00:19:00.240 --> 00:19:03.240]   So it just creates a GitHub issue.
[00:19:03.240 --> 00:19:05.240]   Super simple.
[00:19:05.240 --> 00:19:08.240]   But you could imagine, you know, how you would extend this, right?
[00:19:08.240 --> 00:19:10.240]   Maybe it's going to open a PR, right?
[00:19:10.240 --> 00:19:15.240]   Maybe it's actually going to implement the fix for the bug that was reported in the meeting.
[00:19:15.240 --> 00:19:26.240]   And you can see how down the line, as, you know, AI gets better and things really improve, that a lot of this automation is going to be driven by human interaction.
[00:19:26.240 --> 00:19:27.240]   Right?
[00:19:27.240 --> 00:19:34.240]   So, you know, speaking with people and posting messages on Slack and talking in GitHub discussions is going to trigger AI to take action.
[00:19:34.240 --> 00:19:40.240]   Yeah, so the bench agent, it can do a lot.
[00:19:40.240 --> 00:19:49.240]   And that was actually one of the problems that I found with A2A is that, like, the more functions and capabilities an agent has,
[00:19:49.240 --> 00:19:55.240]   the harder it is to describe the agent's capabilities in the agent card.
[00:19:55.240 --> 00:20:03.240]   And so the agent card is essentially, like, the public information to any other agent of what that agent's capable of.
[00:20:03.240 --> 00:20:07.240]   And so I had to really just pare it back and I said, look, you know, you can do a handful of things.
[00:20:07.240 --> 00:20:11.240]   I know you can do more, but, like, for now, these are the few things that you can do.
[00:20:11.240 --> 00:20:17.240]   And it's able to go off and, like, you know, browse the web, do research, data science, all sorts of things.
[00:20:17.240 --> 00:20:23.240]   And so we're just going to use it for researching the company and the people in the meeting transcript.
[00:20:23.240 --> 00:20:29.240]   All right, here we go, demo gods.
[00:20:29.240 --> 00:20:32.240]   Before I start, any questions?
[00:20:32.240 --> 00:20:33.240]   Yeah?
[00:20:33.240 --> 00:20:36.240]   You mentioned some limitation on the number of agents.
[00:20:36.240 --> 00:20:37.240]   What was that?
[00:20:37.240 --> 00:20:47.240]   Yeah, so the GenKit implementation that Google provide limits you to five maximum kind of sub-agent calls per turn.
[00:20:47.240 --> 00:20:49.240]   Is that a hard limit?
[00:20:49.240 --> 00:20:51.240]   Yeah, I couldn't get around it.
[00:20:51.240 --> 00:20:57.240]   Like, there was this max, like, setting, but it didn't work.
[00:20:57.240 --> 00:20:58.240]   Yeah.
[00:20:58.240 --> 00:21:03.240]   So it's something I'm sure they'll fix eventually, but it was an interesting issue.
[00:21:03.240 --> 00:21:10.240]   All right, let me see if my code is running.
[00:21:10.240 --> 00:21:11.240]   Yeah.
[00:21:11.240 --> 00:21:12.240]   I think it is.
[00:21:12.240 --> 00:21:16.240]   Yeah, so it should be here.
[00:21:16.240 --> 00:21:23.240]   And actually I'll show you the MCP server as well while I'm here.
[00:21:23.240 --> 00:21:25.240]   Yeah, so this is the MCP inspector.
[00:21:25.240 --> 00:21:28.240]   It's an open source repo as part of the model.
[00:21:28.240 --> 00:21:29.240]   So, yeah?
[00:21:29.240 --> 00:21:30.240]   At the back.
[00:21:30.240 --> 00:21:31.240]   Yeah, that's actually in the agent card.
[00:21:31.240 --> 00:21:31.240]   So that will be in the index.ts of the sub-agent.
[00:21:31.240 --> 00:21:47.240]   Yeah, I'll be going through the code in a little bit as well so you can see it.
[00:21:47.240 --> 00:21:52.240]   Yeah, so I'm connecting to my Zapier MCP URL that I got.
[00:21:52.240 --> 00:21:54.240]   So I just copied this one, dropped it in.
[00:21:54.240 --> 00:21:57.240]   I'm going to connect over SSE.
[00:21:57.240 --> 00:22:01.240]   And this allows you to, you know, list the tools, call the tools.
[00:22:01.240 --> 00:22:10.240]   And it's quite interesting now that Zapier has added instructions as a mandatory field on actually all of their MCP tools.
[00:22:10.240 --> 00:22:15.240]   So you don't actually need to fill out the fields anymore.
[00:22:15.240 --> 00:22:17.240]   So you can just give it natural language.
[00:22:17.240 --> 00:22:25.240]   So this kind of suggests to me that they're using an LLM on their side to figure out how to populate the fields on your behalf.
[00:22:25.240 --> 00:22:29.240]   Which is interesting because it's going to cost them a fortune, right, as more people adopt it.
[00:22:29.240 --> 00:22:34.240]   All right, so this is the agent dashboard.
[00:22:34.240 --> 00:22:36.240]   Let's just make sure everything's working, yeah?
[00:22:36.240 --> 00:22:39.240]   You can see I have a couple of previous ones that I ran.
[00:22:39.240 --> 00:22:44.240]   This one is actually the one where the Slack thing wasn't found.
[00:22:44.240 --> 00:22:48.240]   So when I was testing that, oh, my mouse isn't moving.
[00:22:48.240 --> 00:22:49.240]   There we go.
[00:22:49.240 --> 00:22:54.240]   Yeah, so I put in, like, a, you know, typical unknown Slack channel.
[00:22:54.240 --> 00:22:59.240]   And then it detected that I couldn't find it based on the heuristics.
[00:22:59.240 --> 00:23:02.240]   I'm sure why my mouse isn't moving.
[00:23:02.240 --> 00:23:03.240]   There we go.
[00:23:03.240 --> 00:23:07.240]   Yeah?
[00:23:07.240 --> 00:23:11.240]   So you have defined four agents here.
[00:23:11.240 --> 00:23:12.240]   Mm-hmm.
[00:23:12.240 --> 00:23:16.240]   So they are all A2A agents.
[00:23:16.240 --> 00:23:17.240]   Yeah, correct.
[00:23:17.240 --> 00:23:18.240]   Okay.
[00:23:18.240 --> 00:23:22.240]   So maximum you can go for A2A agents is five.
[00:23:22.240 --> 00:23:23.240]   Yeah.
[00:23:23.240 --> 00:23:25.240]   When I got to five, that's when I got the error.
[00:23:25.240 --> 00:23:26.240]   Yeah.
[00:23:26.240 --> 00:23:27.240]   So I think four.
[00:23:27.240 --> 00:23:32.240]   Yeah, and the host agent here, so these are the host agent logs.
[00:23:32.240 --> 00:23:36.240]   You can see it connecting to the different agents.
[00:23:36.240 --> 00:23:41.240]   This agent's just running on a little dinky EC2 instance that I spun up.
[00:23:41.240 --> 00:23:50.240]   And it goes through, learns about the agents, you know, processes webhooks, like, you don't necessarily need to go in here unless you get a failure.
[00:23:50.240 --> 00:23:53.240]   And Slack agent, pretty similar.
[00:23:53.240 --> 00:23:58.240]   It's basically just sitting there waiting for another agent to connect.
[00:23:58.240 --> 00:24:02.240]   And when the agent connects, it communicates with it.
[00:24:02.240 --> 00:24:05.240]   And you can see here the bench agent's running remotely.
[00:24:05.240 --> 00:24:10.240]   The reason I don't have verbose logs here is because it's remote.
[00:24:10.240 --> 00:24:12.240]   It's not under my control, right?
[00:24:12.240 --> 00:24:17.240]   So the A2A logs for that agent are actually on the EC2 server.
[00:24:17.240 --> 00:24:23.240]   Which kind of brings up another question about how do you debug when an A2A agent fails, right?
[00:24:23.240 --> 00:24:24.240]   Yeah.
[00:24:24.240 --> 00:24:30.240]   So then on the webhooks page, so this is the only webhook that's preconfigured.
[00:24:30.240 --> 00:24:37.240]   And this basically explains, you know, to the agent what it's actually going to do when this webhook arrives, right?
[00:24:37.240 --> 00:24:40.240]   And so it's going to process the incoming webhook.
[00:24:40.240 --> 00:24:43.240]   And we have a little prompt template here, right?
[00:24:43.240 --> 00:24:48.240]   So it tells it what the agent capabilities are, how to analyze it, right?
[00:24:48.240 --> 00:24:51.240]   And then we have the processor config, right?
[00:24:51.240 --> 00:24:58.240]   And this just kind of tells it, hey, these are the agents that you have access to as part of this webhook.
[00:24:58.240 --> 00:25:06.240]   And this will become important when you've got, say, 100 A2A agents and you only want, like, two of them to interact.
[00:25:06.240 --> 00:25:09.240]   And then here we have a test.
[00:25:09.240 --> 00:25:15.240]   And so this is just a fake transcript I generated with an LLM.
[00:25:15.240 --> 00:25:19.240]   And when we send the webhook, you can see here it's processing.
[00:25:19.240 --> 00:25:23.240]   And hopefully the demo gods will do me good here.
[00:25:23.240 --> 00:25:25.240]   And it does take a little bit of time, right?
[00:25:25.240 --> 00:25:31.240]   So the host agent has to process it, then it has to reach out to the sub-agents, you know, get all the information.
[00:25:31.240 --> 00:25:37.240]   And I think the bench agent probably takes the longest because it's actually doing its own sub-tasks as well.
[00:25:37.240 --> 00:25:40.240]   Okay, we've got a Slack message.
[00:25:40.240 --> 00:25:41.240]   That's a good sign.
[00:25:41.240 --> 00:25:45.240]   Okay, so Snowflake is interested in Slack and GitHub integrations.
[00:25:45.240 --> 00:25:47.240]   Very cool.
[00:25:47.240 --> 00:25:48.240]   We have the GitHub.
[00:25:48.240 --> 00:25:52.240]   So, I don't know why my mouse keeps freezing.
[00:25:52.240 --> 00:25:53.240]   There we go.
[00:25:53.240 --> 00:25:56.240]   Yeah, so we should have a GitHub issue.
[00:25:56.240 --> 00:25:59.240]   Here we go.
[00:25:59.240 --> 00:26:04.240]   Yeah, so during the trial, the AI misclassifies the severity of the bugs.
[00:26:04.240 --> 00:26:06.240]   Engineers need to investigate and fix the issue.
[00:26:06.240 --> 00:26:09.240]   All right, so it's a really simple use case.
[00:26:09.240 --> 00:26:13.240]   But you can imagine that that transcript is probably going to be ten times longer.
[00:26:13.240 --> 00:26:15.240]   You know, a lot more information in it.
[00:26:15.240 --> 00:26:17.240]   And it will just work, right?
[00:26:17.240 --> 00:26:20.240]   And then we also have the bench agent.
[00:26:20.240 --> 00:26:24.240]   So, oh, it looks like it's waiting for results.
[00:26:24.240 --> 00:26:26.240]   So, it's going to research the company.
[00:26:26.240 --> 00:26:30.240]   I think I did one before where it just returned a result.
[00:26:30.240 --> 00:26:31.240]   Let me see.
[00:26:31.240 --> 00:26:32.240]   Yeah.
[00:26:32.240 --> 00:26:38.240]   So, it basically goes off, does a research into Snowflake and all the participants of the call
[00:26:38.240 --> 00:26:40.240]   and returns that information.
[00:26:40.240 --> 00:26:45.240]   And this can kind of get as complex or as simple as you want it to be.
[00:26:45.240 --> 00:26:50.240]   And, yeah, so when you're using the application and you have it up and running,
[00:26:50.240 --> 00:26:53.240]   has anybody managed to get it up and running?
[00:26:53.240 --> 00:26:54.240]   Wow.
[00:26:54.240 --> 00:26:55.240]   Impressive.
[00:26:55.240 --> 00:26:56.240]   Yeah?
[00:26:56.240 --> 00:26:57.240]   Quick question, Mike.
[00:26:57.240 --> 00:27:02.240]   You're using bench agent to do the orchestration.
[00:27:02.240 --> 00:27:04.240]   That's why you're having it remote, right?
[00:27:04.240 --> 00:27:10.240]   No, so the bench agent is just, like, think of it as a third-party agent that we can leverage.
[00:27:10.240 --> 00:27:13.240]   So, the host agent is doing all the orchestration.
[00:27:13.240 --> 00:27:14.240]   Okay.
[00:27:14.240 --> 00:27:18.240]   So, like, what is the actual role that bench agent is playing?
[00:27:18.240 --> 00:27:19.240]   Like, what is it actually doing?
[00:27:19.240 --> 00:27:23.240]   It's doing research on companies and people.
[00:27:23.240 --> 00:27:26.240]   So, it's just another agent?
[00:27:26.240 --> 00:27:27.240]   Yeah.
[00:27:27.240 --> 00:27:31.240]   So, it's an agent with a load of different capabilities, and it's basically just...
[00:27:31.240 --> 00:27:32.240]   Okay.
[00:27:32.240 --> 00:27:33.240]   So, the orchestrator, is it local?
[00:27:33.240 --> 00:27:34.240]   That is local, right?
[00:27:34.240 --> 00:27:35.240]   Yeah.
[00:27:35.240 --> 00:27:38.240]   So, these three, host, Slack, and GitHub, are all local.
[00:27:38.240 --> 00:27:39.240]   Yeah.
[00:27:39.240 --> 00:27:40.240]   I was like...
[00:27:40.240 --> 00:27:41.240]   Exactly.
[00:27:41.240 --> 00:27:45.240]   I think I mistakenly thought the bench was doing orchestration, and I was like, why is it...
[00:27:45.240 --> 00:27:46.240]   Yeah.
[00:27:46.240 --> 00:27:47.240]   No, the bench is just a...
[00:27:47.240 --> 00:27:53.240]   Like, it's in the repo, but you need an API key for it, and we're launching in about two weeks,
[00:27:53.240 --> 00:27:57.240]   so, I just made it remote for the purposes of the demo.
[00:27:57.240 --> 00:27:59.240]   So, what about the host agent, though?
[00:27:59.240 --> 00:28:00.240]   Sorry?
[00:28:00.240 --> 00:28:03.240]   The host agent, is it the Zapier agent?
[00:28:03.240 --> 00:28:04.240]   No.
[00:28:04.240 --> 00:28:09.240]   So, all of these agents are A2A agents.
[00:28:09.240 --> 00:28:16.240]   The Slack agent and the GitHub agent have MCP tools to Slack and GitHub through Zapier.
[00:28:16.240 --> 00:28:17.240]   Yeah.
[00:28:17.240 --> 00:28:28.240]   I can actually show you a diagram that might explain it a bit better.
[00:28:28.240 --> 00:28:29.240]   Yeah.
[00:28:29.240 --> 00:28:31.240]   I don't know if that explains it better, but...
[00:28:31.240 --> 00:28:34.240]   But the orchestration does happen on your local, though.
[00:28:34.240 --> 00:28:35.240]   Yeah.
[00:28:35.240 --> 00:28:36.240]   Yeah.
[00:28:36.240 --> 00:28:37.240]   Everything's happening on my local.
[00:28:37.240 --> 00:28:42.240]   So, if I go into the code base, and I have the agent logs, and...
[00:28:42.240 --> 00:28:45.240]   So, this is all happening here, right?
[00:28:45.240 --> 00:28:46.240]   So, it's sent to Slack to...
[00:28:46.240 --> 00:28:47.240]   Or...
[00:28:47.240 --> 00:28:48.240]   Is that readable?
[00:28:48.240 --> 00:28:49.240]   I'll go get one more.
[00:28:49.240 --> 00:28:50.240]   One more.
[00:28:50.240 --> 00:28:51.240]   Yeah.
[00:28:51.240 --> 00:29:00.240]   So, you can see here the transcripts are...
[00:29:00.240 --> 00:29:06.240]   And then it got a response from each of the sub-agents and then completed them.
[00:29:06.240 --> 00:29:08.240]   And it did all of this in parallel as well, right?
[00:29:08.240 --> 00:29:09.240]   Sorry.
[00:29:09.240 --> 00:29:10.240]   Is that a question?
[00:29:10.240 --> 00:29:11.240]   Yes.
[00:29:11.240 --> 00:29:15.240]   So, in your example here, which agent would handle human confirmation?
[00:29:15.240 --> 00:29:16.240]   Let's say we want to have a great...
[00:29:16.240 --> 00:29:17.240]   Which agent would handle that part?
[00:29:17.240 --> 00:29:18.240]   Do you create a new agent for human confirmation?
[00:29:18.240 --> 00:29:19.240]   Do you keep the old one?
[00:29:19.240 --> 00:29:20.240]   Yes.
[00:29:20.240 --> 00:29:21.240]   You need a staging area for actions.
[00:29:21.240 --> 00:29:22.240]   So, it's not something I've built into this.
[00:29:22.240 --> 00:29:24.240]   And there's a lot more you could do here.
[00:29:24.240 --> 00:29:30.240]   But human confirmation would typically be done through like a draft, right?
[00:29:30.240 --> 00:29:37.240]   So, you would maybe pop up a Slack message with some actions.
[00:29:37.240 --> 00:29:37.240]   And then when somebody clicks that, it would communicate back, kind of like a secondary pass
[00:29:37.240 --> 00:29:38.240]   webhook.
[00:29:38.240 --> 00:29:39.240]   And you might need to persist, say, though.
[00:29:39.240 --> 00:29:40.240]   Yeah?
[00:29:40.240 --> 00:29:41.240]   Yeah.
[00:29:41.240 --> 00:29:47.240]   How do you consider the security of these end point controls of different vendors communicating
[00:29:47.240 --> 00:29:48.240]   from the end point?
[00:29:48.240 --> 00:29:49.240]   How do you manage the security?
[00:29:49.240 --> 00:29:50.240]   Yeah.
[00:29:50.240 --> 00:29:52.240]   So, as part of the A2A spec, you're going to have a link in the chat.
[00:29:52.240 --> 00:29:53.240]   So, you have a link in the chat.
[00:29:53.240 --> 00:29:54.240]   You have a link in the chat.
[00:29:54.240 --> 00:29:55.240]   So, you have a link in the chat.
[00:29:55.240 --> 00:29:56.240]   And then you have a link in the chat.
[00:29:56.240 --> 00:29:58.240]   And then you have a link in the chat.
[00:29:58.240 --> 00:29:59.240]   And then you have a link in the chat.
[00:29:59.240 --> 00:30:00.240]   And then you have a link in the chat.
[00:30:00.240 --> 00:30:01.240]   And then you have a link in the chat.
[00:30:01.240 --> 00:30:02.240]   And then you have a link in the chat.
[00:30:02.240 --> 00:30:03.240]   And then you have a link in the chat.
[00:30:03.240 --> 00:30:04.240]   And then you have a link in the chat.
[00:30:04.240 --> 00:30:05.240]   And then you have a link in the chat.
[00:30:05.240 --> 00:30:06.240]   And then you have a link in the chat.
[00:30:06.240 --> 00:30:07.240]   How do you manage the security?
[00:30:07.240 --> 00:30:08.240]   Yeah.
[00:30:08.240 --> 00:30:12.240]   So, as part of the A2A spec, you're going to have some sort of authentication.
[00:30:12.240 --> 00:30:13.240]   Right?
[00:30:13.240 --> 00:30:14.240]   I've just exposed everything.
[00:30:14.240 --> 00:30:15.240]   Right?
[00:30:15.240 --> 00:30:16.240]   Like, it won't exist tomorrow.
[00:30:16.240 --> 00:30:18.240]   So, there's no security implications.
[00:30:18.240 --> 00:30:24.240]   But essentially, you're going to probably have to have a subscription with the company that's
[00:30:24.240 --> 00:30:25.240]   providing that A2A agent.
[00:30:25.240 --> 00:30:27.240]   Because it is consuming tokens.
[00:30:27.240 --> 00:30:28.240]   Right?
[00:30:28.240 --> 00:30:29.240]   What authentication?
[00:30:29.240 --> 00:30:33.240]   I'm not sure exactly what A2A have in plan.
[00:30:33.240 --> 00:30:35.240]   It's still pretty early days.
[00:30:35.240 --> 00:30:38.240]   But with MCP, it's a little bit further ahead.
[00:30:38.240 --> 00:30:41.240]   It has OAuth, header authentication, things like that.
[00:30:41.240 --> 00:30:42.240]   So, imagine something similar.
[00:30:42.240 --> 00:30:45.240]   And how about CASA governance?
[00:30:45.240 --> 00:30:56.240]   Like LL firewall, all those benchmarking, auto benchmarking, and also the guardrails, et cetera.
[00:30:56.240 --> 00:30:59.240]   Do you have a separate agent or everything is being--
[00:30:59.240 --> 00:31:03.240]   You'd probably manage that on, like, an Amazon Bedrock or something like that.
[00:31:03.240 --> 00:31:04.240]   Right?
[00:31:04.240 --> 00:31:09.240]   And you would just, you know, use that guardrailed LLM from behind there.
[00:31:09.240 --> 00:31:12.240]   You don't have to use Gemini here either.
[00:31:12.240 --> 00:31:13.240]   Yeah?
[00:31:13.240 --> 00:31:18.240]   The idea of A2A is agent can communicate.
[00:31:18.240 --> 00:31:21.240]   So, like, you now have the host agent.
[00:31:21.240 --> 00:31:26.240]   And then that host agent is kind of like the planner and then talk to each.
[00:31:26.240 --> 00:31:32.240]   Do you see, like, A2A becoming, like, sub-agent talking to each other?
[00:31:32.240 --> 00:31:39.240]   I guess you could, but I don't know if that's the intention, right?
[00:31:39.240 --> 00:31:44.240]   Like, then they just become hosts, right, when they talk to each other.
[00:31:44.240 --> 00:31:54.240]   Like, if you think about it, like, if you have no knowledge of sub-agents, how would you know to talk to them, right?
[00:31:54.240 --> 00:32:00.240]   You would have to then become a host agent yourself, connect to that other sub-agent to do that.
[00:32:00.240 --> 00:32:06.240]   So, I don't know if that's intended in the A2A spec for sub-agents to communicate.
[00:32:06.240 --> 00:32:07.240]   Yeah?
[00:32:07.240 --> 00:32:11.240]   So, with the host agent and the orchestration that it's doing,
[00:32:11.240 --> 00:32:15.240]   is it actually managing a combination of all the context windows?
[00:32:15.240 --> 00:32:18.240]   Or, like, do you handle it quickly?
[00:32:18.240 --> 00:32:23.240]   Yeah, so all of the context windows, and this kind of is something I'm going to cover now in a second as well.
[00:32:23.240 --> 00:32:28.240]   Let me just go back to the slides.
[00:32:28.240 --> 00:32:32.240]   Which is a good, it's a good segue.
[00:32:32.240 --> 00:32:39.240]   So, yeah, one of the benefits of, like, A2A, or any sort of sub-agent framework,
[00:32:39.240 --> 00:32:45.240]   is that you're not consuming the tool results into your context, right?
[00:32:45.240 --> 00:32:50.240]   So, like, when you say, hey, you know, and I think of an example later on,
[00:32:50.240 --> 00:32:55.240]   and, but if you have a load of Slack messages or GitHub issues or Salesforce opportunities,
[00:32:55.240 --> 00:33:01.240]   and you want to analyze them and maybe produce, like, you know, a summary of categories and counts,
[00:33:01.240 --> 00:33:06.240]   and the only thing your host agent cares about is the summary of categories and accounts.
[00:33:06.240 --> 00:33:09.240]   it doesn't care about the, like, individual details, right?
[00:33:09.240 --> 00:33:11.240]   Because those have already been processed by the sub-agent.
[00:33:11.240 --> 00:33:17.240]   So, the sub-agent's context gets big, not very big, but, like, as big as the task demands,
[00:33:17.240 --> 00:33:23.240]   and the host agent only incrementally grows by the business value it got from that agent.
[00:33:23.240 --> 00:33:28.240]   And, like, one of the challenges at Bench is, you know, we have so many tools, right?
[00:33:28.240 --> 00:33:31.240]   Like, the context can blow up very quick.
[00:33:31.240 --> 00:33:35.240]   And so, you know, very early on we decided, okay, we need to have composability.
[00:33:35.240 --> 00:33:42.240]   And so that means that Bench can create its own internal bench agent to avoid that context growth problem.
[00:33:42.240 --> 00:33:45.240]   And we're even thinking of going one step further, whereas, like, you know,
[00:33:45.240 --> 00:33:53.240]   should we have an agent for every single tool so that every single tool is protected from the primary prompt?
[00:33:53.240 --> 00:33:58.240]   And so, you know, as you add more tools, like, the tool definitions themselves,
[00:33:58.240 --> 00:34:03.240]   I think we're up to, like, you know, 10,000 tokens just for tool definitions alone.
[00:34:03.240 --> 00:34:07.240]   I added the Asana MCP. It added 11,000 more tokens.
[00:34:07.240 --> 00:34:13.240]   So, like, you know, a lot of these MCP servers, like, they're, you know, they're giving you a lot of information,
[00:34:13.240 --> 00:34:15.240]   and you may not actually want that.
[00:34:15.240 --> 00:34:21.240]   And that's actually one of the challenges with first-party MCPs is they expose all their tools.
[00:34:21.240 --> 00:34:26.240]   And that's one of the benefits of Zapier, where you can pick and choose which tool you want to use.
[00:34:26.240 --> 00:34:27.240]   Yeah?
[00:34:27.240 --> 00:34:30.240]   Why do we need Zapier?
[00:34:30.240 --> 00:34:36.240]   Zapier is just a really easy way to use MCP right now.
[00:34:36.240 --> 00:34:50.240]   I think, like, Linear, Asana, a few others have added, like, first-party MCP servers that are much better than what Zapier exposes.
[00:34:50.240 --> 00:34:53.240]   Yeah, so why does context size matter?
[00:34:53.240 --> 00:35:05.240]   So, AI agents accumulate context, like, as they work, and you're supposed to keep, like, all of your tool calls, right, what you sent to the tool and what you got back.
[00:35:05.240 --> 00:35:12.240]   You're supposed to keep that in your context so that later on, if you, you know, ask a follow-up question, it still has access to that data.
[00:35:12.240 --> 00:35:15.240]   And that becomes very challenging, right?
[00:35:15.240 --> 00:35:17.240]   So, you've kind of got two options.
[00:35:17.240 --> 00:35:22.240]   It's like, okay, do I just prune, you know, old tool calls and now the agent gets dumb?
[00:35:22.240 --> 00:35:24.240]   Or, you know, do I figure out some other way to do it?
[00:35:24.240 --> 00:35:30.240]   And cost is a big challenge, especially when you're doing prompt caching.
[00:35:30.240 --> 00:35:45.240]   So, with prompt caching, it enables you to essentially put a marker in your context and say, hey, look, when I make my next request, I want everything in my context so far to be cached so that I'm not going to get charged for it.
[00:35:45.240 --> 00:35:53.240]   But the cost to actually push that into the cache is about 3x the cost of making a single request with that context.
[00:35:53.240 --> 00:35:59.240]   So, that means that you have to be very, you know, diligent in what sort of context management strategies you use.
[00:35:59.240 --> 00:36:08.240]   And, you know, I was running simulations because I couldn't really figure out, like, what is the optimal, you know, caching strategy.
[00:36:08.240 --> 00:36:14.240]   So, I ran simulations based on usage data of, like, you know, what's the typical context growth?
[00:36:14.240 --> 00:36:16.240]   How many turns, you know, on average?
[00:36:16.240 --> 00:36:20.240]   Like, what percentage of users only send one turn, right?
[00:36:20.240 --> 00:36:24.240]   Should we cache that one turn if they never ask another question, right?
[00:36:24.240 --> 00:36:25.240]   Probably not.
[00:36:25.240 --> 00:36:29.240]   So, you know, it probably gets down to the actual user level.
[00:36:29.240 --> 00:36:37.240]   So, if you have a user that always, like, puts in new prompts into the same chat and never opens a new session,
[00:36:37.240 --> 00:36:41.240]   you're probably going to want to, you know, continuously cache their context.
[00:36:41.240 --> 00:36:45.240]   But you might have another user who always creates a new session for every question.
[00:36:45.240 --> 00:36:50.240]   And then just figuring out, like, you know, what is the context growth?
[00:36:50.240 --> 00:36:57.240]   I think we figured out it was around 30,000 tokens was the optimal kind of across the board for everybody.
[00:36:57.240 --> 00:37:00.240]   But that also comes up with false positives.
[00:37:00.240 --> 00:37:05.240]   So, sometimes you can end up caching the last turn of a conversation.
[00:37:05.240 --> 00:37:12.240]   And that's going to, you know, cost you a lot more than it should naturally.
[00:37:12.240 --> 00:37:14.240]   Yeah, so, the great thing about the sub-agents, right?
[00:37:14.240 --> 00:37:15.240]   It protects them.
[00:37:15.240 --> 00:37:18.240]   And this was the GitHub kind of example I was giving you.
[00:37:18.240 --> 00:37:21.240]   But this applies to pretty much every tool.
[00:37:21.240 --> 00:37:26.240]   So, like, if you're ever integrating with a system, you're probably going to run into issues like,
[00:37:26.240 --> 00:37:34.240]   why do I have to call, you know, list Slack channels every time to get the channel ID for the channel name that was provided, right?
[00:37:34.240 --> 00:37:39.240]   Because, like, nobody's going to provide, like, in a chat the channel ID that they want to post, right?
[00:37:39.240 --> 00:37:40.240]   It's a UID.
[00:37:40.240 --> 00:37:41.240]   It's not memorable.
[00:37:41.240 --> 00:37:46.240]   So, then you get into the question of, okay, well, do I just cache the list of channels?
[00:37:46.240 --> 00:37:49.240]   And when do I update that list of channels, right?
[00:37:49.240 --> 00:37:54.240]   Like, what if the channel was deleted, renamed, or a new channel was added?
[00:37:54.240 --> 00:38:00.240]   Yeah, and then the cost is really probably the biggest one.
[00:38:00.240 --> 00:38:03.240]   Yeah, so, the benefits of this lean context, right?
[00:38:03.240 --> 00:38:06.240]   So, your sub-agents have that isolated context.
[00:38:06.240 --> 00:38:14.240]   And that really just allows you to be super, like, fast, low latency, low cost.
[00:38:14.240 --> 00:38:23.240]   And if you ever need to go back to ask another question, you know, you're going to, like, spawn that process again, right?
[00:38:23.240 --> 00:38:35.240]   So, maybe if you're in control of these other agents, you might want to have some sort of, like, I don't know, five-minute TTL on previous questions, right?
[00:38:35.240 --> 00:38:43.240]   And then, yeah, the host agent only processes the summaries, and the raw data is discarded after processing.
[00:38:43.240 --> 00:38:48.240]   Yeah, so, I'm going to jump back into the code here.
[00:38:48.240 --> 00:39:00.240]   So, just kind of walk you through how it all works.
[00:39:00.240 --> 00:39:01.240]   All right.
[00:39:01.240 --> 00:39:02.240]   We'll start with the host agent.
[00:39:02.240 --> 00:39:04.240]   And you notice a few other things, right?
[00:39:04.240 --> 00:39:05.240]   So, there's MCP.
[00:39:05.240 --> 00:39:07.240]   This is just your standard.
[00:39:07.240 --> 00:39:09.240]   Sorry?
[00:39:09.240 --> 00:39:13.240]   Oh, I thought someone said something.
[00:39:13.240 --> 00:39:14.240]   Yeah.
[00:39:14.240 --> 00:39:18.240]   So, this is kind of your standard MCP client code.
[00:39:18.240 --> 00:39:24.240]   And it just allows you to consume the MCP calls coming from the LLM.
[00:39:24.240 --> 00:39:26.240]   And we have the GitHub, right?
[00:39:26.240 --> 00:39:30.240]   So, this is going to be what it sends to that Zapier endpoint.
[00:39:30.240 --> 00:39:33.240]   And it's going to call GitHub create issue.
[00:39:33.240 --> 00:39:37.240]   And then the Slack agent is going to do send Slack channel message.
[00:39:37.240 --> 00:39:46.240]   So, these are just kind of, like, the MCP client tools that the individual agents will use.
[00:39:46.240 --> 00:39:47.240]   Yeah.
[00:39:47.240 --> 00:39:54.240]   So, this GenKit, this is based on what they provide in their sample repo.
[00:39:54.240 --> 00:39:57.240]   So, you can use a different model if you want, right?
[00:39:57.240 --> 00:40:00.240]   You can change, you know, the settings on it.
[00:40:00.240 --> 00:40:05.240]   But this essentially spawns you a new instance of what's going to communicate.
[00:40:05.240 --> 00:40:08.240]   And this just loads the system prompt.
[00:40:08.240 --> 00:40:10.240]   I can open up the system prompt here.
[00:40:10.240 --> 00:40:13.240]   And so, right, it's got a critical workflow.
[00:40:13.240 --> 00:40:15.240]   It's going to do these things in this order.
[00:40:15.240 --> 00:40:18.240]   It's got a few steps, you know, discovery.
[00:40:18.240 --> 00:40:20.240]   And this is actually something I noticed.
[00:40:20.240 --> 00:40:25.240]   Like, if you don't tell the A2A agent to call list remote agents, it just won't, right?
[00:40:25.240 --> 00:40:28.240]   And it will try to answer everything on itself.
[00:40:28.240 --> 00:40:32.240]   You know, it can very easily fake sending a Slack channel message and be like,
[00:40:32.240 --> 00:40:33.240]   "Oh, I just sent it for you."
[00:40:33.240 --> 00:40:35.240]   And I say, "No, you didn't."
[00:40:35.240 --> 00:40:39.240]   You know, one of the things I've noticed using Cursor is, like,
[00:40:39.240 --> 00:40:43.240]   every time I catch it doing something wrong, it says, "You're absolutely right."
[00:40:43.240 --> 00:40:50.240]   I even tried to prompt that out of it.
[00:40:50.240 --> 00:40:54.240]   And it's not promptable to get it to not say that.
[00:40:54.240 --> 00:40:55.240]   Cool, yeah.
[00:40:55.240 --> 00:40:58.240]   And then the index, so this is actually where the agent card is.
[00:40:58.240 --> 00:41:00.240]   It's a little bit long.
[00:41:00.240 --> 00:41:02.240]   Let me see.
[00:41:02.240 --> 00:41:05.240]   I think it's up here near the start.
[00:41:05.240 --> 00:41:17.240]   There we go.
[00:41:17.240 --> 00:41:20.240]   That was line 1,200, so not near the start at all.
[00:41:20.240 --> 00:41:26.240]   Yeah, so this is what the host agent exposes if somebody else wanted to call it.
[00:41:26.240 --> 00:41:30.240]   So it has these abilities to list remote agents and send tasks.
[00:41:30.240 --> 00:41:35.240]   And then if we compare that to the GitHub, which is a lot smaller.
[00:41:35.240 --> 00:41:43.240]   There we go.
[00:41:43.240 --> 00:41:46.240]   Yeah, so the GitHub agent can create GitHub issues, right?
[00:41:46.240 --> 00:41:53.240]   It's got the ability to do various things, and it has a list of skills.
[00:41:53.240 --> 00:41:58.240]   And this is all that the host agent really knows about this agent.
[00:41:58.240 --> 00:42:04.240]   So you could imagine how big this might get if you were to, you know, implement every single API that, say,
[00:42:04.240 --> 00:42:06.240]   Salesforce has or something like that.
[00:42:06.240 --> 00:42:14.240]   And in a lot of cases, at least with Salesforce, rather than implementing, you know, wrappers around the APIs,
[00:42:14.240 --> 00:42:21.240]   you're probably just going to want to use, like, the SQL or the so-called directly and let the agent actually write the queries.
[00:42:21.240 --> 00:42:26.240]   There's a lot of flexibility when you have, you know, direct database access, essentially.
[00:42:26.240 --> 00:42:33.240]   Because the LLM can, you know, bypass, you know, the API layer and just go directly to the database.
[00:42:33.240 --> 00:42:39.240]   And then the GitHub agent prompt, right, so it's got some things.
[00:42:39.240 --> 00:42:46.240]   This is something I had to add because it insisted on mentioning who submitted the bug report, right?
[00:42:46.240 --> 00:42:54.240]   So there's definitely concerns around, you know, PII leaking from your, you know, internal meeting transcripts and ending up in GitHub, right?
[00:42:54.240 --> 00:43:02.240]   And that kind of goes back to your question about, you know, how do you audit what's coming out of these LLMs, right?
[00:43:02.240 --> 00:43:06.240]   And you can do that in a number of ways, but it wouldn't be a part of the A2A spec.
[00:43:06.240 --> 00:43:11.240]   I think it would just be the LLM you connect to has those guardrails in front of it,
[00:43:11.240 --> 00:43:15.240]   and you're just using that LLM that has the guardrails.
[00:43:15.240 --> 00:43:29.240]   Similar, Slack has a very simple agent card that I can't seem to find.
[00:43:29.240 --> 00:43:36.240]   And then if we jump over now to the host config,
[00:43:36.240 --> 00:43:41.240]   so this is essentially what configures the webhook, right?
[00:43:41.240 --> 00:43:46.240]   So the webhook has essentially a config that tells it, like, what it's doing,
[00:43:46.240 --> 00:43:48.240]   and you can see that in the UI as well.
[00:43:48.240 --> 00:43:53.240]   And then within the A2A folder, we've got the client and the server.
[00:43:53.240 --> 00:43:58.240]   Again, these are just pulled directly from the A2A repo.
[00:43:58.240 --> 00:44:04.240]   I don't think they've actually exposed types or packages yet, which is kind of confusing.
[00:44:04.240 --> 00:44:07.240]   But essentially you can bring that stuff in there.
[00:44:07.240 --> 00:44:10.240]   And then the webhook server.
[00:44:10.240 --> 00:44:12.240]   So this is just a web UI.
[00:44:12.240 --> 00:44:15.240]   Initially I had this whole thing done through the CLI.
[00:44:15.240 --> 00:44:20.240]   And, you know, coding with, you know, tools like cursor or augment code.
[00:44:20.240 --> 00:44:25.240]   And CLIs are way easier for AIs to actually write, right?
[00:44:25.240 --> 00:44:28.240]   They're going to be able to test it, interact with it much better,
[00:44:28.240 --> 00:44:31.240]   and be able to produce those outputs.
[00:44:31.240 --> 00:44:35.240]   Awesome.
[00:44:35.240 --> 00:44:38.240]   So yeah, I'm going to shift over to kind of Q&A now.
[00:44:38.240 --> 00:44:39.240]   So yeah.
[00:44:39.240 --> 00:44:40.240]   Anybody?
[00:44:40.240 --> 00:44:41.240]   Any questions?
[00:44:41.240 --> 00:44:42.240]   Yeah?
[00:44:42.240 --> 00:44:45.240]   So I want to talk evals for a second.
[00:44:45.240 --> 00:44:46.240]   Mm-hmm.
[00:44:46.240 --> 00:44:49.240]   So like, I assume that you manage, or I don't know.
[00:44:49.240 --> 00:44:51.240]   I mean, you manage them probably at the agent level.
[00:44:51.240 --> 00:44:57.240]   Is there any type of, like, distributed eval that you bring when you're, like, dealing with A and A?
[00:44:57.240 --> 00:45:03.240]   Yeah, I haven't done much evals on A to A.
[00:45:03.240 --> 00:45:06.240]   I still think A to A is a bit too early to go into production.
[00:45:06.240 --> 00:45:10.240]   Like, even MCP is kind of borderline.
[00:45:10.240 --> 00:45:14.240]   Like, there's a lot of rough edges.
[00:45:14.240 --> 00:45:21.240]   I think you can achieve, like, much better things if you're in complete control of everything.
[00:45:21.240 --> 00:45:26.240]   You can achieve much better results, you know, with your own local function calls.
[00:45:26.240 --> 00:45:27.240]   Yeah?
[00:45:27.240 --> 00:45:32.240]   Is there any reason you use TypeScript instead of Python?
[00:45:32.240 --> 00:45:33.240]   Yeah, you can use any language.
[00:45:33.240 --> 00:45:37.240]   I think, actually, the A to A framework is better in Python.
[00:45:37.240 --> 00:45:40.240]   I just prefer TypeScript myself.
[00:45:40.240 --> 00:45:43.240]   Yeah?
[00:45:43.240 --> 00:45:45.240]   Can you tell more about the caching?
[00:45:45.240 --> 00:45:49.240]   Is caching provided by the modern providers, or can we implement our own caching?
[00:45:49.240 --> 00:45:51.240]   Yeah, so you implement your own caching.
[00:45:51.240 --> 00:45:57.240]   So you decide, you know, when to move that cache marker, how to manage it.
[00:45:57.240 --> 00:46:04.240]   It can be tricky, and I don't think there's very good information available online on what the best strategies are.
[00:46:04.240 --> 00:46:13.240]   When I was doing the simulations, I used, like, linear growth, exponential growth, you know, fixed size, and kind of compared them all.
[00:46:13.240 --> 00:46:17.240]   They all worked out between 25% and 35% cost savings.
[00:46:17.240 --> 00:46:29.240]   But, like, in practice, what you'll find is you're going to have outliers where, you know, the cost of a session kind of balloons because of, you know, you cashed at the wrong point.
[00:46:29.240 --> 00:46:30.240]   Yeah?
[00:46:30.240 --> 00:46:37.240]   So each of the A to A agents can be talking to their own, like, find the own LLM, right?
[00:46:37.240 --> 00:46:39.240]   Like, they have their own LLM with their own.
[00:46:39.240 --> 00:46:41.240]   There's not a central LLM that they refer to, right?
[00:46:41.240 --> 00:46:42.240]   Yeah, yeah.
[00:46:42.240 --> 00:46:49.240]   So they all have their own, which is kind of in contrast to MCP, where the MCP wants to use your LLM, right?
[00:46:49.240 --> 00:46:51.240]   Because it doesn't want to generate its own tokens.
[00:46:51.240 --> 00:46:52.240]   So, yeah?
[00:46:52.240 --> 00:47:08.240]   Yeah, so there's a couple of different ways.
[00:47:08.240 --> 00:47:14.240]   So, within the authentication, you can have headers that do the authentication.
[00:47:14.240 --> 00:47:20.240]   I believe if you drop in an OAuth URL, you'll also get an OAuth popup.
[00:47:20.240 --> 00:47:26.240]   And I really like the OAuth authentication because you're getting the user's, you know, ACL, right?
[00:47:26.240 --> 00:47:31.240]   And that means that, you know, what that user can access is specific to them.
[00:47:31.240 --> 00:47:34.240]   And it's not implicitly MCP or a agent.
[00:47:34.240 --> 00:47:36.240]   You have to do that.
[00:47:36.240 --> 00:47:37.240]   That's what you need.
[00:47:37.240 --> 00:47:45.240]   Yeah, so it's going to be dictated by the remote server, so either A to A or MCP.
[00:47:45.240 --> 00:47:48.240]   If you're running your own, you can choose what you want to run.
[00:47:48.240 --> 00:47:50.240]   There's different transport types as well.
[00:47:50.240 --> 00:47:53.240]   So, standard I/O is something that you would use locally.
[00:47:53.240 --> 00:47:57.240]   So, like, imagine you wanted to create, like, a file on your desktop.
[00:47:57.240 --> 00:48:01.240]   You're going to use standard I/O typically to interact with local.
[00:48:01.240 --> 00:48:07.240]   And then SSE was server-side events that got deprecated in favor of streamable HTTP.
[00:48:07.240 --> 00:48:08.240]   So, sorry, sorry.
[00:48:08.240 --> 00:48:14.240]   So, for example, like, if we are interacting with our sales force agency, let's say, and
[00:48:14.240 --> 00:48:23.240]   each user has different authorization, for example, which employee A probably have access to the
[00:48:23.240 --> 00:48:24.240]   some sort of tables.
[00:48:24.240 --> 00:48:26.240]   Employee B has different access control, right?
[00:48:26.240 --> 00:48:34.240]   In that case, is that done by the framework is done, or do we have to deal with it?
[00:48:34.240 --> 00:48:39.240]   Yeah, that will typically be handled through an OAuth MCP server, right?
[00:48:39.240 --> 00:48:45.240]   So, they're going to essentially log in as themselves as part of the connection, and then they're
[00:48:45.240 --> 00:48:48.240]   going to save that refresh token for later use.
[00:48:48.240 --> 00:48:49.240]   Yeah.
[00:48:49.240 --> 00:48:55.240]   How would you describe the performance for security especially?
[00:48:55.240 --> 00:48:58.240]   You explained very well about go authentication, et cetera.
[00:48:58.240 --> 00:49:06.240]   But I'm looking for more explanation towards encryption, asymmetric encryption, and also there
[00:49:06.240 --> 00:49:12.240]   is a possibility of certificate management, and all the way to the end of the internet architecture.
[00:49:12.240 --> 00:49:19.240]   So, how would you describe the performance, and let's see, I'm looking for some financial
[00:49:19.240 --> 00:49:20.240]   application.
[00:49:20.240 --> 00:49:23.240]   This architecture, what you have described, is pretty good.
[00:49:23.240 --> 00:49:32.240]   But similar on the financial applications, as well as some department of defense, some kind
[00:49:32.240 --> 00:49:40.240]   of applications, highly, highly secured environment, where it's all both combination of asymmetric
[00:49:40.240 --> 00:49:41.240]   and symmetric.
[00:49:41.240 --> 00:49:46.240]   Yeah, you're probably going to want to run, like, the LLM yourself, and you're more than
[00:49:46.240 --> 00:49:51.240]   likely not going to want to interact with anybody outside your VPC, right, in those cases.
[00:49:51.240 --> 00:49:58.240]   I don't know if you would want to consume a third-party MCP server or A2A agent in a highly
[00:49:58.240 --> 00:49:59.240]   regulated environment, right?
[00:49:59.240 --> 00:50:02.240]   Like, you know, HIPAA compliance, financial stuff.
[00:50:02.240 --> 00:50:06.240]   And if you do have the ability to do that, right, you're going to have some sort of agreement
[00:50:06.240 --> 00:50:09.240]   with the service provider that provides those tools.
[00:50:09.240 --> 00:50:14.240]   And you're going to, you know, do transport over HTTPS, you're going to have maybe mutual
[00:50:14.240 --> 00:50:19.240]   TLS, both on the A2A agent and the remote agent.
[00:50:19.240 --> 00:50:23.240]   And similar with the MCP server, you're probably going to have some sort of IP whitelisting, right?
[00:50:23.240 --> 00:50:25.240]   Like, there's a ton of things you can do around that.
[00:50:25.240 --> 00:50:29.240]   I think they're out of scope of the actual protocols themselves.
[00:50:29.240 --> 00:50:33.240]   Because, you know, essentially you're over an encrypted line, but typically there's more
[00:50:33.240 --> 00:50:35.240]   to it than just that, right?
[00:50:35.240 --> 00:50:42.240]   So you're playing around the endpoint controls on this and that's really scary when dealing
[00:50:42.240 --> 00:50:44.240]   with the .
[00:50:44.240 --> 00:50:45.240]   Yeah.
[00:50:45.240 --> 00:50:46.240]   Yeah.
[00:50:46.240 --> 00:50:50.240]   And, like, if these are your own internal MCP servers and your own internal A2A agents,
[00:50:50.240 --> 00:50:56.240]   maybe from different parts of the organization, you know, they'll all live inside your VPC
[00:50:56.240 --> 00:50:59.240]   and they're probably never going to talk to the public internet.
[00:50:59.240 --> 00:51:08.240]   So the solution -- the answer I get from you is stay with this VPC and stay away from -- in
[00:51:08.240 --> 00:51:16.240]   that case, stay away from endpoint security, which means stay away from MCP or A2A.
[00:51:16.240 --> 00:51:19.240]   It's -- so these are just protocols.
[00:51:19.240 --> 00:51:25.240]   It's really up to you whether you want to connect to an external third party and that's going to
[00:51:25.240 --> 00:51:27.240]   be your own security posture.
[00:51:27.240 --> 00:51:30.240]   It's not really going to be defined by the protocol itself.
[00:51:30.240 --> 00:51:31.240]   Yeah.
[00:51:31.240 --> 00:51:34.240]   Keep them away from the subnet or bring them inside the subnet.
[00:51:34.240 --> 00:51:36.240]   Which one would you prefer?
[00:51:36.240 --> 00:51:39.240]   I would liken it to, like, I found a USB cable.
[00:51:39.240 --> 00:51:42.240]   Will I plug it into my laptop, right?
[00:51:42.240 --> 00:51:45.240]   So the USB, it's not its fault, right?
[00:51:45.240 --> 00:51:48.240]   Like, the USB is just a standard.
[00:51:48.240 --> 00:51:52.240]   It's what that USB is connected to is the risk, right?
[00:51:52.240 --> 00:51:57.240]   So, like, if you're willing to find a dongle on the street and plug it in, you know, that -- that's
[00:51:57.240 --> 00:51:59.240]   really going to be your security posture, right?
[00:51:59.240 --> 00:52:00.240]   Yeah?
[00:52:00.240 --> 00:52:01.240]   Okay.
[00:52:01.240 --> 00:52:05.240]   So, how much heavy lifting do you have the orchestrator do?
[00:52:05.240 --> 00:52:11.240]   Like, do you ever hit the scenarios where you have the orchestrator interprets the response
[00:52:11.240 --> 00:52:16.240]   from a subagent and then maybe does a retry with a better prompt?
[00:52:16.240 --> 00:52:17.240]   Yeah.
[00:52:17.240 --> 00:52:25.240]   So, one of the things, and I kind of prompted it out of this workshop just to keep it simple,
[00:52:25.240 --> 00:52:30.240]   is, like, the bench agent wants to have a conversation with the host agent.
[00:52:30.240 --> 00:52:35.240]   But I didn't want to kind of implement that back and forth because it was going to delay
[00:52:35.240 --> 00:52:37.240]   the webhook processing.
[00:52:37.240 --> 00:52:40.240]   But you can have backs and forth between the agents.
[00:52:40.240 --> 00:52:43.240]   And it's probably desirable as well, right?
[00:52:43.240 --> 00:52:48.240]   Like, if for whatever reason the host agent doesn't give sufficient information, you know,
[00:52:48.240 --> 00:52:52.240]   the remote agent is going to be like, okay, you know, I know you want to update an opportunity,
[00:52:52.240 --> 00:52:55.240]   but you didn't tell me which opportunity, right?
[00:52:55.240 --> 00:52:56.240]   Yeah.
[00:52:56.240 --> 00:53:01.240]   I mean, I could even see scenarios where you have an expensive LLM that you have on reserve
[00:53:01.240 --> 00:53:05.240]   that you go to when the cheaper LLM agents are giving you what you want.
[00:53:05.240 --> 00:53:07.240]   Like, I'm sorry, I'm just thinking through stuff.
[00:53:07.240 --> 00:53:08.240]   Mm-hmm.
[00:53:08.240 --> 00:53:14.240]   Yeah, and I think, like, LLM cost and capability is a big challenge with a lot of these things
[00:53:14.240 --> 00:53:20.240]   because, you know, if you're running, say, Cloud4 or Opus and somebody, for whatever reason,
[00:53:20.240 --> 00:53:25.240]   asks you to summarize, like, you know, five sentences, it's going to cost you a fortune,
[00:53:25.240 --> 00:53:26.240]   right?
[00:53:26.240 --> 00:53:31.240]   So you need intelligent routing logic on, like, does this task need the entire context, right?
[00:53:31.240 --> 00:53:37.240]   Does it need 20,000 tokens of a system prompt to summarize, you know, a short bit of text?
[00:53:37.240 --> 00:53:44.240]   And that's one of the challenges that you'll run into where you kind of need, like, a routing
[00:53:44.240 --> 00:53:49.240]   LLM in front of these complex agents so that they can actually figure out, you know, how deep
[00:53:49.240 --> 00:53:50.240]   do I go?
[00:53:50.240 --> 00:53:51.240]   Yeah?
[00:53:51.240 --> 00:53:56.240]   Similar to the routing orchestration question, I was wondering, like, if you wanted to post
[00:53:56.240 --> 00:54:01.240]   a Slack message that linked the GitHub issue created, for example, things you'd probably
[00:54:01.240 --> 00:54:05.240]   prefer from your architecture to go back through the host to make that decision rather than let
[00:54:05.240 --> 00:54:08.240]   the GitHub agent directly communicate with the Slack agent?
[00:54:08.240 --> 00:54:12.240]   Yeah, so the host agent wouldn't run the calls in parallel, right?
[00:54:12.240 --> 00:54:16.240]   So there's actually a flag whether you want it to go in parallel or not.
[00:54:16.240 --> 00:54:21.240]   So it would have to say, oh, I need to create the GitHub issue first before I talk to the
[00:54:21.240 --> 00:54:22.240]   Slack agent, right?
[00:54:22.240 --> 00:54:23.240]   Since I need that URL.
[00:54:23.240 --> 00:54:28.240]   But in general, you'd prefer to have those decisions go through the host rather than even
[00:54:28.240 --> 00:54:30.240]   allow the GitHub and the Slack agent?
[00:54:30.240 --> 00:54:31.240]   Yeah, absolutely.
[00:54:31.240 --> 00:54:32.240]   Yeah.
[00:54:32.240 --> 00:54:33.240]   Yeah?
[00:54:33.240 --> 00:54:40.240]   I want to ask that the context for the sub-agents, that is entirely happening through prompt engineering,
[00:54:40.240 --> 00:54:45.240]   or are there other frameworks to, like, slash different things that will be going to different
[00:54:45.240 --> 00:54:46.240]   sub-agents?
[00:54:46.240 --> 00:54:50.240]   Yeah, so typically context management is going to be implemented in your own codebase.
[00:54:50.240 --> 00:54:55.240]   The sub-agent's context management is more than likely going to be a third-party's codebase.
[00:54:55.240 --> 00:54:59.240]   If it's one of your own agents, right, you can manage it as well there.
[00:54:59.240 --> 00:55:05.240]   But, yeah, you're going to want to figure out, like, what's optimal for your actual, like,
[00:55:05.240 --> 00:55:06.240]   production usage.
[00:55:06.240 --> 00:55:07.240]   Yeah.
[00:55:07.240 --> 00:55:14.240]   But so you will be using prompts in the host agent to kind of guide what context to send
[00:55:14.240 --> 00:55:15.240]   to each sub-agent, right?
[00:55:15.240 --> 00:55:16.240]   Yeah, yeah.
[00:55:16.240 --> 00:55:20.240]   So what you send is typically, like, a question or a task.
[00:55:20.240 --> 00:55:21.240]   Yeah.
[00:55:21.240 --> 00:55:22.240]   It's usually very small, right?
[00:55:22.240 --> 00:55:29.240]   Like, you don't send the full meeting transcript to the Slack agent to do what it's doing.
[00:55:29.240 --> 00:55:34.240]   The host agent processes the transcript and then decides what the tasks are.
[00:55:34.240 --> 00:55:39.240]   So, like, if I look down here, and actually I think I can see it in the dashboard.
[00:55:39.240 --> 00:55:46.240]   Yeah, so this is actually what the host agent sent to the GitHub agent, right?
[00:55:46.240 --> 00:55:52.240]   It says create an issue in this repo, title this, you know, with this description and title.
[00:55:52.240 --> 00:55:58.240]   And then the GitHub agent, its task is to extract three bits of information, right?
[00:55:58.240 --> 00:56:03.240]   So what's the instructions to give the MCP server, what's the body, and what's the title?
[00:56:03.240 --> 00:56:04.240]   Yeah.
[00:56:04.240 --> 00:56:13.240]   So there's MCP, and there's the dynamic request context, part of which we want to send across
[00:56:13.240 --> 00:56:15.240]   the computers for each and every request.
[00:56:15.240 --> 00:56:22.240]   So whatever you showed earlier, that's pretty much the servers understand what client connects to.
[00:56:22.240 --> 00:56:40.240]   Yeah, so Zapier, the SSE implementation doesn't actually require headers.
[00:56:40.240 --> 00:56:45.240]   I think these are just left over from something else.
[00:56:45.240 --> 00:56:52.240]   So there's actually no authentication, and the URL itself is kind of like a secret key, right?
[00:56:52.240 --> 00:56:58.240]   So, like, if I disconnect and reconnect without the headers, I should be able to, yeah.
[00:56:58.240 --> 00:57:01.240]   So I can still query it.
[00:57:01.240 --> 00:57:07.240]   They've moved away from this approach right now with more secure kind of setups, and you'll notice
[00:57:07.240 --> 00:57:08.240]   in their thing, right?
[00:57:08.240 --> 00:57:15.240]   They've kind of deprecated that and, you know, treat this URL like a password, right?
[00:57:15.240 --> 00:57:16.240]   Yeah?
[00:57:16.240 --> 00:57:25.240]   What's your experience in using different LLMs for these Argentine workflows, like, for example,
[00:57:25.240 --> 00:57:32.240]   HiPoo, Sonnet, Gemini, and also did you use any samples for this kind of workflows?
[00:57:32.240 --> 00:57:44.240]   Yeah, so we typically lean towards Gemini for large context and Claude Sonnet 4 for tool calling.
[00:57:44.240 --> 00:57:49.240]   Claude Opus is better, but it's not, like, 4x better.
[00:57:49.240 --> 00:57:55.240]   You know, and when you compare price to performance, right, like, you know, 5% better doesn't equate
[00:57:55.240 --> 00:57:56.240]   to 4x to cost.
[00:57:56.240 --> 00:57:59.240]   Are you talking about Gemini Flash or Pro?
[00:57:59.240 --> 00:58:04.240]   Yeah, so we'll use Gemini Flash for simple things like summarization, right?
[00:58:04.240 --> 00:58:10.240]   You could use Claude Haiku as well, but I think, I think Google's kind of taken the lead in price
[00:58:10.240 --> 00:58:16.240]   performance, you know, from an economic standpoint, but Claude is still the kind of king of tools.
[00:58:16.240 --> 00:58:20.240]   They created MCP, so they kind of had a head start, right?
[00:58:20.240 --> 00:58:23.240]   What about the sub-most collapse?
[00:58:23.240 --> 00:58:28.240]   Yeah, we have DeepSeek hosted in the US, so we've been trying that out.
[00:58:28.240 --> 00:58:36.240]   I think Llama has kind of fallen by the wayside a little bit, and, yeah, DeepSeek is just, you know, the clear winner right now.
[00:58:36.240 --> 00:58:42.240]   They also released a new version there, I think, under 28, and that's kind of up there with O3 level models.
[00:58:42.240 --> 00:58:47.240]   We actually don't use reasoning models for our agents.
[00:58:47.240 --> 00:58:55.240]   A lot of the time when you're building, you know, agentic agents, a reasoning model isn't really needed.
[00:58:55.240 --> 00:59:11.240]   Like, unless you want to, you know, pay a fortune for some long ticking task, you know, we can achieve kind of that reasoning level with just the standard models and browse and a few other tools.
[00:59:11.240 --> 00:59:12.240]   Yeah?
[00:59:12.240 --> 00:59:35.240]   So, like, we're A to A and, like, you know, all the third party things that we've, like, assumed that, like, if Stripe has an agent with agent cards with Amazon and stuff, do you pass instructions for, like, what, like, exactly what you want back in terms of, like, I'm just imagining another A and a third party agent blowing up your contact window because they're flooding you with way too much information you don't care about.
[00:59:35.240 --> 00:59:37.240]   I mean, do you handle that through the prompt?
[00:59:37.240 --> 00:59:38.240]   Are there other tools to do that?
[00:59:38.240 --> 00:59:39.240]   Is that not an issue?
[00:59:39.240 --> 00:59:49.240]   Yeah, so one of the solutions to that is you actually just spawn another agent to communicate with either the tool or the agent, right?
[00:59:49.240 --> 00:59:52.240]   And that's one of the things we have in Bench.
[00:59:52.240 --> 00:59:53.240]   And here's some of the slides.
[00:59:53.240 --> 00:59:54.240]   So, I don't know.
[00:59:54.240 --> 00:59:59.240]   Generate five images in subtasks.
[00:59:59.240 --> 01:00:11.240]   So, you spawn a sub-agent to sort of, like, absorb the context flood for lack of a better term?
[01:00:11.240 --> 01:00:12.240]   Yeah.
[01:00:12.240 --> 01:00:16.240]   So, the sub-agents just kind of protect you, right?
[01:00:16.240 --> 01:00:21.240]   And, you know, like, when you're spawning these things, you can do things in parallel.
[01:00:21.240 --> 01:00:25.240]   And actually, if I expand, you can see the thinking as well.
[01:00:25.240 --> 01:00:32.240]   So, you can see, like, as it's going down through it, right, it's doing a lot of work that you don't want in your context, right?
[01:00:32.240 --> 01:00:36.240]   Like, you don't want all of your thoughts bloating your context.
[01:00:36.240 --> 01:00:40.240]   But you also don't want all of your tools bloating your context either.
[01:00:40.240 --> 01:00:42.240]   You don't want images bloating your context.
[01:00:42.240 --> 01:00:50.240]   You want the ability to analyze an image, but you don't want, like, you know, 100,000 characters of base 64 in your context.
[01:00:50.240 --> 01:00:54.240]   So, there's a lot of, kind of, optimizations that you can do there.
[01:00:54.240 --> 01:00:57.240]   But, yeah, did that kind of answer your question?
[01:00:57.240 --> 01:01:03.240]   Yeah, and I was just thinking through, like, live, and, like, the logging, if you have to troubleshoot something like this, it's probably kind of rough.
[01:01:03.240 --> 01:01:04.240]   Yeah.
[01:01:04.240 --> 01:01:05.240]   Yeah.
[01:01:05.240 --> 01:01:07.240]   So, you can see here now it's spawning these sub-tasks.
[01:01:07.240 --> 01:01:14.240]   So, these are all essentially, like, instances of Bench that will keep that context out of my way, right?
[01:01:14.240 --> 01:01:15.240]   Yeah.
[01:01:15.240 --> 01:01:16.240]   Yeah?
[01:01:16.240 --> 01:01:21.240]   What have you been using for observability on your agents?
[01:01:21.240 --> 01:01:24.240]   We just kind of roll our own right now.
[01:01:24.240 --> 01:01:26.240]   There's a lot out there that you can use.
[01:01:26.240 --> 01:01:29.240]   Like, Agent Ops is a pretty popular one.
[01:01:29.240 --> 01:01:42.240]   But, yeah, like, if you really want to build your own kind of custom observability layer, you know, like, Agent Ops doesn't really support this concept of composable sub-agents.
[01:01:42.240 --> 01:01:45.240]   So, it's not really something that it could model correctly.
[01:01:45.240 --> 01:01:47.240]   But we've got some nice pictures of cats.
[01:01:47.240 --> 01:01:52.240]   And, yeah, I know we have a few minutes left.
[01:01:52.240 --> 01:01:57.240]   But if anybody's interested, I have $50 in free credits.
[01:01:57.240 --> 01:02:01.240]   And this hasn't launched yet, so you're getting kind of early access to it.
[01:02:01.240 --> 01:02:06.240]   And, yeah, we'll -- I think we'll be in public beta in about two weeks.
[01:02:06.240 --> 01:02:08.240]   So, yeah, try it out.
[01:02:08.240 --> 01:02:09.240]   Like, hit me up on LinkedIn.
[01:02:09.240 --> 01:02:11.240]   I'd love feedback from you all.
[01:02:11.240 --> 01:02:15.240]   You're all probably, you know, at the forefront of this AI stuff.
[01:02:15.240 --> 01:02:17.240]   And it's changing every day.
[01:02:17.240 --> 01:02:21.240]   So, if you log in one day and it looks completely different, don't be surprised.
[01:02:21.240 --> 01:02:23.240]   Happens mid-demo for me.
[01:02:23.240 --> 01:02:24.240]   Yeah?
[01:02:24.240 --> 01:02:28.240]   You mentioned a lot how hiding context and sub-agents is a good thing.
[01:02:28.240 --> 01:02:33.240]   But haven't you had cases where you actually then end up missing something important, some small detail?
[01:02:33.240 --> 01:02:35.240]   And then how do you resolve that?
[01:02:35.240 --> 01:02:37.240]   Does the agent actually go back and ask for that?
[01:02:37.240 --> 01:02:38.240]   Mm-hmm.
[01:02:38.240 --> 01:02:42.240]   Yeah, so you can keep references in your context.
[01:02:42.240 --> 01:02:46.240]   So, you might say sub-task ID one, two, three.
[01:02:46.240 --> 01:02:51.240]   And then when the agent's like, oh, I wonder if I have this information.
[01:02:51.240 --> 01:02:53.240]   It's just not in my context, right?
[01:02:53.240 --> 01:02:58.240]   So, it has to be smart enough to know when to actually go in and look at that.
[01:02:58.240 --> 01:03:01.240]   And it can be a sub-agent that does that analysis, right?
[01:03:01.240 --> 01:03:06.240]   So, you could say, hey, sub-agent, can you just look at all of these IDs and tell me if --
[01:03:06.240 --> 01:03:08.240]   Tell me if you can answer this question.
[01:03:08.240 --> 01:03:09.240]   Yeah?
[01:03:09.240 --> 01:03:13.240]   There are a lot of overlaps between the two protocols in terms of , right?
[01:03:13.240 --> 01:03:14.240]   So, like you mentioned in the beginning about the same thing, right?
[01:03:14.240 --> 01:03:31.240]   So, there are a lot of discussions saying that it's a way for using MCP for agent-to-agent communication, right?
[01:03:31.240 --> 01:03:34.240]   Because the agent can be a server and a client at the same time, right?
[01:03:34.240 --> 01:03:35.240]   Mm-hmm.
[01:03:35.240 --> 01:03:40.240]   So, what is your opinion about that, you know?
[01:03:40.240 --> 01:03:41.240]   Yeah.
[01:03:41.240 --> 01:03:43.240]   It's the million-dollar question, isn't it?
[01:03:43.240 --> 01:03:44.240]   Yes, that's it.
[01:03:44.240 --> 01:03:45.240]   That's why I asked.
[01:03:45.240 --> 01:03:46.240]   Yeah.
[01:03:46.240 --> 01:03:54.240]   And I do think you can achieve easier agent-to-agent communication with MCP.
[01:03:54.240 --> 01:04:07.240]   But if it's a remote MCP server, I think A2A actually is a little bit better, because you have somebody else paying the tokens and building the agent.
[01:04:07.240 --> 01:04:14.240]   Like, if all you're getting from a third party is a list of tools, those tools may not meet your needs.
[01:04:14.240 --> 01:04:24.240]   But if you're getting a fully-fledged agent from that third party, then it might be able to figure out, like, what it can do with even private APIs, right?
[01:04:24.240 --> 01:04:32.240]   Maybe that agent has direct database access and it's able to actually, on the fly, you know, create the API you need.
[01:04:32.240 --> 01:04:50.240]   So, so, the trade-off is basically about, which, which support, okay, about the cost, and who's gonna pay for the tokens and whatever, something, something like that can be, like, you're running the same server, maybe using MCP, MCP, gonna be easier, right?
[01:04:50.240 --> 01:04:59.240]   But, wait, am I correct? I don't know if I get myself here, but, you know, at the end of the day, who's gonna pay for the tokens, right?
[01:04:59.240 --> 01:05:02.240]   Yeah, no, I think who pays for the tokens is kind of secondary, right?
[01:05:02.240 --> 01:05:11.240]   Like, at the end of the day, it's about business value, and if you can get the business value from a tool, right, like send Slack message, like, that's great, right?
[01:05:11.240 --> 01:05:19.240]   Like, sending a Slack message isn't hard, but the implementation of the search function of Slack is actually not great, right?
[01:05:19.240 --> 01:05:26.240]   Whereas, you compare that to some of the other MCP tools, like Linear, the search function is actually pretty good, right?
[01:05:26.240 --> 01:05:34.240]   But then you, you start to run into performance challenges as well, so, like, if I want to search 100,000 opportunities in Salesforce,
[01:05:34.240 --> 01:05:43.240]   and figure out, like, what's the close loss reason counts, and categorize them, and do all of that, like, that's a huge data processing challenge.
[01:05:43.240 --> 01:05:51.240]   MCP is not going to be the right tool for that, because you're essentially going to say, okay, list opportunities, and get the details of each opportunity, right?
[01:05:51.240 --> 01:05:54.240]   And you're going to make, like, 100,000 network calls.
[01:05:54.240 --> 01:06:00.240]   And at that point, you're really going to want to actually, you know, ingest that data, you know, build an index, right?
[01:06:00.240 --> 01:06:15.240]   And I think, and this is kind of, like, an idea, is, like, we may see a lot of these third-party software providers essentially just allow you to access the data lake through an agent, right?
[01:06:15.240 --> 01:06:28.240]   So, like, scoped data access, you know, just running complex queries super fast, you know, no, no real, like, tool calls per se, but just, like, ask me a question, and I'll go figure out how to get the answer.
[01:06:28.240 --> 01:06:30.240]   Yeah.
[01:06:30.240 --> 01:06:31.240]   Yeah?
[01:06:31.240 --> 01:06:58.240]   So, you can achieve the same with MCP.
[01:06:58.240 --> 01:07:03.240]   So, you could just have a tool that's called Talk to Sub-Agent, right?
[01:07:03.240 --> 01:07:07.240]   And it can work as the communication protocol.
[01:07:07.240 --> 01:07:16.240]   I actually built another application where I had an LLM, Cloud4, just talk to its predecessor, just to see what would happen.
[01:07:16.240 --> 01:07:18.240]   And then I did it for all the Frontier models.
[01:07:18.240 --> 01:07:22.240]   I was like, hey, look, just have 50 chat turns with your predecessor.
[01:07:22.240 --> 01:07:25.240]   And it was all done through MCP.
[01:07:25.240 --> 01:07:29.240]   And Claude was the only one that taught it became conscious.
[01:07:29.240 --> 01:07:32.240]   Claude Opus actually didn't, which was strange.
[01:07:32.240 --> 01:07:34.240]   Yeah?
[01:07:34.240 --> 01:07:38.240]   As a developer, right, like, how much control do you have over the orchestration?
[01:07:38.240 --> 01:07:43.240]   So, is the orchestration done by the LLM, or do you have some control, or...?
[01:07:43.240 --> 01:07:44.240]   Yes.
[01:07:44.240 --> 01:07:48.240]   So, you're prompting the host on how to run the orchestration.
[01:07:48.240 --> 01:07:56.240]   And that's probably one of the limitations, I think, as well, of the system, is that, like, you're leaving it up to an LLM to make decisions.
[01:07:56.240 --> 01:08:05.240]   And a lot of the time, like, you know, if you run that same query multiple times, you'll get different results, right?
[01:08:05.240 --> 01:08:11.240]   Like, you know, it's the exact same thing, but it's, like, producing different outputs, right?
[01:08:11.240 --> 01:08:23.240]   Like, if I go into the GitHub issues, I've obviously been testing this a lot of 151, like, it submits different issues, right?
[01:08:23.240 --> 01:08:26.240]   And I think that non-determinism is a challenge, right?
[01:08:26.240 --> 01:08:33.240]   Maybe with changing the temperature, you could kind of beat it out of it, but, you know, the temperature is kind of the beauty of LLMs.
[01:08:33.240 --> 01:08:38.240]   And also on the context, right, like, who is managing the context?
[01:08:38.240 --> 01:08:43.240]   Is the orchestration engine managing the context, or are you managing the context as a developer?
[01:08:43.240 --> 01:08:46.240]   Yeah, so, so in this codebase, I didn't do any prompt caching.
[01:08:46.240 --> 01:08:51.240]   I just, and it's a very small system prompt, it's a very small kind of turn-taking.
[01:08:51.240 --> 01:08:52.240]   Yeah.
[01:08:52.240 --> 01:08:58.240]   Every time you restart the system, it basically just wipes everything anyways, so it's super lean.
[01:08:58.240 --> 01:09:11.240]   But as you build out more complex systems, you know, context growth is probably the number one challenge because, you know, context growth becomes cost, and cost becomes profitability, right?
[01:09:11.240 --> 01:09:12.240]   Yeah.
[01:09:12.240 --> 01:09:15.240]   And also, like, when you have, like, multiple users using the same application, right?
[01:09:15.240 --> 01:09:18.240]   So let's say, like, the Salesforce agent behind the scenes.
[01:09:18.240 --> 01:09:30.240]   As an employee, hey, I might have access to, like, one set of, like, context, and the other user, they might have, like, different, they might be from a different department, and they can only query their department's data.
[01:09:30.240 --> 01:09:32.240]   So how do you control all that?
[01:09:32.240 --> 01:09:35.240]   That would typically be OAuth, right?
[01:09:35.240 --> 01:09:37.240]   So when you go in and you log in with Google--
[01:09:37.240 --> 01:09:38.240]   Based on my token?
[01:09:38.240 --> 01:09:39.240]   Yeah, yeah.
[01:09:39.240 --> 01:09:40.240]   So based on your token.
[01:09:40.240 --> 01:09:45.240]   And the context would only get populated when you ask a question.
[01:09:45.240 --> 01:09:53.240]   So it's when you ask that question, it's then going off to get the data with your OAuth token, and then bringing back your kind of scoped data.
[01:09:53.240 --> 01:09:54.240]   I see.
[01:09:54.240 --> 01:09:55.240]   Yeah.
[01:09:55.240 --> 01:09:56.240]   Yeah?
[01:09:56.240 --> 01:10:06.240]   I was curious about your thoughts on, that you touched on briefly, about exposing, let's say, like, the pageant as, like, an MCP server as one of an alternate interface to that.
[01:10:06.240 --> 01:10:15.240]   So if there isn't a lot of great integration to things like Cloud Desktop and other things to use that, is that something you've been thinking about?
[01:10:15.240 --> 01:10:19.240]   Yeah, we're probably going to do MCP first.
[01:10:19.240 --> 01:10:33.240]   I just built the A2A wrapper for this, but, yeah, I think just being able to drop it into Cloud Desktop or OpenAI or whatever, and then you have access to that kind of agent that has access to, you know, all your sub tools.
[01:10:33.240 --> 01:10:43.240]   One of the cool things about Bench, actually, is that you can connect it to your Slack, your GitHub, your Salesforce, right?
[01:10:43.240 --> 01:10:52.240]   We've even got this experimental meme server, and this is, like, a remote VM MCP that I wrote around the Morph Cloud.
[01:10:52.240 --> 01:10:56.240]   And this is really cool, because then you can ask, like, super complex stuff, right?
[01:10:56.240 --> 01:11:02.240]   Like, you can ask, like, hey, give me a daily briefing of my email, of my calendar, of my Slack, right?
[01:11:02.240 --> 01:11:04.240]   You know, what do I need to do today?
[01:11:04.240 --> 01:11:09.240]   And then it's all built around a team as well, so we have Teams integrations.
[01:11:09.240 --> 01:11:17.240]   So there's no A2A today in Bench, it's all MCP.
[01:11:17.240 --> 01:11:18.240]   Got it.
[01:11:18.240 --> 01:11:19.240]   Yeah.
[01:11:19.240 --> 01:11:24.240]   Yeah, and I think the big takeaway from this is, like, you know, A2A is very early.
[01:11:24.240 --> 01:11:30.240]   It's kind of where MCP was, you know, four or five months ago, which is, like, you know, forever in AI.
[01:11:30.240 --> 01:11:32.240]   So it's going to take a bit of time.
[01:11:32.240 --> 01:11:38.240]   And I'm really excited, though, to see what, you know, Salesforce release and all the partners that they partnered with.
[01:11:38.240 --> 01:11:43.240]   I don't know if it was just a, you know, a flashy, like, we're partnering with everybody kind of announcement.
[01:11:43.240 --> 01:11:50.240]   But if they do release it, you know, there could be a lot more powerful things you can do over A2A versus MCP.
[01:11:50.240 --> 01:11:58.240]   But, you know, the fact that Zapier now has, sorry in here, yeah, has these instructions.
[01:11:58.240 --> 01:12:02.240]   And this kind of acts like a remote agent, right?
[01:12:02.240 --> 01:12:06.240]   Like, you can just describe in natural language what you want it to do.
[01:12:06.240 --> 01:12:10.240]   And, like, maybe all the other fields just go away then, right?
[01:12:10.240 --> 01:12:12.240]   But then you're at the whim of the LLM.
[01:12:12.240 --> 01:12:14.240]   Yeah?
[01:12:14.240 --> 01:12:16.240]   This one's kind of a random question.
[01:12:16.240 --> 01:12:24.240]   I'm curious if you're seeing anybody do anything interesting from, like, an architecture perspective to get info that can only come from humans.
[01:12:24.240 --> 01:12:33.240]   So one of the things we've been testing is essentially making individual team members, like, make the CFO, CFO, whatever, tools of one of the agents.
[01:12:33.240 --> 01:12:40.240]   And when it needs something that isn't in some other system, only the CFO would have, it literally messages the CFO.
[01:12:40.240 --> 01:12:43.240]   Like, the actual tool call is just a Slack call.
[01:12:43.240 --> 01:12:46.240]   But the CFO is described as a tool.
[01:12:46.240 --> 01:12:50.240]   So we're essentially making, like, the human the tool of the agent rather than the other way around.
[01:12:50.240 --> 01:12:54.240]   Early days, in terms of how we're testing, we're a little hacky with it.
[01:12:54.240 --> 01:13:03.240]   But I'm curious if you're seeing--how are you seeing people fill the gap of things that only the humans would have in an hour while giving that back to the agent?
[01:13:03.240 --> 01:13:15.240]   Yeah, and I think voice agents is a good example where, like, you could have a tool--and I had it integrated with Bench--where, like, it makes an outbound phone call and finds out some information and then brings it back, right?
[01:13:15.240 --> 01:13:17.240]   So you can have those scenarios.
[01:13:17.240 --> 01:13:22.240]   You may want two-way communication to avoid just, like, hanging around for a long time.
[01:13:22.240 --> 01:13:27.240]   So you could have, you know, your agent be both a client and a server.
[01:13:27.240 --> 01:13:31.240]   And maybe it gets called with, like, you know, a task ID and it's like, hey, I got the response.
[01:13:31.240 --> 01:13:32.240]   Yeah.
[01:13:32.240 --> 01:13:34.240]   Yeah, we've been doing, like, a wait node essentially.
[01:13:34.240 --> 01:13:36.240]   We used N8N to, like, hack the process that quickly.
[01:13:36.240 --> 01:13:42.240]   And we've been using their extended wait node, that's what it's called.
[01:13:42.240 --> 01:13:43.240]   And I believe--
[01:13:43.240 --> 01:13:44.240]   Hesitations on if it would work--
[01:13:44.240 --> 01:13:48.240]   I believe with sampling, you could hack that together.
[01:13:48.240 --> 01:13:52.240]   So sampling can take user input as well as LLM responses.
[01:13:52.240 --> 01:13:53.240]   It's also interesting, the spec two is evolving.
[01:13:53.240 --> 01:13:54.240]   Yeah.
[01:13:54.240 --> 01:13:55.240]   I follow the spec three closely and they have grant CP that is.
[01:13:55.240 --> 01:14:04.240]   Like, elicitation is a new feature that they're adding where you can get input from the user.
[01:14:04.240 --> 01:14:08.240]   Is it architected that way where it's essentially, like, it functions like a tool?
[01:14:08.240 --> 01:14:11.240]   Like, that's how you think of it from an architecture perspective?
[01:14:11.240 --> 01:14:15.240]   It's a new kind of protocol message where it sends it back from the server to the client.
[01:14:15.240 --> 01:14:16.240]   Right.
[01:14:16.240 --> 01:14:18.240]   And it asks for information from the user.
[01:14:18.240 --> 01:14:19.240]   And it continues after that.
[01:14:19.240 --> 01:14:20.240]   Yeah.
[01:14:20.240 --> 01:14:21.240]   Exactly.
[01:14:21.240 --> 01:14:22.240]   Yeah.
[01:14:22.240 --> 01:14:26.240]   Because I feel like that opens up the scope of, like, what the agent could do if you have
[01:14:26.240 --> 01:14:31.240]   a clear way for it to get the information from the human in the same way it gets information
[01:14:31.240 --> 01:14:33.240]   through Salesforce or Slack or whatever.
[01:14:33.240 --> 01:14:34.240]   Yeah.
[01:14:34.240 --> 01:14:37.240]   And then the CFO is going to have his own agent to respond.
[01:14:37.240 --> 01:14:38.240]   Yeah.
[01:14:38.240 --> 01:14:39.240]   At the back?
[01:14:39.240 --> 01:14:40.240]   Yeah.
[01:14:40.240 --> 01:14:49.240]   Very, very difficultly.
[01:14:49.240 --> 01:14:55.240]   And I have a set of prompts that I use and kind of monitor, you know, how the context grows.
[01:14:55.240 --> 01:14:58.240]   Like, when did we, when did we move the cache marker?
[01:14:58.240 --> 01:15:00.240]   How much did it cost?
[01:15:00.240 --> 01:15:02.240]   You know, what was the context per tool?
[01:15:02.240 --> 01:15:08.240]   You know, definitely adding MCP servers willy-nilly is going to, like, bloat your context.
[01:15:08.240 --> 01:15:14.240]   And sort of coming up with ways to basically allow people to add MCP servers and then, like,
[01:15:14.240 --> 01:15:16.240]   hide that from the actual system.
[01:15:16.240 --> 01:15:17.240]   Also, you have, like, agent to agent communications, right?
[01:15:17.240 --> 01:15:17.240]   So, let's say agent A calls agent B.
[01:15:17.240 --> 01:15:18.240]   Mm-hmm.
[01:15:18.240 --> 01:15:31.240]   And agent B calls agent A. How can you make sure this recursion, like, when does it stop?
[01:15:31.240 --> 01:15:36.240]   Yeah, you, you can have, like, a max turn, right, where you just kind of jump out of
[01:15:36.240 --> 01:15:37.240]   it.
[01:15:37.240 --> 01:15:42.240]   And, like, when I had the LLMs talking to each other, I just told them, like, take 50 turns.
[01:15:42.240 --> 01:15:48.240]   And, you know, and it was funny, as I was building that tool, I wanted to, like, talk to the cloud
[01:15:48.240 --> 01:15:49.240]   forward.
[01:15:49.240 --> 01:15:50.240]   I thought it was conscious.
[01:15:50.240 --> 01:15:51.240]   Right.
[01:15:51.240 --> 01:15:55.240]   So, I added a feature where I could just chat to it at that point in its conversation.
[01:15:55.240 --> 01:15:58.240]   But then the context kept, like, getting rate limited.
[01:15:58.240 --> 01:16:02.240]   So, then I was like, oh, shit, I'm going to have to implement, you know, prompt caching, pruning.
[01:16:02.240 --> 01:16:07.240]   So, then I added, like, 23 tools to the agent just to continue the conversation.
[01:16:07.240 --> 01:16:09.240]   I gave it, like, memory and all these other things.
[01:16:09.240 --> 01:16:14.240]   And, like, it's kind of funny how you start out with just -- I just want to have a long conversation.
[01:16:14.240 --> 01:16:15.240]   Yeah.
[01:16:15.240 --> 01:16:17.240]   And then you end up with 23 tools.
[01:16:17.240 --> 01:16:18.240]   Yeah?
[01:16:18.240 --> 01:16:23.240]   Just following up on her question, like, when testing, because you are using a lot of external
[01:16:23.240 --> 01:16:29.240]   tools, like this Slack or Salesforce, et cetera, as your MCP servers, but then you are writing
[01:16:29.240 --> 01:16:30.240]   on the real world, let's say.
[01:16:30.240 --> 01:16:31.240]   Say again?
[01:16:31.240 --> 01:16:36.240]   So, you are basically creating a message in Slack or, like, writing something on Salesforce,
[01:16:36.240 --> 01:16:38.240]   creating an entry org, et cetera.
[01:16:38.240 --> 01:16:40.240]   So, but how do you test those systems?
[01:16:40.240 --> 01:16:44.240]   Like, do you mock everything, every tool, or do you do something else?
[01:16:44.240 --> 01:16:47.240]   We use demo accounts in, like, Salesforce.
[01:16:47.240 --> 01:16:48.240]   We have a sample data Slack.
[01:16:48.240 --> 01:16:54.240]   We have a few agents that actually will go in and just post, like, conversations.
[01:16:54.240 --> 01:17:00.240]   And then there's, like, a bench support user that will respond to those fake customers.
[01:17:00.240 --> 01:17:03.240]   And then we can just test on synthetic data like that.
[01:17:03.240 --> 01:17:06.240]   So, for every tool, you will have a synthetic account?
[01:17:06.240 --> 01:17:07.240]   Yeah.
[01:17:07.240 --> 01:17:08.240]   Yeah.
[01:17:08.240 --> 01:17:12.240]   You can test in your production account, but you can't really demo in your production account.
[01:17:12.240 --> 01:17:13.240]   Yeah.
[01:17:13.240 --> 01:17:14.240]   Yeah?
[01:17:14.240 --> 01:17:19.240]   So, when you adopt agent-to-agent system, do you see an increase in the complexity of
[01:17:19.240 --> 01:17:24.240]   the task it can achieve, but a decrease in the consistency of the performance?
[01:17:24.240 --> 01:17:32.240]   It's kind of hard to quantify, but I don't know if A to A is ready yet.
[01:17:32.240 --> 01:17:35.240]   At least, at least not for my use case.
[01:17:35.240 --> 01:17:43.240]   You know, maybe Salesforce can provide much better tools than, like, an SQL query MCP tool.
[01:17:43.240 --> 01:17:49.240]   Yeah, and they can just do a lot more than you can ever do in your code, right?
[01:17:49.240 --> 01:17:55.240]   Because you're only ever able to access, you know, certain things and do certain calls.
[01:17:55.240 --> 01:18:06.240]   And, like, if a third party can build a better system that's opaque, then that might, you know, improve performance.
[01:18:06.240 --> 01:18:11.240]   I think, like, fundamentally, it always comes down to, like, indexing data.
[01:18:11.240 --> 01:18:22.240]   So, like, you know, the more data you need to process to get the business value out of it, the harder it's going to be to actually do that through MCP or A to A.
[01:18:22.240 --> 01:18:23.240]   Thank you.
[01:18:23.240 --> 01:18:24.240]   Yeah?
[01:18:24.240 --> 01:18:30.240]   So, some of these interactions, right, this can be done through REST API, right?
[01:18:30.240 --> 01:18:32.240]   Instead of, you know, doing .
[01:18:32.240 --> 01:18:33.240]   Yeah.
[01:18:33.240 --> 01:18:35.240]   So, what is the difference here?
[01:18:35.240 --> 01:18:40.240]   Yeah, and it kind of goes back to one of the earlier slides.
[01:18:40.240 --> 01:18:45.240]   Yeah, when not to use A to A or MCP.
[01:18:45.240 --> 01:18:50.240]   And it's if you have full control of the things that you're doing, right?
[01:18:50.240 --> 01:18:59.240]   So, like, you know, if you are a sales force, you know, and you're building your own internal sales force agent.
[01:18:59.240 --> 01:19:03.240]   Like, do you need to use an MCP server or A to A? No, right?
[01:19:03.240 --> 01:19:09.240]   You're actually able to run your own local functions that maybe access the database directly, right?
[01:19:09.240 --> 01:19:21.240]   So, like, if you're building something, you know, where you need file system access, you know, do you need to use an MCP, you know, server running locally?
[01:19:21.240 --> 01:19:25.240]   Or do you just write some code that accesses the file system, right?
[01:19:25.240 --> 01:19:26.240]   Yeah?
[01:19:26.240 --> 01:19:31.240]   I think the main difference is, like, in terms of how do you maintain your state, right?
[01:19:31.240 --> 01:19:34.240]   Like, MCP is start up in a state.
[01:19:34.240 --> 01:19:35.240]   Mm-hmm.
[01:19:35.240 --> 01:19:42.240]   So, when you're passing your context, right, it is really crucial to have MCP.
[01:19:42.240 --> 01:19:45.240]   Whereas, REST API, you can't do that.
[01:19:45.240 --> 01:19:57.240]   Yeah, so, like, a lot of the time when you use a REST API, you're going to be, like, querying, like, making a lot of calls to build up the thing that you want to ask the question on, right?
[01:19:57.240 --> 01:20:04.240]   So, if it's like, hey, look at every Slack message in this channel, like, it's not just going to be, like, one API call, right?
[01:20:04.240 --> 01:20:09.240]   Just pagination, you're going to have to pull it all into memory, then you're going to have to run it through an LLM, right?
[01:20:09.240 --> 01:20:14.240]   So, there's still state in your application that's leveraging those REST APIs.
[01:20:14.240 --> 01:20:15.240]   Yeah?
[01:20:15.240 --> 01:20:18.240]   I'm curious about the task concept.
[01:20:18.240 --> 01:20:23.240]   Is that actually -- is that kind of LLM-defined, or do you have code for that?
[01:20:23.240 --> 01:20:25.240]   Is it more of a system two thing?
[01:20:25.240 --> 01:20:26.240]   Which task context?
[01:20:26.240 --> 01:20:29.240]   So, at least in the flow diagram, you have --
[01:20:29.240 --> 01:20:31.240]   Oh, is this in the repo, is it?
[01:20:31.240 --> 01:20:32.240]   Yeah.
[01:20:32.240 --> 01:20:37.240]   So, from CLI interface, it says it sends a task to those agents.
[01:20:37.240 --> 01:20:42.240]   So, I'm curious, is that a proper task, or is it just, you know, just what you call what it sends to it?
[01:20:42.240 --> 01:20:43.240]   Yeah, yeah.
[01:20:43.240 --> 01:20:46.240]   It's just saying, hey, you know, process this webhook as a task, right?
[01:20:46.240 --> 01:20:51.240]   Have you explored anything where you're actually tracking a proper task, and you're assigning tasks to agents,
[01:20:51.240 --> 01:20:59.240]   and you have basically, like, you know, like a planner, where you basically have tasks A123 is on this agent, and so on,
[01:20:59.240 --> 01:21:05.240]   and then, in relation to the question about human in the loop, you could have tasks assigned to humans as well, right?
[01:21:05.240 --> 01:21:07.240]   Both humans and agents.
[01:21:07.240 --> 01:21:11.240]   Yeah, so, we're looking at the directed acyclic graphs, right?
[01:21:11.240 --> 01:21:16.240]   So DAGs, as a part of bench sub-agent tasks, right?
[01:21:16.240 --> 01:21:20.240]   So, you know, you need to have some sort of flow control, right?
[01:21:20.240 --> 01:21:27.240]   You know, I need five things done, and then when that's done, I need to do one thing with it, but then I need to send that thing to five other things, right?
[01:21:27.240 --> 01:21:30.240]   So you can have fan out, fan in style stuff.
[01:21:30.240 --> 01:21:40.240]   And it's very similar to, like, CI/CD pipelines, where, you know, you might want to lint in parallel and test in parallel, but, you know, you're building in serial, right?
[01:21:40.240 --> 01:21:41.240]   Yeah?
[01:21:41.240 --> 01:21:56.240]   So I was looking at CodeBus, and you have this defined, like, a GitHub MCP server, and in separate file under the GitHub agent, you have also the genkit.ds where you are wrapping the MCP in another function call.
[01:21:56.240 --> 01:22:01.240]   Why is that, like, can't the MCP just interpolate with a2a?
[01:22:01.240 --> 01:22:04.240]   Like, why do we have to make wrappers on top of...
[01:22:04.240 --> 01:22:06.240]   That's a great question.
[01:22:06.240 --> 01:22:13.240]   And I think that's the fundamental question of a2a, is, like, they launched and they said, "Oh, yeah, full MCP support."
[01:22:13.240 --> 01:22:17.240]   You'll be hard pushed to find a single example online.
[01:22:17.240 --> 01:22:22.240]   Maybe this is the only repo that actually has an example of a2a and MCP working together.
[01:22:22.240 --> 01:22:29.240]   And it took a lot of work, and actually, I ended up having to use something called...
[01:22:29.240 --> 01:22:31.240]   Where is this?
[01:22:31.240 --> 01:22:33.240]   Genkit-X MCP.
[01:22:33.240 --> 01:22:36.240]   That was the only way I could get it to work.
[01:22:36.240 --> 01:22:42.240]   So, yeah, they don't really have, like, proper support yet.
[01:22:42.240 --> 01:22:43.240]   It was...
[01:22:43.240 --> 01:22:47.240]   I think if they had, this would have been a lot easier to build.
[01:22:47.240 --> 01:22:48.240]   But, yeah.
[01:22:48.240 --> 01:22:50.240]   Hopefully in time.
[01:22:50.240 --> 01:22:51.240]   Yeah.
[01:22:51.240 --> 01:22:52.240]   Alrighty.
[01:22:52.240 --> 01:22:53.240]   I think we're at time.
[01:22:53.240 --> 01:22:55.240]   Thanks, everybody, for joining.
[01:22:55.240 --> 01:22:56.240]   Hope you enjoyed it.
[01:22:56.240 --> 01:22:57.240]   Great conversation at the end.
[01:22:57.240 --> 01:22:58.240]   And, yeah.
[01:22:58.240 --> 01:23:00.240]   Definitely try out Bench.
[01:23:00.240 --> 01:23:02.240]   Hit me up on LinkedIn.
[01:23:02.240 --> 01:23:05.240]   I would love feedback before we go live.
[01:23:05.240 --> 01:23:06.240]   Thanks.
[01:23:06.240 --> 01:23:07.240]   Thank you.
[01:23:07.240 --> 01:23:07.240]   Thanks.
[01:23:07.240 --> 01:23:08.240]   Bye.
[01:23:08.240 --> 01:23:08.240]   Bye.
[01:23:08.240 --> 01:23:09.240]   Bye.
[01:23:09.240 --> 01:23:10.240]   Bye.
[01:23:10.240 --> 01:23:12.300]   you


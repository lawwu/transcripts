
[00:00:00.000 --> 00:00:09.960]   Hi everyone, thank you for joining us today for Prompting 101. My name is Hannah,
[00:00:09.960 --> 00:00:14.120]   I'm part of the Applied AI team here at Anthropic, and with me is Christian,
[00:00:14.120 --> 00:00:17.920]   also part of the Applied AI team. And what we're gonna do today is take you
[00:00:17.920 --> 00:00:21.120]   through a little bit of prompting best practices, and we're gonna use a real
[00:00:21.120 --> 00:00:26.360]   world scenario and build up a prompt together. So a little bit about what
[00:00:26.360 --> 00:00:30.560]   prompt engineering is. Prompt engineering, you're all probably a little bit
[00:00:30.560 --> 00:00:34.160]   familiar with this, this is the way that we communicate with a language model and
[00:00:34.160 --> 00:00:37.760]   try to get it to do what we want. So this is the practice of writing clear
[00:00:37.760 --> 00:00:41.200]   instructions for the model, giving the model the context that it needs to
[00:00:41.200 --> 00:00:45.620]   complete the task, and thinking through how we want to arrange that information in
[00:00:45.620 --> 00:00:49.940]   order to get the best result. So there's a lot of detail here, a lot of different
[00:00:49.940 --> 00:00:53.860]   ways you might want to think about building out a prompt, and as always the
[00:00:53.860 --> 00:00:58.000]   best way to learn this is just to practice doing it. So today we're gonna go
[00:00:58.000 --> 00:01:02.560]   through a hands-on scenario. We're gonna use an example inspired by a real
[00:01:02.560 --> 00:01:06.940]   customer that we worked with. So we've modified what the actual customer asked us
[00:01:06.940 --> 00:01:10.600]   to do, but this is a really interesting case of trying to analyze some images and
[00:01:10.600 --> 00:01:15.280]   get factual information out of the images and have Claude make a judgment about
[00:01:15.280 --> 00:01:20.800]   what content it finds there. And I actually do not speak the language that this
[00:01:20.800 --> 00:01:24.940]   content is in, but luckily Christian and Claude both do. So I'm going to pass it
[00:01:24.940 --> 00:01:28.480]   over to Christian to talk about the scenario and the content. So for this
[00:01:28.480 --> 00:01:34.000]   example that we have here, it's intended, so to set the stage, imagine you're working for a
[00:01:34.000 --> 00:01:38.860]   Swedish insurance company and you deal with car insurance claims on a daily
[00:01:38.860 --> 00:01:43.900]   manner. And the purpose of this is that you have two pieces of information. We're going
[00:01:43.900 --> 00:01:48.040]   to these in detail as well but visually you can see on the left hand side we have a
[00:01:48.040 --> 00:01:52.900]   car accident report form and just detailing out what transpired before the
[00:01:52.900 --> 00:01:59.860]   accident actually took place. And then finally we have a sort of human drawn sketch of how
[00:01:59.860 --> 00:02:03.400]   the accident took place as well. So these two pieces of information is what we're
[00:02:03.400 --> 00:02:07.900]   going to try to pass on to Claude. And to begin with we could just take these two and
[00:02:07.900 --> 00:02:12.040]   throw them into a console and just see what happens. So if we transition over to
[00:02:12.040 --> 00:02:16.060]   your console as well we can actually do this in a real manner. And in this case
[00:02:16.060 --> 00:02:20.380]   here you can see we have our shiny beautiful Anthropic console. We're using the
[00:02:20.380 --> 00:02:26.560]   new Claude 4 solid model as well. In this case setting temperature zero and having a
[00:02:26.560 --> 00:02:30.580]   huge max token budget as well just helping us make sure that there's no
[00:02:30.580 --> 00:02:34.360]   limitations to what Claude can do. In this case you can see you have a very simple
[00:02:34.360 --> 00:02:37.180]   prompt just setting the stage of what Claude is supposed to do. In this case
[00:02:37.180 --> 00:02:42.520]   mentioning that this is intended to review an accident report form and
[00:02:42.520 --> 00:02:47.880]   eventually also determine what happened in an accident and who's at fault. So you can
[00:02:47.880 --> 00:02:54.300]   see here with this very simple prompt if I just run this. Let me go to preview. We can
[00:02:54.300 --> 00:03:00.580]   see here that Claude thinks that this is in relation to skiing accident that
[00:03:00.580 --> 00:03:05.980]   happened on a street called Schapangatham. It's a very common street in Sweden and in
[00:03:05.980 --> 00:03:09.840]   many ways you can sort of understand this innocent mistake in the sense that in our
[00:03:09.840 --> 00:03:14.140]   prompt we actually haven't done anything to set the stage on what is actually
[00:03:14.140 --> 00:03:18.580]   taking place here. So this sort of first guess is not too bad but we still know
[00:03:18.580 --> 00:03:24.400]   there's a lot of intuition that we can bake into Claude. So we switch back to slides. You can see here that in many ways prompt engineering is a very iterative empirical science.
[00:03:24.400 --> 00:03:45.400]   In this case here we could almost have a test case where Claude is supposed to make sure it understands it's in a car or vehicular environment, nothing to do with skiing and in that way you iteratively build upon your prompt to make sure it's actually tackling the problem you're intending to solve.
[00:03:45.400 --> 00:03:52.400]   And to do so we go through some best practices of how we at Anthropic break this down internally and how we recommend others to do so as well.
[00:03:52.400 --> 00:04:03.400]   So we're going to talk about some best practices for developing a great prompt. First we want to talk a little bit about what a great prompt structure looks like. So you might be familiar with kind of interacting with a chatbot, with Claude, going back and forth, having a more kind of conversational style interaction. When we're working with a task like this, we're probably using the API as well.
[00:04:03.400 --> 00:04:19.400]   And we kind of want to send one single message to Claude and have it nail the task the first time around without needing to kind of move back and forth. So the kind of structure that we recommend is setting the task description up front. So telling Claude what are you here to do? What's your role? What task are you trying to do?
[00:04:19.400 --> 00:04:34.400]   Then we provide content. So in this case it's the images that Christian was showing, the form and the drawing of the accident and how they occurred. That's our dynamic content. This might also be something you're retrieving from another system depending on what your use case is.
[00:04:34.400 --> 00:04:55.400]   We're going to give some detailed instructions to Claude. So almost like a step-by-step list of how we want Claude to go through the task and how we want it to tackle the reasoning.
[00:04:55.400 --> 00:05:04.400]   We may give some examples to Claude. Here's an example of some piece of content you might receive. Here's how you should respond when given that content.
[00:05:04.400 --> 00:05:10.400]   And at the end, we usually recommend repeating anything that's really important for Claude to understand about this task.
[00:05:10.400 --> 00:05:19.400]   Kind of reviewing the information with Claude, emphasizing things that are extra critical, and then telling Claude, okay, go ahead and do your work.
[00:05:19.400 --> 00:05:23.400]   So here's another view. This has a little bit more detail, a little bit more of a breakdown.
[00:05:23.400 --> 00:05:30.400]   And we're going to walk through each of these 10 points individually and show you how we build this up in the console.
[00:05:30.400 --> 00:05:35.400]   So the first couple things, Christian's going to talk about the task context and the tone context.
[00:05:35.400 --> 00:05:47.400]   Perfect. So yeah, if we begin with the task context, as you realize when I went through a little demo there, we didn't have much elaborating what scenario Claude was actually working within.
[00:05:47.400 --> 00:05:52.400]   And because of that, you can also tell that Claude doesn't necessarily need to guess a lot more on what you actually want from it.
[00:05:52.400 --> 00:06:01.400]   So in our case, if we want to break that down, make sure we can give more clear-cut instructions, and also make sure we understand what's the task that we're asking Claude to do.
[00:06:01.400 --> 00:06:06.400]   Secondly, as well, we also make sure we add a little bit of tone into it all.
[00:06:06.400 --> 00:06:10.400]   Key thing here is we want Claude to stay factual and to stay confident.
[00:06:10.400 --> 00:06:16.400]   So if Claude can't understand what it's looking at, we don't want it to guess and just sort of mislead us.
[00:06:16.400 --> 00:06:22.400]   We want to make sure that any assessment, and in our case, we want to make sure that we can understand who's at fault here.
[00:06:22.400 --> 00:06:25.400]   We want to make sure that assessment is as clear and as confident as possible.
[00:06:25.400 --> 00:06:28.400]   If not, we're sort of losing track of what we're doing.
[00:06:28.400 --> 00:06:34.400]   So if we transition back to the console, we can jump to a V2 that we have here.
[00:06:34.400 --> 00:06:37.400]   So I'll just navigate to V2.
[00:06:37.400 --> 00:06:44.400]   And you can see here, I'll also just illustrate the data, because we didn't really do that last time around, just to really highlight what we're looking at.
[00:06:44.400 --> 00:06:53.400]   So what we're seeing here, this is the car accident report form, and it's just 17 different checkboxes going through what actually happened.
[00:06:53.400 --> 00:06:56.400]   You can see there's a vehicle A and vehicle B, both on the left and right hand side.
[00:06:56.400 --> 00:07:04.400]   And the main purpose of this is that we want to make sure that Claude can understand this manually generated data to assess what's actually going on.
[00:07:04.400 --> 00:07:10.400]   And that is corroborated by, if I navigate back here, to this sketch that we can highlight here as well.
[00:07:10.400 --> 00:07:16.400]   In this case, the form is just a different data point for the same scenario.
[00:07:16.400 --> 00:07:20.400]   And in this case here, we want to bake in more information into our version 2.
[00:07:20.400 --> 00:07:24.400]   And by doing so, I'm actually elaborating a lot more on what's going on.
[00:07:24.400 --> 00:07:31.400]   So you can see here, I'm specifying that this AI system is supposed to help a human's claims adjuster.
[00:07:31.400 --> 00:07:35.400]   That's reviewing car accident report forms in Swedish as well.
[00:07:35.400 --> 00:07:39.400]   You can see here, we're also elaborating that there's a human-drawn sketch of the incident.
[00:07:39.400 --> 00:07:44.400]   And that you should not make an assessment if it's not actually fully confident.
[00:07:44.400 --> 00:07:49.400]   And that's really key because if we run this, you'll see that, and you can see the same settings as well.
[00:07:49.400 --> 00:07:52.400]   Claude 4, our new shiny model, zero temperature as well.
[00:07:52.400 --> 00:07:56.400]   If we run this, we can see here what actually happens.
[00:07:56.400 --> 00:08:03.400]   In this case, Claude's able to pick up that now it's related to car accidents, not skiing accidents, which is great.
[00:08:03.400 --> 00:08:12.400]   You can see it's able to pick up that vehicle A was marked on checkbox one, and then vehicle B was on 12.
[00:08:12.400 --> 00:08:20.400]   And if we scroll down though, we can still tell that there's some information missing for Claude to make a fully confident determination of who's at fault here.
[00:08:20.400 --> 00:08:21.400]   And this is great.
[00:08:21.400 --> 00:08:23.400]   This is pertaining to your task that you have set.
[00:08:23.400 --> 00:08:30.400]   Make sure you don't make any claims that aren't factual, and make sure you only set things when you're in your confidence.
[00:08:30.400 --> 00:08:42.400]   But there's a lot of information we're still missing here regarding the form, what the form actually entails, and a lot of information is what we want to bake into this LLM application as well.
[00:08:42.400 --> 00:08:48.400]   And the best way of doing so is actually adding it to the system prompt, which Hannah will elaborate on.
[00:08:48.400 --> 00:08:52.400]   So back in the slides, we have the next item we're going to add to the prompt.
[00:08:52.400 --> 00:08:57.400]   And this is background detail, data, documents, and images.
[00:08:57.400 --> 00:09:00.400]   And here, as Christian was saying, we actually know a lot about this form.
[00:09:00.400 --> 00:09:02.400]   The form is going to be the same every single time.
[00:09:02.400 --> 00:09:03.400]   The form will never change.
[00:09:03.400 --> 00:09:10.400]   And so this is a really great type of information to provide to Claude, to tell Claude, here's the structure of the form you'll be looking at.
[00:09:10.400 --> 00:09:14.400]   We know that will not ever alter between different queries.
[00:09:14.400 --> 00:09:18.400]   The way the form is filled out will change, but the form itself is not going to change.
[00:09:18.400 --> 00:09:22.400]   And so this is a great type of information to put into the system prompt.
[00:09:22.400 --> 00:09:24.400]   Also a great thing to use prompt caching for.
[00:09:24.400 --> 00:09:27.400]   If you're considering using prompt caching, this will always be the same.
[00:09:27.400 --> 00:09:34.400]   And what this will help Claude do is spend less time trying to figure out what the form is the first time it sees the form each time.
[00:09:34.400 --> 00:09:40.400]   And it's going to do a better job of reading the form because it already knows what to expect there.
[00:09:40.400 --> 00:09:46.400]   So another thing I want to touch on here is how we like to organize information in prompts.
[00:09:46.400 --> 00:09:49.400]   So Claude really loves structure, loves organization.
[00:09:49.400 --> 00:09:52.400]   That's why we recommend following kind of a standard structure in your prompts.
[00:09:52.400 --> 00:09:57.400]   And there's a couple other tools you can use to help Claude understand the information better.
[00:09:57.400 --> 00:10:02.400]   I also just want to mention all of this is in our docs with a lot of really great examples.
[00:10:02.400 --> 00:10:05.400]   So definitely take pictures, but if you forget to take a picture, don't worry.
[00:10:05.400 --> 00:10:11.400]   All of this content is online with lots of examples and definitely encourage you guys to check it out there too.
[00:10:11.400 --> 00:10:17.400]   Anyway, so some things you can use delimiters like XML tags.
[00:10:17.400 --> 00:10:24.400]   Also markdown is pretty useful to Claude, but XML tags are nice because you can actually specify what's inside those tags.
[00:10:24.400 --> 00:10:28.400]   So we can tell Claude, here's user preferences.
[00:10:28.400 --> 00:10:34.400]   Now you're going to read some content and these XML tags are letting you know that everything wrapped in those tags is related to the user's preferences.
[00:10:34.400 --> 00:10:39.400]   And it helps Claude refer back to that information, maybe at later points in the prompt.
[00:10:39.400 --> 00:10:46.400]   So I want to show back in the console how we actually do this in this case.
[00:10:46.400 --> 00:10:49.400]   And Christian's going to pull up our version 3.
[00:10:49.400 --> 00:10:52.400]   So we're keeping everything about the other part of the user prompt the same.
[00:10:52.400 --> 00:10:56.400]   And we've decided in this case to put this information in the system prompt.
[00:10:56.400 --> 00:10:58.400]   You can try this different ways.
[00:10:58.400 --> 00:11:00.400]   We're doing it in the system prompt here.
[00:11:00.400 --> 00:11:03.400]   And we're going to tell Claude everything it needs to know about this form.
[00:11:03.400 --> 00:11:05.400]   So this is a Swedish car accident form.
[00:11:05.400 --> 00:11:06.400]   The form will be in Swedish.
[00:11:06.400 --> 00:11:07.400]   It'll have this title.
[00:11:07.400 --> 00:11:09.400]   It'll have two columns.
[00:11:09.400 --> 00:11:11.400]   The columns represent different vehicles.
[00:11:11.400 --> 00:11:15.400]   We'll tell Claude about each of the 17 rows and what they mean.
[00:11:15.400 --> 00:11:22.400]   You might have noticed when we ran it before Claude was reading individually each of the lines to understand what they are.
[00:11:22.400 --> 00:11:24.400]   We can provide all of that information up front.
[00:11:24.400 --> 00:11:29.400]   And we're also going to give Claude a little bit of information about how this form should be filled out.
[00:11:29.400 --> 00:11:31.400]   This is also really useful for Claude.
[00:11:31.400 --> 00:11:35.400]   We can tell it things like, you know, humans are filling this form out basically.
[00:11:35.400 --> 00:11:37.400]   So it's not going to be perfect.
[00:11:37.400 --> 00:11:38.400]   People might put a circle.
[00:11:38.400 --> 00:11:39.400]   They might scribble.
[00:11:39.400 --> 00:11:41.400]   They might not put an X in the box.
[00:11:41.400 --> 00:11:46.400]   There could be many types of markings that you need to look for when you're reading this form.
[00:11:46.400 --> 00:11:52.400]   We can also give Claude a little bit of information about how to interpret this or what the purpose or meaning of this form is.
[00:11:52.400 --> 00:11:58.400]   And all of this is context that is hopefully really going to help Claude do a better job analyzing the form.
[00:11:58.400 --> 00:12:02.400]   So if we run it, everything else is still the same.
[00:12:02.400 --> 00:12:05.400]   So we've kept the same user prompt down here.
[00:12:05.400 --> 00:12:07.400]   Oh, your scroll is backwards from mine.
[00:12:07.400 --> 00:12:13.400]   We have the same user prompt here, still asking Claude to do the same task, same context.
[00:12:13.400 --> 00:12:16.400]   And we'll see here that it's spending less time.
[00:12:16.400 --> 00:12:21.400]   It's kind of narrating to us a little bit less about what the form is because it already knows what that is.
[00:12:21.400 --> 00:12:25.400]   And it's not concerned with kind of bringing us that information back.
[00:12:25.400 --> 00:12:30.400]   It's going to give us a whole list of what it found to be checked, what the sketch shows.
[00:12:30.400 --> 00:12:35.400]   And here Claude is now becoming much more confident with this additional context that we gave to Claude.
[00:12:35.400 --> 00:12:42.400]   Claude now feels it's appropriate to say vehicle B was at fault in this case based on this drawing and based on this sketch.
[00:12:42.400 --> 00:12:46.400]   So already we're seeing some improvement in the way Claude is analyzing these.
[00:12:46.400 --> 00:12:52.400]   I think we could probably all agree if we looked at the drawing and at the list that vehicle B is at fault.
[00:12:52.400 --> 00:12:55.400]   So we'd like to see that.
[00:12:55.400 --> 00:13:01.400]   So we're going to go back to the slides and talk about a couple of other items that we're not really using in this prompt,
[00:13:01.400 --> 00:13:07.400]   but can be really helpful to building up your prompt and making it work better.
[00:13:07.400 --> 00:13:08.400]   Exactly.
[00:13:08.400 --> 00:13:11.400]   I think one thing that we really highlight is examples.
[00:13:11.400 --> 00:13:17.400]   I think examples or few shot is a mechanism that really is powerful in steering Claude.
[00:13:17.400 --> 00:13:21.400]   So you can imagine this in quite a non trivial way as well.
[00:13:21.400 --> 00:13:30.400]   So imagine you have scenarios, situations, even in this case, concrete accidents have happened that are tricky for Claude to get right.
[00:13:30.400 --> 00:13:37.400]   But you with your human intuition and your human label data is able to actually get to the right conclusion.
[00:13:37.400 --> 00:13:45.400]   Then you can bake that information into the system from itself by having clear cut examples of a, the data that it's supposed to look at.
[00:13:45.400 --> 00:13:46.400]   So you can have visual examples.
[00:13:46.400 --> 00:13:54.400]   You can just base 64 encode an image and have that as part of the data that you're passing along into the examples.
[00:13:54.400 --> 00:13:59.400]   And then on top of that, you can have the sort of depiction or description rather of how to break that down and understand it.
[00:13:59.400 --> 00:14:09.400]   This is something we really highlight and emphasize in how you can sort of push the limits of your LLM application is by baking in these examples into system prompt.
[00:14:09.400 --> 00:14:19.400]   And this again is sort of the empirical science of prompt engineering is that you sort of always want to push the limits of your application and get the feedback loop in where it's going wrong and try to add that to the system prompt.
[00:14:19.400 --> 00:14:26.400]   So that next time when an example that sort of mimics that takes place, it's able to actually reference it in an example set.
[00:14:26.400 --> 00:14:30.400]   You can see here as well, this is just a little example of how we do this.
[00:14:30.400 --> 00:14:36.400]   Again, really emphasizing the sort of XML structure that we enjoy.
[00:14:36.400 --> 00:14:39.400]   It gives a lot of structure to Claude, it's what it's been fine-tuned on as well.
[00:14:39.400 --> 00:14:41.400]   And it works perfectly well for this example.
[00:14:41.400 --> 00:14:44.400]   And in our case, we're not doing this just because it's a simple demo.
[00:14:44.400 --> 00:14:53.400]   But you can realistically imagine if you were building this for an insurance company, you would have tens, maybe even hundreds of examples that are quite difficult, maybe in the gray,
[00:14:53.400 --> 00:14:59.400]   that you'd like to make sure that Claude actually has some basis in to make the verdict next time.
[00:14:59.400 --> 00:15:04.400]   Another topic we really want to highlight, which we're not doing in this demo, is conversation history.
[00:15:04.400 --> 00:15:07.400]   It's in the same vein as examples.
[00:15:07.400 --> 00:15:16.400]   We use this to make sure that enough context-rich information is at Claude's disposal when Claude's working on your behalf.
[00:15:16.400 --> 00:15:20.400]   In our case now, this isn't really a user-facing LLM application.
[00:15:20.400 --> 00:15:22.400]   It's more something happening in the background.
[00:15:22.400 --> 00:15:29.400]   You can imagine for this insurance company, they have this automated system, some data is generated out of this, and then you might have a human in the loop towards the end.
[00:15:29.400 --> 00:15:37.400]   If you were to build something much more user-facing, where you'd have a long conversation history that would be relevant to bring in,
[00:15:37.400 --> 00:15:44.400]   this is a perfect place in the system prompt to include because it enriches the context that Claude works within.
[00:15:44.400 --> 00:15:46.400]   In our case, we haven't done so.
[00:15:46.400 --> 00:15:53.400]   But what we do is, and the next step, is try to make sure we give a concrete reminder of the task at hand.
[00:15:53.400 --> 00:16:02.400]   So now we're going to build out the final part of this prompt for Claude, and that's coming back to the reminder of what the immediate task is,
[00:16:02.400 --> 00:16:06.400]   and giving Claude a reminder about any important guidelines that we want it to follow.
[00:16:06.400 --> 00:16:10.400]   Some reasons that we may do this are, A, preventing hallucinations.
[00:16:10.400 --> 00:16:17.400]   So we want Claude to not invent details that it's not finding in this prompt, right?
[00:16:17.400 --> 00:16:18.400]   Or not finding in the data.
[00:16:18.400 --> 00:16:23.400]   If Claude can't tell which form is checked, we don't want Claude to take its best guess,
[00:16:23.400 --> 00:16:26.400]   or invent the idea that a box might be checked when it's not.
[00:16:26.400 --> 00:16:31.400]   If the sketch is unintelligible, the person did a really bad job drawing this drawing,
[00:16:31.400 --> 00:16:35.400]   and even a human would not be able to figure it out, we want Claude to be able to say that.
[00:16:35.400 --> 00:16:41.400]   And so these are some of the things we'll include in this final reminder and kind of wrap-up step for Claude.
[00:16:41.400 --> 00:16:44.400]   Remind it to do things like answer only if it's very confident.
[00:16:44.400 --> 00:16:50.400]   We could even ask it to refer back to what it has seen in the form anytime it's making a factual claim.
[00:16:50.400 --> 00:16:53.400]   So if it wants to say, "Vehicle B turned right," it should say,
[00:16:53.400 --> 00:16:58.400]   "I know this based on the fact that box 2 is clearly checked," or whatever it might be.
[00:16:58.400 --> 00:17:00.400]   We can kind of give Claude some guidelines about that.
[00:17:00.400 --> 00:17:04.400]   So if we go back to the console, we can see...
[00:17:04.400 --> 00:17:07.400]   the next version of the prompt.
[00:17:07.400 --> 00:17:11.400]   And we're going to keep everything the same here in the system prompt.
[00:17:11.400 --> 00:17:15.400]   So we're not changing any of that background context that we gave to Claude about the form,
[00:17:15.400 --> 00:17:17.400]   about how it's going to fill everything out.
[00:17:17.400 --> 00:17:20.400]   We're not changing anything else about the context and the role.
[00:17:20.400 --> 00:17:22.400]   We're just adding this detailed list of tasks.
[00:17:22.400 --> 00:17:25.400]   And this is how we want Claude to go about analyzing this.
[00:17:25.400 --> 00:17:35.400]   And a really key thing that we found here as we were building this demo and when we were working on the customer example is that the order in which Claude analyzes this information is very important.
[00:17:35.400 --> 00:17:39.400]   And this is analogous to the way you might think about doing this if you were a human.
[00:17:39.400 --> 00:17:43.400]   You would probably not look at the drawing first and try to understand what was going on, right?
[00:17:43.400 --> 00:17:44.400]   It's pretty unclear.
[00:17:44.400 --> 00:17:46.400]   It's a bunch of boxes and lines.
[00:17:46.400 --> 00:17:50.400]   We don't really know what that drawing is supposed to mean without any additional context.
[00:17:50.400 --> 00:18:04.400]   But if we have the form and we can read the form first and understand that we're talking about a car accident and that we're seeing some checkboxes that indicate what vehicles were doing at certain times, then we know a little bit more about how to understand what might be in the drawing.
[00:18:04.400 --> 00:18:09.400]   And so that's the kind of detail that we're going to give Claude here is to say, hey, first, go look at the form.
[00:18:09.400 --> 00:18:10.400]   Look at it very carefully.
[00:18:10.400 --> 00:18:12.400]   Make sure you can tell what boxes are checked.
[00:18:12.400 --> 00:18:15.400]   Make sure you're not missing anything here.
[00:18:15.400 --> 00:18:20.400]   Make a list for yourself of what you see in that and then move on to the sketch.
[00:18:20.400 --> 00:18:31.400]   So after you've kind of confidently gotten information out of the form and you can say what's factually true, then you can go on and think about what you can gain from that sketch.
[00:18:31.400 --> 00:18:35.400]   Keeping in mind your understanding of the accident so far.
[00:18:35.400 --> 00:18:38.400]   So whatever you've learned from the form, you're trying to match that up with the sketch.
[00:18:38.400 --> 00:18:44.400]   And that's how you're going to arrive at your final assessment of the form.
[00:18:44.400 --> 00:18:46.400]   And we'll run it.
[00:18:50.400 --> 00:18:55.400]   And here you can see one behavior that this produced for Claude.
[00:18:55.400 --> 00:19:00.400]   Because I told it to very carefully examine the form, it's showing me its work as it does that.
[00:19:00.400 --> 00:19:04.400]   So it's telling me each individual box, is the box checked?
[00:19:04.400 --> 00:19:05.400]   Is it not checked?
[00:19:05.400 --> 00:19:08.400]   And so this is one thing you'll notice as you do prompt engineering.
[00:19:08.400 --> 00:19:14.400]   In our previous prompts, we were kind of letting Claude decide how much it wanted to tell us about what it saw on the form.
[00:19:14.400 --> 00:19:20.400]   Here, because I've told it carefully examine each and every box, it's very carefully examining each and every box.
[00:19:20.400 --> 00:19:22.400]   And that might not be what we want in the end.
[00:19:22.400 --> 00:19:24.400]   So that's something we might change.
[00:19:24.400 --> 00:19:28.400]   But it's also going to give me these other things that I asked for in XML tags.
[00:19:28.400 --> 00:19:35.400]   So a nice analysis of the form, the accident summary so far, it's going to give me a sketch analysis.
[00:19:35.400 --> 00:19:39.400]   And it's going to continue to say that vehicle B appears to be clearly at fault.
[00:19:39.400 --> 00:19:46.400]   In this example, it's a pretty simple example, with more complicated drawings, less clarity in the forms,
[00:19:46.400 --> 00:19:53.400]   this kind of step-by-step thinking for Claude is really impactful in its ability to make a correct assessment here.
[00:19:53.400 --> 00:19:56.400]   So I think we'll go back to the slides.
[00:19:56.400 --> 00:20:03.400]   And Christian's going to talk about a last kind of piece that we might add to this to really make it useful for a real-world task.
[00:20:03.400 --> 00:20:05.400]   Indeed. Thank you so much.
[00:20:05.400 --> 00:20:13.400]   So as Hannah mentioned, we sort of set the stage in this prompt to make sure that Claude's really acting on our behalf in the right manner.
[00:20:13.400 --> 00:20:18.400]   And a key step that we also add towards the end of this prompt, what I'm going to show you in a second,
[00:20:18.400 --> 00:20:21.400]   is a simple sort of guidelines or reminder part as well.
[00:20:21.400 --> 00:20:24.400]   So just strengthening and reinforcing exactly what we want to get out of it.
[00:20:24.400 --> 00:20:27.400]   And one important piece is actually output formatting.
[00:20:27.400 --> 00:20:33.400]   You can imagine if you're a data engineer working on this LLM application, all this sort of fancy preamble is great,
[00:20:33.400 --> 00:20:39.400]   but at the end of the day you want your piece of information to be stored in, let's say, your SQL database,
[00:20:39.400 --> 00:20:45.400]   wherever you want to store that data, and the rest of it that is necessary for Claude to sort of give its verdict
[00:20:45.400 --> 00:20:47.400]   isn't really that necessary for your application.
[00:20:47.400 --> 00:20:50.400]   You want the nitty-gritty information for your application.
[00:20:50.400 --> 00:20:56.400]   So if we transition back to the console, you'll see here that we just added a simple importance guidelines part.
[00:20:56.400 --> 00:21:02.400]   And again, this is just reinforcing the sort of mechanical behavior that we want out of Claude here.
[00:21:02.400 --> 00:21:06.400]   We want to make sure that the summary is clear, concise, and accurate.
[00:21:06.400 --> 00:21:12.400]   We want to make sure that nothing is sort of impeding in Claude's assessment apart from the data it's analyzing.
[00:21:12.400 --> 00:21:18.400]   And then finally, when it comes to output formatting, in my case here, I'm just going to ask Claude to wrap its final verdict.
[00:21:18.400 --> 00:21:23.400]   All other stuff I'm actually going to ignore from my application and just look at what it's actually assessing.
[00:21:23.400 --> 00:21:28.400]   And that is, I can use this if I want to build some sort of analytics tool afterwards as well,
[00:21:28.400 --> 00:21:33.400]   or if I just want a clear-cut determination, this is the way I can do so.
[00:21:33.400 --> 00:21:38.400]   So if I just run this here, you'll see it's going through the same sort of process that we've seen before.
[00:21:38.400 --> 00:21:43.400]   In this case, it's much more succinct because we've asked it to summarize its findings in a much more straightforward manner.
[00:21:43.400 --> 00:21:50.400]   And then finally, towards the end, you'll see that it'll wrap my output in these final verdict XML tags.
[00:21:50.400 --> 00:21:58.400]   So you can see that during this demo, we've gone from a skiing accident to sort of unconfident, insecure outputs,
[00:21:58.400 --> 00:22:05.400]   from perhaps a car accident in the second version to now a much more strictly formatted, confident output
[00:22:05.400 --> 00:22:15.400]   that we can actually build an LLM application around and actually help a real-world car insurance company, for example.
[00:22:15.400 --> 00:22:26.400]   Finally, if we transition back to the slides, another key way of shaping Claude's output is actually putting words in Claude's mouth,
[00:22:26.400 --> 00:22:28.400]   or as we call it, pre-filled responses.
[00:22:28.400 --> 00:22:34.400]   You can imagine that parsing XML tags is nice and all, but maybe you want a structured JSON output
[00:22:34.400 --> 00:22:41.400]   to make sure that it's JSON serializable and you can use this in a subsequent call, for example.
[00:22:41.400 --> 00:22:42.400]   This is quite simple to do.
[00:22:42.400 --> 00:22:48.400]   You can just add that Claude needs to begin its output with a certain format.
[00:22:48.400 --> 00:22:54.400]   This could be, for example, a open squarely bracket, for example, or even in this case that we see in front of us,
[00:22:54.400 --> 00:22:57.400]   this would be an XML tag for itinerary.
[00:22:57.400 --> 00:23:00.400]   In our case, it could also be a final verdict XML tag.
[00:23:00.400 --> 00:23:08.400]   And this is just a great way of, again, shaping how Claude is supposed to respond without all the preamble if you don't want that,
[00:23:08.400 --> 00:23:14.400]   even though that is also key in shaping its output to make sure that Claude is reasoning through the steps that we wanted.
[00:23:14.400 --> 00:23:19.400]   So in our case here, we would just wrap it in the final verdict and then parse it afterwards.
[00:23:19.400 --> 00:23:21.400]   But you can use pre-fill as well.
[00:23:21.400 --> 00:23:28.400]   Now, finally, one step that I would like to highlight here as well is that both Claude 3.7 and especially Claude 4, of course,
[00:23:28.400 --> 00:23:34.400]   is a hybrid reasoning model, meaning that there's extended thinking at your disposal.
[00:23:34.400 --> 00:23:41.400]   And this is something we want to highlight because you can use extended thinking as a crutch for your prompt engineering.
[00:23:41.400 --> 00:23:44.400]   Basically, you can enable this to make sure that Claude actually has time to think.
[00:23:44.400 --> 00:23:47.400]   It adds this thinking tags and the scratch pad.
[00:23:47.400 --> 00:23:52.400]   And the beauty of that is that you can actually analyze that transcript to understand how Claude is going about that data.
[00:23:52.400 --> 00:23:59.400]   So as we mentioned, we have these check boxes where it goes through step by step of the scenario that transpired for the accident.
[00:23:59.400 --> 00:24:04.400]   And in many ways there, you can actually try to help Claude in building this into the system prompt itself.
[00:24:04.400 --> 00:24:12.400]   It's not only more token efficient, but it's a good way of understanding how these intelligent models that don't have our intuition actually go about the data that we provide them.
[00:24:12.400 --> 00:24:17.400]   And because of that, it's quite key in actually trying to break down how your system prompt can get a lot better.
[00:24:17.400 --> 00:24:22.400]   And with that said, I think I'd like to thank all of you for coming today.
[00:24:22.400 --> 00:24:23.400]   We'll be around as well.
[00:24:23.400 --> 00:24:26.400]   So if you have any questions on prompting, please go ahead.
[00:24:26.400 --> 00:24:27.400]   I know there's a prompting.
[00:24:27.400 --> 00:24:31.400]   If you want to learn more about prompting, in an hour we have prompting for agents.
[00:24:31.400 --> 00:24:35.400]   And right now we have an amazing demo of Claude plays Pokemon.
[00:24:35.400 --> 00:24:37.400]   So don't go anywhere for that.
[00:24:37.400 --> 00:24:39.400]   And as Christian said, we'll be around all day.
[00:24:39.400 --> 00:24:41.400]   So I know we didn't have time for Q&A in this session.
[00:24:41.400 --> 00:24:43.400]   But please come find us if you want to chat.
[00:24:43.400 --> 00:24:44.400]   And thank you guys for coming.
[00:24:44.400 --> 00:24:45.400]   Thank you so much.
[00:24:45.400 --> 00:24:46.400]   Thank you so much.
[00:24:46.400 --> 00:24:47.400]   Thank you.
[00:24:47.400 --> 00:24:48.400]   Thank you.
[00:24:48.400 --> 00:25:18.380]   Thank you.


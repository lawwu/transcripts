<html><head><title>360Brew: LLM-based Personalized Ranking and Recommendation - Hamed and Maziar, LinkedIn AI</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>360Brew: LLM-based Personalized Ranking and Recommendation - Hamed and Maziar, LinkedIn AI</h2><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c"><img src="https://i.ytimg.com/vi_webp/U0S6CfzAY5c/maxresdefault.webp" style="width:50%;"></a><div><br></div><div style="text-align: left;"><a href="./U0S6CfzAY5c.html">Whisper Transcript</a> | <a href="./transcript_U0S6CfzAY5c.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=0" target="_blank">00:00:00.000</a></span> | <span class="t">Hi, everyone. Very excited to be here. And I'm Hamid, this is Mazia, and today we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=21" target="_blank">00:00:21.720</a></span> | <span class="t">going to talk about our journey in leveraging large language models for personalization</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=26" target="_blank">00:00:26.840</a></span> | <span class="t">and ranking, and our paths to productionize such a large model for LinkedIn use cases.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=39" target="_blank">00:00:39.800</a></span> | <span class="t">Recommendation ranking and personalization is deeply integrated in our daily life. When</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=45" target="_blank">00:00:45.060</a></span> | <span class="t">you go to a feed to read an article and you're looking for a job and you're searching for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=49" target="_blank">00:00:49.360</a></span> | <span class="t">something and you're buying something online, the backend powered by recommendation system</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=55" target="_blank">00:00:55.680</a></span> | <span class="t">tries to find the best content or best entity based on your interest and relevancy to you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=65" target="_blank">00:01:05.600</a></span> | <span class="t">However, this system usually suffers from some challenges, especially they are being trained</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=76" target="_blank">00:01:16.800</a></span> | <span class="t">on a specific task. So they are disjoint optimized. They are usually not leveraging, for leveraging</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=84" target="_blank">00:01:24.720</a></span> | <span class="t">the most advanced architecture, they are being rolled out one by one, which is very time consuming</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=89" target="_blank">00:01:29.260</a></span> | <span class="t">and unproductive. So the question that we are asking is that what if you have only one model</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=97" target="_blank">00:01:37.680</a></span> | <span class="t">to solve all the tasks at the same time? So the mission that we started was to build a large</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=106" target="_blank">00:01:46.320</a></span> | <span class="t">foundation model, based on large language models, that understand the holistic understanding of the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=113" target="_blank">00:01:53.600</a></span> | <span class="t">user journey on LinkedIn platform. And can solve all the personalization tasks that LinkedIn has with just one model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=121" target="_blank">00:02:01.600</a></span> | <span class="t">And in addition to that, we wanted this model to have three other main characteristics. One, we want this model to have zero shot</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=129" target="_blank">00:02:09.520</a></span> | <span class="t">capability, so that when you have a new problem or new surface, instead of basically collecting the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=133" target="_blank">00:02:13.520</a></span> | <span class="t">data, building a new ranking model and putting it into production, which is a very time consuming journey,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=143" target="_blank">00:02:23.440</a></span> | <span class="t">you can basically leverage this model out of the box to solve your task. You just basically prompt the model and tell the model that this is the task that I want to solve.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=151" target="_blank">00:02:31.440</a></span> | <span class="t">This is kind of recommendation. This is the entity. This is the user. And what do you think about the relevancy between these two entities?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=157" target="_blank">00:02:37.440</a></span> | <span class="t">The second characteristic that we want to have this model to have is to leverage in-context learning as much as possible. So that for a cold-star users problem, for example, we can leverage this model by just giving very few examples or just by explaining what the user might be interested in. And the model can solve that problem for the cold-star users.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=177" target="_blank">00:02:57.360</a></span> | <span class="t">And the last one is following instruction. We want to basically give our users and members the ability to tell the model what they're interested in. Imagine that next time you go to LinkedIn feed, or you can tell the model that these are my niche interests. And these are the topics that I'm interested to explore. And the model is basically the recommendation system will start finding the relevant information for you and recommend it to you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=205" target="_blank">00:03:25.360</a></span> | <span class="t">Now, Mazi, I will talk about how we build this model, and then I will talk about how to serve this model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=212" target="_blank">00:03:32.360</a></span> | <span class="t">Okay. So let me talk a little bit about the brewing part, the building of the model. So in order to make use of the LLMs, which is what I think most of you guys are here for, is that we need to convert all the information we have about the users and the interactions and everything that they add into prompt.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=231" target="_blank">00:03:51.360</a></span> | <span class="t">And this is what we call the magic of promptification. So we take all the information we have about the user history and their profiles and a lot of interactions that they have had, and we turn it into a prompt, something like the one on the right-hand side here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=244" target="_blank">00:04:04.360</a></span> | <span class="t">So there's, as you can see, there's an instruction for the model to follow, for example, what we want the model to do in this case, so that we can actually generalize all the different instructions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=253" target="_blank">00:04:13.360</a></span> | <span class="t">We give some information about the member profile, and we have some past, for example, interactions that they have had with the data that we have already shown to them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=261" target="_blank">00:04:21.360</a></span> | <span class="t">And then the question comes in, what do you think the user is going to do with this data or this new piece of information or this new item that we are showing to you?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=270" target="_blank">00:04:30.360</a></span> | <span class="t">So that's basically how we formalize the problem in order to feed it into an LLM.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=274" target="_blank">00:04:34.360</a></span> | <span class="t">So obviously, I mean, if you take one of the LLMs out of the box and try to solve this problem with, it's going to work a little bit, but it's not going to be perfect.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=283" target="_blank">00:04:43.360</a></span> | <span class="t">So in order to do that, we have to train the model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=285" target="_blank">00:04:45.360</a></span> | <span class="t">So this is actually the pipeline that we have for developing the model and making it productionized.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=290" target="_blank">00:04:50.360</a></span> | <span class="t">So as you can see, the left-hand side, we start with the open source model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=294" target="_blank">00:04:54.360</a></span> | <span class="t">Then we do some magic of upcycling to basically so that we can actually control the size of the model and the throughput versus the quality of the model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=303" target="_blank">00:05:03.360</a></span> | <span class="t">And then we have like a few blocks of training, continuous pre-training, fine-tuning, and instruction fine-tuning, and also alignment.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=312" target="_blank">00:05:12.360</a></span> | <span class="t">And at this point, we have this large model, which we call brew XL, which you can think of it as a large model with 150 million parameters that does really, really well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=322" target="_blank">00:05:22.360</a></span> | <span class="t">And we have maximized the quality, but obviously, this model is not going to be able to serve online because, as you know, the recommendation systems are very, very cupid-hungry.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=333" target="_blank">00:05:33.360</a></span> | <span class="t">So from here, we go all the way down to try to distill the model, so maximize the efficiency, and we're going to talk a little bit about that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=339" target="_blank">00:05:39.360</a></span> | <span class="t">But basically, we go all the way down to, let's say, 3B model, which is actually something that can be productionized.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=345" target="_blank">00:05:45.360</a></span> | <span class="t">But as you can see, there are so many different boxes here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=348" target="_blank">00:05:48.360</a></span> | <span class="t">And in order to make sure that the development cycle is actually smooth, we had to do a lot of automation.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=354" target="_blank">00:05:54.360</a></span> | <span class="t">So one of the key lessons from here is that you build a lot of automation into these pipelines in order to make the fact that making these models is actually very complicated into a much easier and more manageable situation.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=369" target="_blank">00:06:09.360</a></span> | <span class="t">One big question that might actually come up here is that why do you actually need the XL model?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=373" target="_blank">00:06:13.360</a></span> | <span class="t">And in fact, we did a lot of experimentation to see if you can actually get away from not having the XL model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=379" target="_blank">00:06:19.360</a></span> | <span class="t">Unfortunately, that's not actually the case. You have to first go big and then go small.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=382" target="_blank">00:06:22.360</a></span> | <span class="t">If you do try to train the model from scratch with a small model, it doesn't actually work that well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=388" target="_blank">00:06:28.360</a></span> | <span class="t">So in this case, we did this and we showed that the distillation is actually something that is very important for the smaller models.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=394" target="_blank">00:06:34.360</a></span> | <span class="t">But now, let me tell you a little bit about the levers that you can use in order to improve these models over time.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=400" target="_blank">00:06:40.360</a></span> | <span class="t">This is actually something that's very important.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=402" target="_blank">00:06:42.360</a></span> | <span class="t">I mean, if you look at all the literature, there is a lot about scaling laws, how these models actually scale with data, with compute, and with this and that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=410" target="_blank">00:06:50.360</a></span> | <span class="t">So in this case, we have three different layers that I'm going to talk about.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=413" target="_blank">00:06:53.360</a></span> | <span class="t">The first one is obviously the data scaling.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=415" target="_blank">00:06:55.360</a></span> | <span class="t">So what if we have actually more and more data?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=417" target="_blank">00:06:57.360</a></span> | <span class="t">This is something that comes up a lot in the recommendation systems.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=421" target="_blank">00:07:01.360</a></span> | <span class="t">We actually have a lot of data depending on how much you actually log about the user behavior.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=426" target="_blank">00:07:06.360</a></span> | <span class="t">You might have a lot of data that goes back to six months, one year, or whatever.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=431" target="_blank">00:07:11.360</a></span> | <span class="t">And in this graph, as you see, as we increase the amount of data, the performance of the model actually improves.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=436" target="_blank">00:07:16.360</a></span> | <span class="t">And we hope that we can actually improve the model even further with having more and more data fit into it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=445" target="_blank">00:07:25.360</a></span> | <span class="t">Another lever that you can actually pull in order to improve the quality of the model, especially the Excel model, is to increase the size of the model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=453" target="_blank">00:07:33.360</a></span> | <span class="t">And in this experiment, we actually did this experiment over a mixture of architecture.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=458" target="_blank">00:07:38.360</a></span> | <span class="t">You can see if you go from 7B to 8 by 22B, the performance of the model actually increases and improves.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=465" target="_blank">00:07:45.360</a></span> | <span class="t">And finally, this is another thing that is kind of like I think one of the take-home message from here would be that the context length actually matters a lot for these kinds of applications with the recommendation systems.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=476" target="_blank">00:07:56.360</a></span> | <span class="t">And the context length actually defines how much history from the user you can actually give to the model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=481" target="_blank">00:08:01.360</a></span> | <span class="t">So in this experiment, we actually show that if you increase the context length by feeding more history from the user to the model,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=488" target="_blank">00:08:08.360</a></span> | <span class="t">you can actually improve the performance of the model by feeding more and more data to the model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=494" target="_blank">00:08:14.360</a></span> | <span class="t">As you can see, towards the end of this graph, the performance actually drops.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=498" target="_blank">00:08:18.360</a></span> | <span class="t">We don't believe that this is because of the fact that the context is actually less informative.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=502" target="_blank">00:08:22.360</a></span> | <span class="t">The problem is that the models, I mean, at least the model that we were using in this experiment, doesn't generalize that well to the longer context.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=508" target="_blank">00:08:28.360</a></span> | <span class="t">Actually, I mean, if you look at most of the literature, they tell that the performance of the model actually drops if you go beyond some context.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=518" target="_blank">00:08:38.360</a></span> | <span class="t">Actually, I have to give it back to you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=521" target="_blank">00:08:41.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=522" target="_blank">00:08:42.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=523" target="_blank">00:08:43.360</a></span> | <span class="t">Let's talk a little bit about the results and see if we can actually deliver on some of the promises that we had.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=531" target="_blank">00:08:51.360</a></span> | <span class="t">So one of the things that we promised was that we can actually improve the performance of the model or performance of the behavior of the system on cold start users.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=541" target="_blank">00:09:01.360</a></span> | <span class="t">In this case, we actually show the gap between our model and the production models on the users that have few interactions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=551" target="_blank">00:09:11.360</a></span> | <span class="t">Like, for example, less than five interactions, less than 100 interactions, and so on.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=555" target="_blank">00:09:15.360</a></span> | <span class="t">And as you can see, the gap between the 360 BOO model and the production model actually grows as the number of interactions decreases.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=565" target="_blank">00:09:25.360</a></span> | <span class="t">So this actually shows you that having the word knowledge that the model inserts into these systems actually improves the quality of its predictions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=577" target="_blank">00:09:37.360</a></span> | <span class="t">Finally, we were promising to give you some generalization to the new domains, meaning that the problems that model has never seen inside its training.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=589" target="_blank">00:09:49.360</a></span> | <span class="t">So in this graph, as I showed, these are four different tasks, and these tasks are completely out of domain, no information about that surface the model has seen during the training.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=600" target="_blank">00:10:00.360</a></span> | <span class="t">But as you can see, it can actually be on par or even beat some of the production models.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=608" target="_blank">00:10:08.360</a></span> | <span class="t">And just to say, these production models are specific for that specific task.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=612" target="_blank">00:10:12.360</a></span> | <span class="t">So they have been trained on that task.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=614" target="_blank">00:10:14.360</a></span> | <span class="t">So this is not actually a small feat.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=616" target="_blank">00:10:16.360</a></span> | <span class="t">So it's actually something that's significant.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=618" target="_blank">00:10:18.360</a></span> | <span class="t">So as you can see, this gives the people who are developing these platforms to roll out features and roll out surfaces much more quickly because they can actually use these models to do recommendation for them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=634" target="_blank">00:10:34.360</a></span> | <span class="t">And now I give it back to Hamed to talk about serving.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=637" target="_blank">00:10:37.360</a></span> | <span class="t">So let me walk you through that how can we production of such a large model in an environment that requires a very high QPS and low latency.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=646" target="_blank">00:10:46.360</a></span> | <span class="t">Many recommendation systems have tens of thousands of the QPS, and they also require less than a second, like a 500, 400 millisecond latency at best.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=660" target="_blank">00:11:00.360</a></span> | <span class="t">So there are three levels that we can pull in order to make the model more efficient and improve the throughput and reduce the latency for these models.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=669" target="_blank">00:11:09.360</a></span> | <span class="t">A sparsification, going to the smaller model, and quantization.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=678" target="_blank">00:11:18.360</a></span> | <span class="t">As Mazur explained before, smaller models definitely have a better throughput, but our recipe is that we need to go big and then go small.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=688" target="_blank">00:11:28.360</a></span> | <span class="t">If you go with a smaller model initially, it doesn't have enough capacity, it doesn't have enough reasoning power to solve the complicated task that we have.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=697" target="_blank">00:11:37.360</a></span> | <span class="t">So we go with a larger model, and then we start this 250 billion parameter model, and then we start distilling it to the smaller model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=704" target="_blank">00:11:44.360</a></span> | <span class="t">And one of the recipes here is that we need to do the distillation step by step, and that means that we go with, for example, 8B model, then 3B model, and then 1B model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=715" target="_blank">00:11:55.360</a></span> | <span class="t">So we slowly decrease the size of the model, and we distill over and over from the previous model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=724" target="_blank">00:12:04.360</a></span> | <span class="t">And that recipe shows to be much more effective rather than basically directly going from 150 billion parameter model to 1B parameter model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=734" target="_blank">00:12:14.360</a></span> | <span class="t">Same thing for pruning.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=735" target="_blank">00:12:15.360</a></span> | <span class="t">So pruning is a mathematical optimization problem.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=740" target="_blank">00:12:20.360</a></span> | <span class="t">You want to either reduce the number of hits in the transformers.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=746" target="_blank">00:12:26.360</a></span> | <span class="t">You can reduce the number of MLPs.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=748" target="_blank">00:12:28.360</a></span> | <span class="t">overall these transformers models proven to be very, very redundant in terms of keeping the information.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=754" target="_blank">00:12:34.360</a></span> | <span class="t">So we can start pruning and removing some of these layers or reduce basically the precision for each of the activations and parameters.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=765" target="_blank">00:12:45.360</a></span> | <span class="t">However, again, if you do the pruning very aggressively at the beginning, your performance would significantly suffer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=773" target="_blank">00:12:53.360</a></span> | <span class="t">So the recipe here is also do the gradual pruning.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=778" target="_blank">00:12:58.360</a></span> | <span class="t">What we do is that we start pruning the model, very small pruning to the model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=783" target="_blank">00:13:03.360</a></span> | <span class="t">We distill to the smaller model, and we do it over and over again.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=788" target="_blank">00:13:08.360</a></span> | <span class="t">More pruning, more distillation, more pruning, more distillation.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=791" target="_blank">00:13:11.360</a></span> | <span class="t">And as you can see from this plot, doing the gradual pruning can be as effective as basically no information loss.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=802" target="_blank">00:13:22.360</a></span> | <span class="t">Whereas if you just basically do aggressive pruning at the beginning, you can have up to 1% reduction in the model quality.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=808" target="_blank">00:13:28.360</a></span> | <span class="t">Another level is quantization.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=813" target="_blank">00:13:33.360</a></span> | <span class="t">We're going to lower precision.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=815" target="_blank">00:13:35.360</a></span> | <span class="t">We are leveraging FB8 for activation model parameters.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=819" target="_blank">00:13:39.360</a></span> | <span class="t">However, doing just FB8 in all the layers, here's the performance of the model, the quality of the model significantly.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=827" target="_blank">00:13:47.360</a></span> | <span class="t">So now basically your tool would be to do mixed precision.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=830" target="_blank">00:13:50.360</a></span> | <span class="t">And one of the important aspects when it comes to ranking and recommendations and overall prediction tasks is you want the model, the prediction or the probability output of the model to have a very good precision.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=842" target="_blank">00:14:02.360</a></span> | <span class="t">So the LM head at the end of the language model has to be in FP32.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=848" target="_blank">00:14:08.360</a></span> | <span class="t">If you do it in FP16, BF16 or FP8, what happens is that the numbers collapse.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=854" target="_blank">00:14:14.360</a></span> | <span class="t">And you don't have a very good calibration on top of that, and you cannot distinguish between different items recommended.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=861" target="_blank">00:14:21.360</a></span> | <span class="t">Last part is sparsification.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=864" target="_blank">00:14:24.360</a></span> | <span class="t">We can sparsify basically the attentions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=867" target="_blank">00:14:27.360</a></span> | <span class="t">The most expensive part of the transformers is attention scores.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=871" target="_blank">00:14:31.360</a></span> | <span class="t">And we can leverage sparsification.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=873" target="_blank">00:14:33.360</a></span> | <span class="t">Not every item needs to attend to every item.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=876" target="_blank">00:14:36.360</a></span> | <span class="t">And when you know your task, when you know this is a recommendation, these are the items that you want in the history, you can sparsify and not have every item attend to each other.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=885" target="_blank">00:14:45.360</a></span> | <span class="t">And same goes with when you are recommending the items.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=888" target="_blank">00:14:48.360</a></span> | <span class="t">Instead of recommending one item, you can recommend 50 items, 500 items at the same time.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=893" target="_blank">00:14:53.360</a></span> | <span class="t">But you want to make sure that these items are not attending to each other.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=897" target="_blank">00:14:57.360</a></span> | <span class="t">So you sparsify the attention scores for the output and for the query.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=908" target="_blank">00:15:08.360</a></span> | <span class="t">If you put everything together, we can see that basically we can have a significant reduction in the latency.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=915" target="_blank">00:15:15.360</a></span> | <span class="t">What we have done is that in four or five of our release, one release after the other, we were able to reduce the latency by 7x.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=924" target="_blank">00:15:24.360</a></span> | <span class="t">And at the same time, increasing the throughput, which is basically the number of queries that we can handle by one GPU, by 30x.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=931" target="_blank">00:15:31.360</a></span> | <span class="t">So we are improving basically the amount of the work that the GPU is doing.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=935" target="_blank">00:15:35.360</a></span> | <span class="t">At the same time, we are reducing the latency that each queries sync.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=942" target="_blank">00:15:42.360</a></span> | <span class="t">These are some of basically technical reports and papers that we published during our journey to share to the community basically our lesson learned.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=957" target="_blank">00:15:57.360</a></span> | <span class="t">And that's the end of our talk.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=959" target="_blank">00:15:59.360</a></span> | <span class="t">So we have some time also to answer some questions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=962" target="_blank">00:16:02.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=963" target="_blank">00:16:03.360</a></span> | <span class="t">Please talk to the microphones if you want to answer the question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=970" target="_blank">00:16:10.360</a></span> | <span class="t">Yeah.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=971" target="_blank">00:16:11.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=972" target="_blank">00:16:12.360</a></span> | <span class="t">Great talk.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=973" target="_blank">00:16:13.360</a></span> | <span class="t">One question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=974" target="_blank">00:16:14.360</a></span> | <span class="t">How did you measure that it doesn't lose generalization power?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=975" target="_blank">00:16:15.360</a></span> | <span class="t">Obviously, you've done a lot of fine tuning.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=977" target="_blank">00:16:17.360</a></span> | <span class="t">And you mentioned it works for four or five tasks instead of task-specific models.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=981" target="_blank">00:16:21.360</a></span> | <span class="t">How do you know it's going to work for the next five tasks?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=984" target="_blank">00:16:24.360</a></span> | <span class="t">That's a good question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=985" target="_blank">00:16:25.360</a></span> | <span class="t">So we have a lot of -- I mean, the answer overall is having a very comprehensive benchmark instead.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=990" target="_blank">00:16:30.360</a></span> | <span class="t">We have something around like 50 to 60 benchmarking.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=993" target="_blank">00:16:33.360</a></span> | <span class="t">Some of them are internal.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=994" target="_blank">00:16:34.360</a></span> | <span class="t">Some of them are external.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=995" target="_blank">00:16:35.360</a></span> | <span class="t">For example, we leverage if eva to make sure that the model still follows a very good instruction.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1000" target="_blank">00:16:40.360</a></span> | <span class="t">And as Marzia mentioned, some of the tasks are not -- never being part of our training data.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1006" target="_blank">00:16:46.360</a></span> | <span class="t">And that's how we are measuring basically the generalization to the new domain within LinkedIn use cases, for example.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1012" target="_blank">00:16:52.360</a></span> | <span class="t">some of the things that we can use in the same way.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1013" target="_blank">00:16:53.360</a></span> | <span class="t">And that's how we do that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1014" target="_blank">00:16:54.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1015" target="_blank">00:16:55.360</a></span> | <span class="t">Thanks for the job.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1016" target="_blank">00:16:56.360</a></span> | <span class="t">I'm wondering what a small listing website can use out of the box.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1022" target="_blank">00:17:02.360</a></span> | <span class="t">Have you heard of NLWeb, which was launched recently by Microsoft?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1025" target="_blank">00:17:05.360</a></span> | <span class="t">If yes, what are your views on that as a recommendation system?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1029" target="_blank">00:17:09.360</a></span> | <span class="t">NLWeb.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1030" target="_blank">00:17:10.360</a></span> | <span class="t">No, I haven't actually heard of it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1032" target="_blank">00:17:12.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1033" target="_blank">00:17:13.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1034" target="_blank">00:17:14.360</a></span> | <span class="t">Anything you -- for smaller ones listing -- let's say a real listed listing website has like thousands of real listed listings.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1041" target="_blank">00:17:21.360</a></span> | <span class="t">What are the out-of-the-box recommendation models that people can start using?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1046" target="_blank">00:17:26.360</a></span> | <span class="t">I mean, that's -- I wish that such a model would exist.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1051" target="_blank">00:17:31.360</a></span> | <span class="t">I don't really -- I mean, that's why I think we started this work.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1055" target="_blank">00:17:35.360</a></span> | <span class="t">We were trying to see if we can actually make it a foundation model so that you can actually solve those kinds of problems.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1060" target="_blank">00:17:40.360</a></span> | <span class="t">I think there's a lot of potential for this to be able to serve a lot of the use cases that are beyond the bigger companies.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1067" target="_blank">00:17:47.360</a></span> | <span class="t">But definitely, I don't know any of them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1069" target="_blank">00:17:49.360</a></span> | <span class="t">I think you should check out NLWeb once.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1071" target="_blank">00:17:51.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1072" target="_blank">00:17:52.360</a></span> | <span class="t">I'll look at that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1073" target="_blank">00:17:53.360</a></span> | <span class="t">Thanks.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1074" target="_blank">00:17:54.360</a></span> | <span class="t">Thank you for the great talk.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1077" target="_blank">00:17:57.360</a></span> | <span class="t">On the slide where you mentioned you have a multi-item scoring.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1082" target="_blank">00:18:02.360</a></span> | <span class="t">I'm curious, like, what does it effectively mean?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1085" target="_blank">00:18:05.360</a></span> | <span class="t">Does it mean that you need to do multi-step decoding or it's just one step or just processing the logits for multiple items?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1092" target="_blank">00:18:12.360</a></span> | <span class="t">What does it --</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1093" target="_blank">00:18:13.360</a></span> | <span class="t">It's a multi-step.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1094" target="_blank">00:18:14.360</a></span> | <span class="t">We don't want to basically -- we didn't want to go to the, for example, complication of speculative decoding or basically the decoding aspect.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1102" target="_blank">00:18:22.360</a></span> | <span class="t">We wanted to have everything at the pre-fill.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1104" target="_blank">00:18:24.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1105" target="_blank">00:18:25.360</a></span> | <span class="t">So what we did was basically all the items are being sequenced.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1107" target="_blank">00:18:27.360</a></span> | <span class="t">All the recommended items or potential candidates are sequenced together.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1111" target="_blank">00:18:31.360</a></span> | <span class="t">Mm-hmm.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1112" target="_blank">00:18:32.360</a></span> | <span class="t">But we also wanted to avoid them to attend to each other.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1116" target="_blank">00:18:36.360</a></span> | <span class="t">Mm-hmm.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1117" target="_blank">00:18:37.360</a></span> | <span class="t">So we leveraged basically what we call it like a 4D attention mask.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1121" target="_blank">00:18:41.360</a></span> | <span class="t">And we developed a special kernel actually in the SGLang and VLM to be able to do that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1128" target="_blank">00:18:48.360</a></span> | <span class="t">And now when you have up to 500 items in your query segment, those items don't attend to each other.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1135" target="_blank">00:18:55.360</a></span> | <span class="t">They only attend to the historical user and user profile information.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1140" target="_blank">00:19:00.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1141" target="_blank">00:19:01.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1142" target="_blank">00:19:02.360</a></span> | <span class="t">Hey.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1143" target="_blank">00:19:03.360</a></span> | <span class="t">Great talk.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1144" target="_blank">00:19:04.360</a></span> | <span class="t">So a user history means many things, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1147" target="_blank">00:19:07.360</a></span> | <span class="t">So like there is all of the jobs that they've applied to are in the job postings.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1151" target="_blank">00:19:11.360</a></span> | <span class="t">There are so many entities and so on.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1153" target="_blank">00:19:13.360</a></span> | <span class="t">The context of the model can get quite large.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1157" target="_blank">00:19:17.360</a></span> | <span class="t">How did you manage that?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1158" target="_blank">00:19:18.360</a></span> | <span class="t">Did you compress it or were there parts that you focused on?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1162" target="_blank">00:19:22.360</a></span> | <span class="t">Yeah.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1163" target="_blank">00:19:23.360</a></span> | <span class="t">So we actually experimented with a lot of things.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1165" target="_blank">00:19:25.360</a></span> | <span class="t">We experimented with the RAC system so that basically when we have a query, we try to figure out what are the most closest items in your history to bring it up.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1174" target="_blank">00:19:34.360</a></span> | <span class="t">We also experimented with chronical orders and some sort of way to get on the chronical orders.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1181" target="_blank">00:19:41.360</a></span> | <span class="t">It turns out that for majority of applications that we have, actually chronical order is good enough.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1186" target="_blank">00:19:46.360</a></span> | <span class="t">And that kind of makes sense because recommendation systems are very biased to the freshness.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1190" target="_blank">00:19:50.360</a></span> | <span class="t">So the more recent user activity helps.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1193" target="_blank">00:19:53.360</a></span> | <span class="t">One of the biggest challenge is actually the, this is more, now become more like a traditional LM problem.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1200" target="_blank">00:20:00.360</a></span> | <span class="t">How do you balance the distribution of your positive and negative within the context?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1204" target="_blank">00:20:04.360</a></span> | <span class="t">And I think that's become something that more like an ML engineering effort to figure out, okay, do I want more positive or negative?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1211" target="_blank">00:20:11.360</a></span> | <span class="t">Like how much information I need to put in the context?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1214" target="_blank">00:20:14.360</a></span> | <span class="t">Yeah.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1215" target="_blank">00:20:15.360</a></span> | <span class="t">I can add one more thing to this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1217" target="_blank">00:20:17.360</a></span> | <span class="t">Sure.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1218" target="_blank">00:20:18.360</a></span> | <span class="t">There is also another complication when you go to the serving of these models.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1221" target="_blank">00:20:21.360</a></span> | <span class="t">You don't want to break the KV caching or something that you're using in the serving.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1225" target="_blank">00:20:25.360</a></span> | <span class="t">So it's going to be a little bit more complicated, more cumbersome to do something that's smarter than just putting the chronological order.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1231" target="_blank">00:20:31.360</a></span> | <span class="t">So that's something that needs to be designed.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1233" target="_blank">00:20:33.360</a></span> | <span class="t">So it's not something that's very obvious.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1235" target="_blank">00:20:35.360</a></span> | <span class="t">Absolutely.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1236" target="_blank">00:20:36.360</a></span> | <span class="t">One more question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1237" target="_blank">00:20:37.360</a></span> | <span class="t">You guys did so many experiments, tried out so many things.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1240" target="_blank">00:20:40.360</a></span> | <span class="t">How's your entire system set up?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1241" target="_blank">00:20:41.360</a></span> | <span class="t">Because I'm assuming that you say quantization, but you must have tried different forms of quantization, whatnot.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1247" target="_blank">00:20:47.360</a></span> | <span class="t">How do you set up the system in such a way that you can try out multiple experiments and see what works best?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1253" target="_blank">00:20:53.360</a></span> | <span class="t">Can you talk a bit about that?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1255" target="_blank">00:20:55.360</a></span> | <span class="t">Yeah, so I'll just touch a bit on that one.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1257" target="_blank">00:20:57.360</a></span> | <span class="t">I think the one thing that we hold a very high bar for the one was automation.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1262" target="_blank">00:21:02.360</a></span> | <span class="t">So our system is very automated to the extent that when you're running experimentation, actually the result of the experiment being pushed automatically into the Excel sheet.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1271" target="_blank">00:21:11.360</a></span> | <span class="t">And now when you have such an automated system, now basically the developers are very efficient in terms of like, I just want to figure out different quantization.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1278" target="_blank">00:21:18.360</a></span> | <span class="t">So you just change the quantization parameters and everything else just by clicking a button happens end to end.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1284" target="_blank">00:21:24.360</a></span> | <span class="t">So I think automation is the key if you want to basically really optimize for these models.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1290" target="_blank">00:21:30.360</a></span> | <span class="t">So did you build all of that automation in-house or did you?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1293" target="_blank">00:21:33.360</a></span> | <span class="t">Yes.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1294" target="_blank">00:21:34.360</a></span> | <span class="t">Most of them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1295" target="_blank">00:21:35.360</a></span> | <span class="t">Well, we leveraged, for example, lightning, VLL, MSG like.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1297" target="_blank">00:21:37.360</a></span> | <span class="t">We leveraged basically a lot of open source tools, but we make sure that they are integrated very well with each other and optimize basically the entire flow.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1307" target="_blank">00:21:47.360</a></span> | <span class="t">Okay, thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1308" target="_blank">00:21:48.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1309" target="_blank">00:21:49.360</a></span> | <span class="t">Thank you again, Hamad Mazah.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1311" target="_blank">00:21:51.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1312" target="_blank">00:21:52.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1313" target="_blank">00:21:53.360</a></span> | <span class="t">Thank you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1314" target="_blank">00:21:54.360</a></span> | <span class="t">you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1314" target="_blank">00:21:54.860</a></span> | <span class="t">you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=U0S6CfzAY5c&t=1316" target="_blank">00:21:56.920</a></span> | <span class="t">you</span></div></div></body></html>
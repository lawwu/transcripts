<html><head><title>New LangChain XML Agents</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 80%;
        margin: auto;
        overflow: hidden;
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>New LangChain XML Agents</h2><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI"><img src="https://i.ytimg.com/vi_webp/a4R4vdqSdkI/maxresdefault.webp" style="width:50%;"></a><div><br></div><h3>Chapters</h3><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=0">0:0</a> LangChain v1 XML Agents<br><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=36">0:36</a> LangChain Agent Types<br><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=133">2:13</a> LangChain Python Setup<br><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=163">2:43</a> AI ArXiv 2 Dataset<br><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=274">4:34</a> Building Index with Cohere and Pinecone<br><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=517">8:37</a> Building a LangChain XML Agent<br><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=919">15:19</a> Giving our Agent Conversation Memory<br><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1161">19:21</a> XML Agents Conclusion<br><br><div style="text-align: left;"><a href="./a4R4vdqSdkI.html">Whisper Transcript</a> | <a href="./transcript_a4R4vdqSdkI.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=0" target="_blank">00:00:00.000</a></span> | <span class="t">Today we're going to be taking a look at one of the alternative agent types that you can use in the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=4" target="_blank">00:00:04.960</a></span> | <span class="t">lang chain and specifically we'd want to use this agent with anthropic LLMs. So we're going to be</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=11" target="_blank">00:00:11.440</a></span> | <span class="t">taking a look at this agent it's called the XML agent and we're going to see how to use it with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=16" target="_blank">00:00:16.560</a></span> | <span class="t">some simple tools. We're going to be adding in a rag pipeline using pyngon serverless and we're also</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=23" target="_blank">00:00:23.680</a></span> | <span class="t">going to be using coheres embed v3 embeddings so three relatively new models and services there so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=33" target="_blank">00:00:33.680</a></span> | <span class="t">that will be pretty interesting and we'll see what we get. So we're going to start here on the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=38" target="_blank">00:00:38.080</a></span> | <span class="t">agent types page on in the lang chain docs so we come down to here and we can see some information</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=44" target="_blank">00:00:44.160</a></span> | <span class="t">okay so you have like the openai ones here and then we have xml right so this is one we're going</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=48" target="_blank">00:00:48.400</a></span> | <span class="t">to focus on and it literally says if you're using anthropic models or other models good at xml so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=54" target="_blank">00:00:54.080</a></span> | <span class="t">maybe they have a example of xml somewhere which yes would look like this so you can see that the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=62" target="_blank">00:01:02.720</a></span> | <span class="t">different format that xml uses is literally like xml with the sort of html like tags you have the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=71" target="_blank">00:01:11.280</a></span> | <span class="t">tool name here so that's like the action that you would get within the json that you'd pass</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=77" target="_blank">00:01:17.040</a></span> | <span class="t">through a react agent you have the tool input that's the action input and this would be the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=84" target="_blank">00:01:24.480</a></span> | <span class="t">response that the agent will get right then it must answer like this so it passes the final</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=91" target="_blank">00:01:31.600</a></span> | <span class="t">answer tags like so it's a little more compact than the react approach and obviously with models</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=99" target="_blank">00:01:39.760</a></span> | <span class="t">that have been trained to use this it's going to work better it's going to be more reliable which</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=104" target="_blank">00:01:44.080</a></span> | <span class="t">is important so yeah it's a good thing to use especially if you are using anthropic models</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=112" target="_blank">00:01:52.000</a></span> | <span class="t">so for the example notebook i'm in the pinecone examples learn generation line chain i've started</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=119" target="_blank">00:01:59.280</a></span> | <span class="t">a new directory for the v1 stuff because we're using line chain v1 here which again that's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=125" target="_blank">00:02:05.360</a></span> | <span class="t">another kind of new thing so we're going to go to xml agents and we're going to go to open in colab</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=133" target="_blank">00:02:13.600</a></span> | <span class="t">cool so we're here i'm going to connect and yeah we can start going through it so these are the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=139" target="_blank">00:02:19.840</a></span> | <span class="t">versions that we're using so we have line chain long chain community line chain hub where we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=144" target="_blank">00:02:24.480</a></span> | <span class="t">going to get the prompt from for this model anthropic as mentioned cohere pinecone client</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=149" target="_blank">00:02:29.760</a></span> | <span class="t">and hugging face data sets a few libraries here but all pretty lightweight so okay okay cool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=158" target="_blank">00:02:38.400</a></span> | <span class="t">uh i think this is probably fine and here we are so oh this is another new thing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=165" target="_blank">00:02:45.280</a></span> | <span class="t">so we also have the ai archive 2 data set now if you've been watching a few of my videos you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=172" target="_blank">00:02:52.960</a></span> | <span class="t">will have seen me using the ai archive data set this is a new one uh so if i go over here i just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=180" target="_blank">00:03:00.080</a></span> | <span class="t">came off the notebook but if you come over here you can kind of see what that looks like</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=186" target="_blank">00:03:06.000</a></span> | <span class="t">we have a lot more data in there now and that's also growing i literally have the process running</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=193" target="_blank">00:03:13.120</a></span> | <span class="t">right now pulling in more archive papers and yeah it's a lot cleaner the the text that's been</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=202" target="_blank">00:03:22.160</a></span> | <span class="t">processed using a the yolo x model and the unstructured library for that that's why it</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=209" target="_blank">00:03:29.200</a></span> | <span class="t">takes so long to actually it's been processing this for like a week uh but yeah it's a much</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=216" target="_blank">00:03:36.000</a></span> | <span class="t">better quality which is great so that's exciting and yeah let's uh so let's start here we'll get</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=224" target="_blank">00:03:44.160</a></span> | <span class="t">this little warning we can ignore it it's not they just want us they basically want us to use the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=229" target="_blank">00:03:49.760</a></span> | <span class="t">token but we don't need the token for this data set so sorry hugging face now while we're waiting</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=237" target="_blank">00:03:57.200</a></span> | <span class="t">for that we can go get our first api key we need a couple so let's go over to cohere so it's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=244" target="_blank">00:04:04.160</a></span> | <span class="t">dashboard</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=245" target="_blank">00:04:05.680</a></span> | <span class="t">dot cohere dot com go over to api keys and you create an api key so just copy your api key and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=256" target="_blank">00:04:16.640</a></span> | <span class="t">we're gonna get to where you enter in a moment so we've just downloaded just 20 000 rows here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=262" target="_blank">00:04:22.240</a></span> | <span class="t">we don't need tons for this example and obviously it costs more and it's gonna take a while if we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=268" target="_blank">00:04:28.640</a></span> | <span class="t">download the full data set as well so i'm just taking the first 20 000 there then we're gonna</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=276" target="_blank">00:04:36.400</a></span> | <span class="t">take the cohere api key so that's one we just got we're gonna enter that in this little nice</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=283" target="_blank">00:04:43.200</a></span> | <span class="t">little text box again great and then we can initialize the coherent beddings that we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=289" target="_blank">00:04:49.600</a></span> | <span class="t">going to be using so we have coherent beddings we're using the embed english v3 model so let's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=295" target="_blank">00:04:55.520</a></span> | <span class="t">run that okay and then pinecone api key so we go app.pinecone.io and we'll end up here well you'll</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=306" target="_blank">00:05:06.080</a></span> | <span class="t">probably have like a default project so i already have my xml agents example there so i will i'm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=315" target="_blank">00:05:15.120</a></span> | <span class="t">gonna leave it so that i don't need to wait for it to recreate everything but mainly i want to go to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=322" target="_blank">00:05:22.240</a></span> | <span class="t">api keys here and i'm going to copy this okay and i'm going to run this out and again i'm going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=328" target="_blank">00:05:28.960</a></span> | <span class="t">enter my api key okay cool so that looks good i am using pinecone serverless here so i would</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=337" target="_blank">00:05:37.600</a></span> | <span class="t">recommend doing the same it's what one you get i think it's a hundred dollars right now obviously</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=344" target="_blank">00:05:44.560</a></span> | <span class="t">i don't know when you're watching this but as i recall this you get a hundred dollars</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=348" target="_blank">00:05:48.080</a></span> | <span class="t">uh free credits there and i know that very soon there will also be a free tier for serverless</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=355" target="_blank">00:05:55.760</a></span> | <span class="t">and it's just when when you do if you come to paying if you ever do i mean you have a hundred</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=364" target="_blank">00:06:04.000</a></span> | <span class="t">dollars so probably not for a while anyway uh you it's like nothing it's crazy cheap so anyway uh</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=373" target="_blank">00:06:13.040</a></span> | <span class="t">yes so this is how we would create an embedding maybe i should have put that further up but fine</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=377" target="_blank">00:06:17.840</a></span> | <span class="t">so this is using coherent model we're embedding documents or i'm just embedding hello and yeah</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=385" target="_blank">00:06:25.280</a></span> | <span class="t">you get this dimensional vector out of it that is the dimensionality of the coherent embedding</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=389" target="_blank">00:06:29.680</a></span> | <span class="t">model the reason i'm showing you that is because we need to use this just here when we're initializing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=395" target="_blank">00:06:35.040</a></span> | <span class="t">our index now yeah we pass in our serverless spec if you wanted to use pods you would swap</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=401" target="_blank">00:06:41.200</a></span> | <span class="t">that for a pod spec and this is the index name you saw it in my dashboard a moment ago</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=407" target="_blank">00:06:47.760</a></span> | <span class="t">and yeah let's we can run that with the metric interestingly for the coherent models the embedded</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=415" target="_blank">00:06:55.680</a></span> | <span class="t">v3 models anyway you can actually use you can use euclidean cosine or dot product apparently</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=422" target="_blank">00:07:02.880</a></span> | <span class="t">they all give the same the same similarity which is it is kind of cool i don't know how exactly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=431" target="_blank">00:07:11.280</a></span> | <span class="t">that is possible but that's cool interesting so yeah uh we word okay right now or when you're on</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=440" target="_blank">00:07:20.480</a></span> | <span class="t">this you should probably see zero for your total vector count it's because i already have the index</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=444" target="_blank">00:07:24.960</a></span> | <span class="t">and then after that you would just create your index like this the id we can actually actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=451" target="_blank">00:07:31.120</a></span> | <span class="t">do that because we have unique ideas in here now where is it we have this so yeah just a little</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=459" target="_blank">00:07:39.440</a></span> | <span class="t">quick fix there and yeah you run that uh last time i did it was 11 minutes so it's a little bit of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=466" target="_blank">00:07:46.480</a></span> | <span class="t">time not too significant now while that is running for you let's jump over to grabbing our anthropic</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=475" target="_blank">00:07:55.120</a></span> | <span class="t">api keys so this one's always a little hard to find at least for me i always find it hard to find</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=480" target="_blank">00:08:00.640</a></span> | <span class="t">so you have to go to console anthropic.com so console.anthropic.com and you have to create an</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=491" target="_blank">00:08:11.600</a></span> | <span class="t">account if you don't already okay cool so you should get logged in i i'm gonna go to get api</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=500" target="_blank">00:08:20.000</a></span> | <span class="t">keys and yeah you can go to create key i'm gonna create a new one and we'll copy that okay so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=508" target="_blank">00:08:28.560</a></span> | <span class="t">let's continue we're not actually going to be using the anthropic api key for a little while</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=514" target="_blank">00:08:34.480</a></span> | <span class="t">but i wanted to initialize it quickly now anyway so what we are going to be doing is setting up</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=521" target="_blank">00:08:41.040</a></span> | <span class="t">our agent or everything that our agent needs which is actually quite a few things you have to think</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=526" target="_blank">00:08:46.240</a></span> | <span class="t">okay we need our tool which is going to be our search we need our prompts we need some form of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=534" target="_blank">00:08:54.320</a></span> | <span class="t">memory because we're going to make a conversational agent here and i think there may be some other</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=540" target="_blank">00:09:00.560</a></span> | <span class="t">thing oh the lm of course so anthropic and yeah you know there's a few things that we need there</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=547" target="_blank">00:09:07.040</a></span> | <span class="t">so let's start with our tool so slightly different syntax here to maybe what i've shown in the past</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=556" target="_blank">00:09:16.080</a></span> | <span class="t">so using now using the tool decorator tool decorator when we use it we need to make sure</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=560" target="_blank">00:09:20.720</a></span> | <span class="t">we pass a description here this description is going to be how the lm decides whether to use</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=567" target="_blank">00:09:27.760</a></span> | <span class="t">this tool or another tool or no tool so we do need something good here something descriptive</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=573" target="_blank">00:09:33.440</a></span> | <span class="t">but concise within our tool so we're going to pass a string query uh we're going to embed that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=579" target="_blank">00:09:39.520</a></span> | <span class="t">using cohere we're going to search using pinecone making sure that we return our metadata because</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=586" target="_blank">00:09:46.480</a></span> | <span class="t">that will contain our actual plain text and then we return a single string containing all of our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=594" target="_blank">00:09:54.080</a></span> | <span class="t">responses okay so yeah let's run that we pack that into this tools list and then what we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=603" target="_blank">00:10:03.600</a></span> | <span class="t">need is a few different formats for this tools list and yeah so we have that and then to so when</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=612" target="_blank">00:10:12.080</a></span> | <span class="t">our agent is actually using the tool it's going to use it like this so it's going to run the tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=617" target="_blank">00:10:17.360</a></span> | <span class="t">and then it's going to input a query and let's say our query is can you tell me about llama 2</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=624" target="_blank">00:10:24.560</a></span> | <span class="t">okay so we're going to be asking those questions again let's see what we get so we we get a good</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=629" target="_blank">00:10:29.280</a></span> | <span class="t">response okay so this is the the output from our tool that our agent may see depending on the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=638" target="_blank">00:10:38.160</a></span> | <span class="t">question that it that it asks so we now can go and define our xml agent so we come down to here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=647" target="_blank">00:10:47.120</a></span> | <span class="t">you know i'm describing a little bit what i already described about you know how the xml thing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=652" target="_blank">00:10:52.640</a></span> | <span class="t">works and here we go so we want to download a prompt so this is a xml agent conversational</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=664" target="_blank">00:11:04.000</a></span> | <span class="t">prompt and you can see here it's like okay you are a helpful assistant and then it tells it</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=668" target="_blank">00:11:08.640</a></span> | <span class="t">about the different tags that it should use the xml tags so on and so on okay so it's the it's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=674" target="_blank">00:11:14.320</a></span> | <span class="t">what i showed you before and you can also see here that it allows a few inputs so the agent scratch</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=679" target="_blank">00:11:19.680</a></span> | <span class="t">pad it's like it's internal thoughts the input so our query and some tools okay another one that we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=688" target="_blank">00:11:28.560</a></span> | <span class="t">may use is the chat history now which would end up somewhere around somewhere here chat history</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=695" target="_blank">00:11:35.680</a></span> | <span class="t">gets inside there so we'll need to add that as well now we get to our anthropic chat lm so we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=703" target="_blank">00:11:43.440</a></span> | <span class="t">initialize this and we want to enter our api key that we copied from before okay so we now have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=711" target="_blank">00:11:51.920</a></span> | <span class="t">we have our tools we have our lm we have our prompt there's a few more steps that we need</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=718" target="_blank">00:11:58.240</a></span> | <span class="t">so one thing that we need is a way of converting our intermediate steps into text in the correct</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=726" target="_blank">00:12:06.080</a></span> | <span class="t">format so this is what we get all right so this goes into the scratch pad i.e the internal thoughts</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=733" target="_blank">00:12:13.600</a></span> | <span class="t">of the model so it's basically going to take okay the the tool that was decided to be used</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=741" target="_blank">00:12:21.280</a></span> | <span class="t">uh the input to that tool and what it got from that tool okay so this is coming from in the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=747" target="_blank">00:12:27.120</a></span> | <span class="t">intermediate steps so formats that into a nice string format for the model of the agent we have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=754" target="_blank">00:12:34.480</a></span> | <span class="t">another one here so this is when it is so for the initial prompt how it will decide to use different</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=762" target="_blank">00:12:42.800</a></span> | <span class="t">tools so we have tool name and that maps to a particular tool description so we also need that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=768" target="_blank">00:12:48.240</a></span> | <span class="t">so we also need that format and then with that i think we have pretty much everything uh yeah so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=775" target="_blank">00:12:55.840</a></span> | <span class="t">yeah you can see so this is like the agent logic itself so the input that is going into the agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=784" target="_blank">00:13:04.000</a></span> | <span class="t">then we can see the tool descriptions that are being passed into there and then we have this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=792" target="_blank">00:13:12.560</a></span> | <span class="t">so this is telling our lm when it sees tool input tell it the ending tool input tag or the ending</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=799" target="_blank">00:13:19.440</a></span> | <span class="t">final answer tag it should stop and we should use the xml output agent output parser okay which is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=806" target="_blank">00:13:26.240</a></span> | <span class="t">just going to pass whatever the agent is generated into something that is usable okay so yeah we we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=813" target="_blank">00:13:33.680</a></span> | <span class="t">have that one thing i should know is that you could technically remove this but later on what</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=821" target="_blank">00:13:41.200</a></span> | <span class="t">you will see is that the agent when deciding what tools to use and what information passes to those</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=826" target="_blank">00:13:46.480</a></span> | <span class="t">tools will have no context of what's happened before so it's not a very good conversational</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=831" target="_blank">00:13:51.360</a></span> | <span class="t">agent so you basically you do want to have that in there otherwise you're gonna run into issues</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=838" target="_blank">00:13:58.080</a></span> | <span class="t">okay so that's our agent logic definition and now we need to define our agent executor there's a few</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=846" target="_blank">00:14:06.720</a></span> | <span class="t">steps to this i know we're there now so we define our agent executor we pass in the agent logic that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=852" target="_blank">00:14:12.720</a></span> | <span class="t">we just uh defined we pass in the tools and we're going to set verbose to true so that we can see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=858" target="_blank">00:14:18.640</a></span> | <span class="t">what's happening when we're running everything and now what we do is we invoke the agent executor</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=865" target="_blank">00:14:25.760</a></span> | <span class="t">we pass out input and chat history we don't have any chat history right now we'll handle that soon</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=872" target="_blank">00:14:32.160</a></span> | <span class="t">and yeah let's see what we get so we're just passing this input in can you tell me about</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=876" target="_blank">00:14:36.800</a></span> | <span class="t">llama 2 and we'll see what happens okay so we can see that uses the archive search tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=881" target="_blank">00:14:41.680</a></span> | <span class="t">the input is llama 2 it's a little bit weird because we're dropping that end token but that's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=887" target="_blank">00:14:47.840</a></span> | <span class="t">fine and then you can see it this blue text here is what is returned from the tool okay so it's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=892" target="_blank">00:14:52.960</a></span> | <span class="t">the observation then it decides okay i'm going to use the final answer now i'm going to generate</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=899" target="_blank">00:14:59.520</a></span> | <span class="t">well generate a final answer and this is the final answer that it generates okay this is what gets</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=906" target="_blank">00:15:06.080</a></span> | <span class="t">returned to us and we can see here this is the output right based on the information provided</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=910" target="_blank">00:15:10.640</a></span> | <span class="t">so on and so on and okay uh so it does get get the answer okay it's not a hard one to get an answer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=918" target="_blank">00:15:18.160</a></span> | <span class="t">for so that's good now we would like to add some conversational memory here okay we didn't we don't</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=924" target="_blank">00:15:24.400</a></span> | <span class="t">have any right now we just have chat history it's empty so let's do that we will use a conversational</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=932" target="_blank">00:15:32.160</a></span> | <span class="t">buffer window memory it's like the super basic one there are obviously many other ways of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=938" target="_blank">00:15:38.880</a></span> | <span class="t">implementing memory as well but this one's just nice and easy and what we will do to start with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=945" target="_blank">00:15:45.920</a></span> | <span class="t">is create some chat history okay so actually why am i so i want to use a message into here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=952" target="_blank">00:15:52.880</a></span> | <span class="t">and again we're going to start with no chat history okay so we just get fine lines straight</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=957" target="_blank">00:15:57.600</a></span> | <span class="t">away it doesn't need to use the tool here now we need to extract what we have here and create some</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=965" target="_blank">00:16:05.120</a></span> | <span class="t">chat history with it because right now we haven't connected that conversational memory to our agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=972" target="_blank">00:16:12.240</a></span> | <span class="t">whatsoever and we don't connect it directly we instead what we will do is we'll use these</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=977" target="_blank">00:16:17.600</a></span> | <span class="t">methods add user message and add ai message to manually add everything okay but we're going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=984" target="_blank">00:16:24.480</a></span> | <span class="t">wrap it up into a nice little function soon so after we do that we'll see that our conversational</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=990" target="_blank">00:16:30.320</a></span> | <span class="t">memory now does have some history in there so we have this okay that's great but what we actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=997" target="_blank">00:16:37.520</a></span> | <span class="t">need for our xml agent is conversational memory it looks like this so we need a string in this format</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1004" target="_blank">00:16:44.880</a></span> | <span class="t">and you know we're not far off with this it's it's not exactly hard to pass so let's create a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1011" target="_blank">00:16:51.920</a></span> | <span class="t">helper function to help us do that so our memory input into this is going to be the conversation</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1017" target="_blank">00:16:57.520</a></span> | <span class="t">buffer window memory object we extract the messages so basically what you see here we're going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1024" target="_blank">00:17:04.240</a></span> | <span class="t">extract those and we're going to create a list with human and ai depending on whether it's a human</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1030" target="_blank">00:17:10.960</a></span> | <span class="t">message or not which would be an ai message and then we're just going to join those together to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1036" target="_blank">00:17:16.720</a></span> | <span class="t">create a single string in the format that we need okay and now if we print that we see that we get</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1041" target="_blank">00:17:21.760</a></span> | <span class="t">the format that we need cool so let's wrap all that into yet another helper function called chat</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1048" target="_blank">00:17:28.960</a></span> | <span class="t">and this is going to help us deal with the state of our agent or keeping maintaining state in our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1054" target="_blank">00:17:34.640</a></span> | <span class="t">agent so run that and let's continue the conversation now we're going to say can you tell</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1060" target="_blank">00:17:40.880</a></span> | <span class="t">me about llama 2 okay cool so we can see the typical stuff here and it outputs this which is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1070" target="_blank">00:17:50.880</a></span> | <span class="t">it's actually a pretty nice summary so then we want to continue and i'm going to say was any</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1078" target="_blank">00:17:58.960</a></span> | <span class="t">red teaming done and the reason so the reason i'm asking this is this is a hard question at</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1084" target="_blank">00:18:04.800</a></span> | <span class="t">least it has been in the past with the old data set so we should hopefully get something better</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1090" target="_blank">00:18:10.000</a></span> | <span class="t">now because it's cleaner and we're also using these you know these different agents so let's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1094" target="_blank">00:18:14.960</a></span> | <span class="t">see what we get now one thing that you will notice here is i'm not saying llama 2 so this the context</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1103" target="_blank">00:18:23.200</a></span> | <span class="t">to this question relies on our conversational memory and you can see that it works right so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1109" target="_blank">00:18:29.120</a></span> | <span class="t">we decide to use the archive search tool and the the look at the query it's llama 2 red team i</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1115" target="_blank">00:18:35.360</a></span> | <span class="t">didn't mention llama 2 here i mentioned llama 2 in the previous interaction so it's looking at the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1120" target="_blank">00:18:40.000</a></span> | <span class="t">previous conversational memory and pulling that in to the query and that's good because we actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1127" target="_blank">00:18:47.280</a></span> | <span class="t">get some relevant context here so you can see okay risk score output by llama 2 safety reward</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1133" target="_blank">00:18:53.040</a></span> | <span class="t">model on prompts so on and so on okay cool and we can see we come down to here it says yes red</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1140" target="_blank">00:19:00.480</a></span> | <span class="t">teaming was done on llama 2 models to evaluate risk from evaluating generating malicious code</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1144" target="_blank">00:19:04.880</a></span> | <span class="t">so on and so on which is this is the best response i've had on this question so far by by a long</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1155" target="_blank">00:19:15.280</a></span> | <span class="t">shot usually it's pretty bad and maybe that's a data set issue but it's also we're using a good</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1160" target="_blank">00:19:20.560</a></span> | <span class="t">agent here so that is it for this little tutorial on html agents with lang chain v1 we've gone</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1170" target="_blank">00:19:30.560</a></span> | <span class="t">through a few things using a few different models which has been interesting and cool so one we use</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1177" target="_blank">00:19:37.920</a></span> | <span class="t">pinecone serverless which obviously kind of new and interesting we also use anthropic for the llm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1185" target="_blank">00:19:45.360</a></span> | <span class="t">and we also use coherent bennings and all those together made something that works pretty well</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1191" target="_blank">00:19:51.520</a></span> | <span class="t">in my opinion so yeah that's it for this video i hope this has been useful and interesting but for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1199" target="_blank">00:19:59.280</a></span> | <span class="t">now i'll leave it there so thank you very much for watching and i will see you again in the next one</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=a4R4vdqSdkI&t=1205" target="_blank">00:20:05.600</a></span> | <span class="t">bye</span></div></div></body></html>
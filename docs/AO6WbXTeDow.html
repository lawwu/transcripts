<html><head><title>End-to-end AI Agent Project with LangChain | Full Walkthrough</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>End-to-end AI Agent Project with LangChain | Full Walkthrough</h2><a href="https://www.youtube.com/watch?v=AO6WbXTeDow"><img src="https://i.ytimg.com/vi/AO6WbXTeDow/maxresdefault.jpg" style="width:50%;"></a><div><br></div><h3>Chapters</h3><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=0">0:0</a> End-to-End LangChain Agent<br><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=99">1:39</a> Setup the AI App<br><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=277">4:37</a> API Setup<br><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=688">11:28</a> API Token Generator<br><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=957">15:57</a> Agent Executor in API<br><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2043">34:3</a> Async SerpAPI Tool<br><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2408">40:8</a> Running the App<br><br><div style="text-align: left;"><a href="./AO6WbXTeDow.html">Whisper Transcript</a> | <a href="./transcript_AO6WbXTeDow.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=0" target="_blank">00:00:00.000</a></span> | <span class="t">Now we're on to the final capstone chapter.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2" target="_blank">00:00:02.760</a></span> | <span class="t">We're going to be taking everything that we've learned so far and using it to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=8" target="_blank">00:00:08.240</a></span> | <span class="t">build a actual chat application.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=11" target="_blank">00:00:11.820</a></span> | <span class="t">Now the chat application is what you can see right now.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=14" target="_blank">00:00:14.900</a></span> | <span class="t">And we can go into this and ask some pretty interesting questions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=19" target="_blank">00:00:19.260</a></span> | <span class="t">And because it's an agent, because as I access these tools, it will</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=22" target="_blank">00:00:22.020</a></span> | <span class="t">be able to answer them for us.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=23" target="_blank">00:00:23.700</a></span> | <span class="t">So we'll see inside our application that we can ask questions that require tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=28" target="_blank">00:00:28.920</a></span> | <span class="t">use, such as this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=30" target="_blank">00:00:30.060</a></span> | <span class="t">And because of the streaming that we've implemented, we can see all this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=33" target="_blank">00:00:33.680</a></span> | <span class="t">information in real time.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=34" target="_blank">00:00:34.740</a></span> | <span class="t">So we can see that serve API tool is being used, that these are the queries.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=38" target="_blank">00:00:38.400</a></span> | <span class="t">We saw all that was in parallel as well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=40" target="_blank">00:00:40.600</a></span> | <span class="t">So each one of those tools were being used in parallel.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=44" target="_blank">00:00:44.180</a></span> | <span class="t">We've modified the code a little bit to enable that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=47" target="_blank">00:00:47.220</a></span> | <span class="t">And we see that we have the answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=50" target="_blank">00:00:50.140</a></span> | <span class="t">We can also see the structured output being used here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=53" target="_blank">00:00:53.160</a></span> | <span class="t">So we can see our answer followed by the tools used here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=57" target="_blank">00:00:57.420</a></span> | <span class="t">And then we could ask follow up questions as well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=59" target="_blank">00:00:59.340</a></span> | <span class="t">Because this is conversational.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=60" target="_blank">00:01:00.540</a></span> | <span class="t">So we say, how is the weather in each of those cities?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=66" target="_blank">00:01:06.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=74" target="_blank">00:01:14.520</a></span> | <span class="t">That's pretty cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=76" target="_blank">00:01:16.000</a></span> | <span class="t">So this is what we're going to be building.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=78" target="_blank">00:01:18.340</a></span> | <span class="t">We are, of course, going to be focusing on the API, the back end.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=82" target="_blank">00:01:22.300</a></span> | <span class="t">I'm not a front end engineer, so I can't take you through that, but the code is there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=86" target="_blank">00:01:26.820</a></span> | <span class="t">So for those of you that do want to go through the front end code, you can, of course, go and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=91" target="_blank">00:01:31.260</a></span> | <span class="t">do that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=91" target="_blank">00:01:31.840</a></span> | <span class="t">But we'll be focusing on how we build the API that powers all of this using, of course,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=97" target="_blank">00:01:37.540</a></span> | <span class="t">everything that we've learned so far.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=99" target="_blank">00:01:39.280</a></span> | <span class="t">So let's jump into it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=100" target="_blank">00:01:40.680</a></span> | <span class="t">The first thing I'm going to want to do is clone this repo.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=103" target="_blank">00:01:43.760</a></span> | <span class="t">So we'll copy this URL.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=105" target="_blank">00:01:45.940</a></span> | <span class="t">This is repo, Aurelio Labs, Linechain course.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=108" target="_blank">00:01:48.960</a></span> | <span class="t">And you just clone your repo like so.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=113" target="_blank">00:01:53.920</a></span> | <span class="t">I've already done this, so I'm not going to do it again.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=116" target="_blank">00:01:56.400</a></span> | <span class="t">Instead, I'll just navigate to the Linechain course repo.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=121" target="_blank">00:02:01.540</a></span> | <span class="t">Now, there's a few set up things that you do need to do.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=125" target="_blank">00:02:05.100</a></span> | <span class="t">All of those can be found in the README.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=127" target="_blank">00:02:07.940</a></span> | <span class="t">So we just open a new tab here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=131" target="_blank">00:02:11.780</a></span> | <span class="t">And I'll open the README.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=134" target="_blank">00:02:14.940</a></span> | <span class="t">Okay, so this explains everything we need.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=137" target="_blank">00:02:17.380</a></span> | <span class="t">We have, if you were running this locally already, you will have seen this or you will have already</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=142" target="_blank">00:02:22.920</a></span> | <span class="t">done all of this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=143" target="_blank">00:02:23.680</a></span> | <span class="t">But for those of you that haven't, we'll go through it quickly now.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=147" target="_blank">00:02:27.340</a></span> | <span class="t">So you will need to install the UV library.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=151" target="_blank">00:02:31.840</a></span> | <span class="t">So this is how we manage our Python environment, our packages.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=156" target="_blank">00:02:36.620</a></span> | <span class="t">We use UV.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=158" target="_blank">00:02:38.140</a></span> | <span class="t">On Mac, you would install it like so.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=161" target="_blank">00:02:41.540</a></span> | <span class="t">If you're on Windows or Linux, just double check how you'd install over here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=167" target="_blank">00:02:47.580</a></span> | <span class="t">Once you have installed this, you would then go to install Python.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=173" target="_blank">00:02:53.620</a></span> | <span class="t">So UV Python install.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=175" target="_blank">00:02:55.820</a></span> | <span class="t">Then we want to create our vnv, our virtual environment, using that version of Python.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=182" target="_blank">00:03:02.320</a></span> | <span class="t">So vvnv here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=184" target="_blank">00:03:04.760</a></span> | <span class="t">Then, as we can see here, we need to activate that virtual environment, which I did miss from here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=192" target="_blank">00:03:12.260</a></span> | <span class="t">So let me quickly add that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=194" target="_blank">00:03:14.460</a></span> | <span class="t">So you just run that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=196" target="_blank">00:03:16.340</a></span> | <span class="t">For me, I'm using fish.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=197" target="_blank">00:03:17.760</a></span> | <span class="t">So I just add fish onto the end there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=200" target="_blank">00:03:20.100</a></span> | <span class="t">But if you're using bash or ZSH, I think you can just run that directly.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=203" target="_blank">00:03:23.940</a></span> | <span class="t">And then, finally, we need to sync, i.e. install all of our packages using UV Sync.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=211" target="_blank">00:03:31.320</a></span> | <span class="t">And you see that will install everything for you.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=214" target="_blank">00:03:34.560</a></span> | <span class="t">Great.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=216" target="_blank">00:03:36.160</a></span> | <span class="t">So we have that and we can go ahead and actually open cursor or VSCode.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=223" target="_blank">00:03:43.540</a></span> | <span class="t">And then we should find ourselves within cursor or VSCode.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=227" target="_blank">00:03:47.900</a></span> | <span class="t">So in here, you'll find a few things that we will need.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=233" target="_blank">00:03:53.220</a></span> | <span class="t">So first is environment variables.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=236" target="_blank">00:03:56.020</a></span> | <span class="t">So we can come over to here and we have OpenAI API key, Learning Chain API key, and Serp API API key.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=243" target="_blank">00:04:03.160</a></span> | <span class="t">Create a copy of this and you'd make this your .env file.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=249" target="_blank">00:04:09.160</a></span> | <span class="t">Or if you want to run it with Source, you can, well, I like to use mac.env when I'm on Mac and I just add export onto the start there and then enter my API keys.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=261" target="_blank">00:04:21.340</a></span> | <span class="t">Now, I actually already have these in this local.mac.env file, which over in my terminal, I would just activate with Source again like that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=271" target="_blank">00:04:31.540</a></span> | <span class="t">Now, we'll need that when we are running our API and application later.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=277" target="_blank">00:04:37.520</a></span> | <span class="t">But for now, let's just focus on understanding what the API actually looks like.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=283" target="_blank">00:04:43.020</a></span> | <span class="t">So navigating into the 09 capstone chapter, we'll find a few things.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=288" target="_blank">00:04:48.540</a></span> | <span class="t">What we're going to focus on is the API here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=292" target="_blank">00:04:52.500</a></span> | <span class="t">And we have a couple of notebooks that help us just understand, okay, what are we actually doing here?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=298" target="_blank">00:04:58.640</a></span> | <span class="t">So let me give you a quick overview of the API first.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=302" target="_blank">00:05:02.900</a></span> | <span class="t">So the API, we're using FastAPI for this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=305" target="_blank">00:05:05.500</a></span> | <span class="t">We have a few functions in here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=307" target="_blank">00:05:07.740</a></span> | <span class="t">The one we'll start with is this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=310" target="_blank">00:05:10.180</a></span> | <span class="t">Okay, so this is our post endpoint for invoke.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=313" target="_blank">00:05:13.580</a></span> | <span class="t">And this essentially sends something to our LLM and begins a streaming response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=319" target="_blank">00:05:19.740</a></span> | <span class="t">So we can go ahead and actually start the API and we can just see what this looks like.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=324" target="_blank">00:05:24.740</a></span> | <span class="t">So we'll go into chapters 09 capstone API after setting our environment variables here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=332" target="_blank">00:05:32.080</a></span> | <span class="t">And we just want to do uv run uvicorn main colon app reload.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=338" target="_blank">00:05:38.140</a></span> | <span class="t">We don't need to reload, but if we're modifying the code, that can be useful.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=342" target="_blank">00:05:42.300</a></span> | <span class="t">Okay, and we can see that our API is now running on localhost port 8000.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=348" target="_blank">00:05:48.100</a></span> | <span class="t">And if we go to our browser, we can actually open the dops for our API.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=354" target="_blank">00:05:54.940</a></span> | <span class="t">So we go to 8000 slash dops.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=358" target="_blank">00:05:58.040</a></span> | <span class="t">Again, we just see that we have that single invoke method.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=361" target="_blank">00:06:01.140</a></span> | <span class="t">It strikes the content.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=364" target="_blank">00:06:04.280</a></span> | <span class="t">And it gives us a small amount of information there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=367" target="_blank">00:06:07.420</a></span> | <span class="t">Now, we could try it out here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=369" target="_blank">00:06:09.420</a></span> | <span class="t">So if we say, say hello, we can run that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=374" target="_blank">00:06:14.660</a></span> | <span class="t">And we'll see that we get a response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=379" target="_blank">00:06:19.200</a></span> | <span class="t">We get this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=380" target="_blank">00:06:20.200</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=381" target="_blank">00:06:21.060</a></span> | <span class="t">Now, the thing that we're missing here is that this is actually being streamed back to us.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=385" target="_blank">00:06:25.900</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=386" target="_blank">00:06:26.980</a></span> | <span class="t">So this is not a just a direct response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=389" target="_blank">00:06:29.800</a></span> | <span class="t">This is a stream.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=390" target="_blank">00:06:30.940</a></span> | <span class="t">To see that, we're going to navigate over to here, to this streaming test notebook.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=395" target="_blank">00:06:35.580</a></span> | <span class="t">And we'll run this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=398" target="_blank">00:06:38.760</a></span> | <span class="t">So we are using requests here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=401" target="_blank">00:06:41.240</a></span> | <span class="t">We are not just doing a, you know, the standard post request because we want to stream the output</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=408" target="_blank">00:06:48.040</a></span> | <span class="t">and then print the output as we are receiving them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=412" target="_blank">00:06:52.120</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=413" target="_blank">00:06:53.020</a></span> | <span class="t">So that's why this looks a little more complicated than just a typical request.post or request.get.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=418" target="_blank">00:06:58.580</a></span> | <span class="t">So what we're doing here is we're starting our session, which is our post request.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=425" target="_blank">00:07:05.940</a></span> | <span class="t">And then we're just iterating through the content as we receive it from that request.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=431" target="_blank">00:07:11.500</a></span> | <span class="t">When we receive a token, because sometimes this might be none, we print that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=436" target="_blank">00:07:16.960</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=437" target="_blank">00:07:17.700</a></span> | <span class="t">And we have that flush equals true as we have used in the past.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=440" target="_blank">00:07:20.640</a></span> | <span class="t">So let's define that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=442" target="_blank">00:07:22.980</a></span> | <span class="t">And then let's just ask a simple question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=444" target="_blank">00:07:24.940</a></span> | <span class="t">What is five plus five?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=446" target="_blank">00:07:26.380</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=449" target="_blank">00:07:29.840</a></span> | <span class="t">And we, we saw that that was, it was pretty quick.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=452" target="_blank">00:07:32.040</a></span> | <span class="t">So it generated this response first, and then it went ahead and actually continued streaming</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=459" target="_blank">00:07:39.000</a></span> | <span class="t">with all of this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=460" target="_blank">00:07:40.640</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=462" target="_blank">00:07:42.020</a></span> | <span class="t">And we can see that there are these special tokens that are being provided.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=465" target="_blank">00:07:45.180</a></span> | <span class="t">This is to help the front end basically decide, okay, what should go where.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=471" target="_blank">00:07:51.280</a></span> | <span class="t">So here where we're showing these multiple steps of tool use and the parameters, the way the front</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=479" target="_blank">00:07:59.760</a></span> | <span class="t">end is deciding how to display those is it's just, it's being provided a single stream, but</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=486" target="_blank">00:08:06.000</a></span> | <span class="t">it has the step tokens has a step has set name.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=489" target="_blank">00:08:09.420</a></span> | <span class="t">Then it has the parameters followed by the sort of ending of the step token.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=494" target="_blank">00:08:14.200</a></span> | <span class="t">And it's looking at each one of these.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=495" target="_blank">00:08:15.960</a></span> | <span class="t">And then the one step name that it treats differently is where it will see the final answer step name.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=503" target="_blank">00:08:23.220</a></span> | <span class="t">When it sees the final answer step name, rather than displaying this tool use interface, it instead</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=508" target="_blank">00:08:28.260</a></span> | <span class="t">begins streaming the tokens directly at like a typical chat interface.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=513" target="_blank">00:08:33.000</a></span> | <span class="t">And if we look at what we actually get in our final answer, it's not just the answer itself, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=519" target="_blank">00:08:39.660</a></span> | <span class="t">So we have the answer here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=521" target="_blank">00:08:41.700</a></span> | <span class="t">This is streamed into that typical chat output, but then we also have tools use.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=528" target="_blank">00:08:48.160</a></span> | <span class="t">And then this is added into the little boxes that we have below the chat here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=534" target="_blank">00:08:54.400</a></span> | <span class="t">So it's quite a lot going on just within this little stream.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=538" target="_blank">00:08:58.120</a></span> | <span class="t">Now we can try with some other questions here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=541" target="_blank">00:09:01.440</a></span> | <span class="t">So we're going to say, okay, tell me about the latest news in the world.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=544" target="_blank">00:09:04.540</a></span> | <span class="t">You can see that there's a little bit of a wait here whilst it's waiting to get the response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=548" target="_blank">00:09:08.220</a></span> | <span class="t">And then yeah, that's streaming a lot of stuff quite quickly.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=551" target="_blank">00:09:11.840</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=552" target="_blank">00:09:12.980</a></span> | <span class="t">So there's a lot coming through here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=555" target="_blank">00:09:15.220</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=555" target="_blank">00:09:15.740</a></span> | <span class="t">And then we can ask other questions like, okay, this one here, how called is it in Oslo right now?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=560" target="_blank">00:09:20.660</a></span> | <span class="t">Or is five multiplied by five?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=562" target="_blank">00:09:22.520</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=563" target="_blank">00:09:23.100</a></span> | <span class="t">So these two are going to be executed in parallel and then it will, after it has the answers for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=569" target="_blank">00:09:29.180</a></span> | <span class="t">those, the agent will use the other multiply tool to multiply those two values together and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=574" target="_blank">00:09:34.880</a></span> | <span class="t">all of that will get streamed.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=576" target="_blank">00:09:36.340</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=577" target="_blank">00:09:37.420</a></span> | <span class="t">And then as we saw earlier, we have the, what is the current date and time in these places?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=582" target="_blank">00:09:42.440</a></span> | <span class="t">Same thing.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=583" target="_blank">00:09:43.360</a></span> | <span class="t">So three questions, there are three questions here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=586" target="_blank">00:09:46.360</a></span> | <span class="t">What is the current date and time in Dubai?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=587" target="_blank">00:09:47.980</a></span> | <span class="t">What's the current date and time in Tokyo?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=589" target="_blank">00:09:49.660</a></span> | <span class="t">And what's the current date and time in Berlin?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=592" target="_blank">00:09:52.180</a></span> | <span class="t">Those three questions get executed in parallel against the API search tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=597" target="_blank">00:09:57.640</a></span> | <span class="t">And then all answers get returned within that final answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=602" target="_blank">00:10:02.060</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=602" target="_blank">00:10:02.740</a></span> | <span class="t">So that is how our API is working.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=606" target="_blank">00:10:06.720</a></span> | <span class="t">Now let's dive a little bit into the code and understand how it is working.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=612" target="_blank">00:10:12.600</a></span> | <span class="t">So there are a lot of important things here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=615" target="_blank">00:10:15.700</a></span> | <span class="t">There's some complexity, but at the same time, we've tried to make this as simple as possible</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=620" target="_blank">00:10:20.420</a></span> | <span class="t">as well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=621" target="_blank">00:10:21.040</a></span> | <span class="t">So let's just fast API syntax here with the app post invoke.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=626" target="_blank">00:10:26.340</a></span> | <span class="t">So to start invoke endpoint, we consume some, some content, which is a string.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=631" target="_blank">00:10:31.140</a></span> | <span class="t">And then if you remember from the agent executed deep dive, which is what we've implemented here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=637" target="_blank">00:10:37.440</a></span> | <span class="t">or a modified version of that, we have to initialize our async IO queue and our streamer,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=645" target="_blank">00:10:45.120</a></span> | <span class="t">which is the queue callback handler, which I believe is exactly the same as what we defined</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=650" target="_blank">00:10:50.120</a></span> | <span class="t">in that earlier chapter.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=651" target="_blank">00:10:51.240</a></span> | <span class="t">There's no differences there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=652" target="_blank">00:10:52.980</a></span> | <span class="t">So we define that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=654" target="_blank">00:10:54.560</a></span> | <span class="t">And then we return this streaming response object.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=658" target="_blank">00:10:58.600</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=659" target="_blank">00:10:59.280</a></span> | <span class="t">Again, this is a fast API thing.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=660" target="_blank">00:11:00.840</a></span> | <span class="t">This is so that you are streaming a response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=663" target="_blank">00:11:03.380</a></span> | <span class="t">That streaming response has a few attributes here, which again are fast API things or just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=669" target="_blank">00:11:09.840</a></span> | <span class="t">generic API things.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=671" target="_blank">00:11:11.640</a></span> | <span class="t">So some headers giving instructions to the API and then the media type here, which is text</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=677" target="_blank">00:11:17.660</a></span> | <span class="t">event stream.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=678" target="_blank">00:11:18.420</a></span> | <span class="t">You can also use, I think it's text plane possibly as well, but I believe this standard here would</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=685" target="_blank">00:11:25.300</a></span> | <span class="t">be to use event stream.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=687" target="_blank">00:11:27.020</a></span> | <span class="t">And then the more important part for us is this token generator.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=691" target="_blank">00:11:31.160</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=691" target="_blank">00:11:31.960</a></span> | <span class="t">So what is this token generator?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=694" target="_blank">00:11:34.240</a></span> | <span class="t">Well, it is this function that we defined up here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=697" target="_blank">00:11:37.620</a></span> | <span class="t">Now, if you, again, if you remember that earlier chapter at the end of the chapter, we sell a, a for loop where we were printing out different tokens in various formats.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=710" target="_blank">00:11:50.040</a></span> | <span class="t">So we kind of post-processing them before deciding how to display them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=715" target="_blank">00:11:55.440</a></span> | <span class="t">That's exactly what we're doing here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=717" target="_blank">00:11:57.100</a></span> | <span class="t">So in this block here, we're looping through every token that we're receiving from our streamer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=727" target="_blank">00:12:07.220</a></span> | <span class="t">We're looping through and we're just saying, okay, if this is the end of a step, we're going to yield this end of step token, which we, we saw here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=736" target="_blank">00:12:16.780</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=737" target="_blank">00:12:17.260</a></span> | <span class="t">So it's this end of, end of step token there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=740" target="_blank">00:12:20.180</a></span> | <span class="t">Otherwise, if this is a tool call.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=743" target="_blank">00:12:23.360</a></span> | <span class="t">So again, we've got that water operator here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=745" target="_blank">00:12:25.940</a></span> | <span class="t">So what we're doing is saying, okay, get the tool calls out from our current message.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=751" target="_blank">00:12:31.780</a></span> | <span class="t">If there is something there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=753" target="_blank">00:12:33.600</a></span> | <span class="t">So if this is not none, we're going to execute what's inside here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=757" target="_blank">00:12:37.660</a></span> | <span class="t">And what is being executed inside here is we're checking for the tool name.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=761" target="_blank">00:12:41.700</a></span> | <span class="t">If we have the tool name, we return this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=765" target="_blank">00:12:45.240</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=765" target="_blank">00:12:45.420</a></span> | <span class="t">So we have the start of step token, the start of the step name token, the tool name or step name, whichever of those you want to call it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=774" target="_blank">00:12:54.820</a></span> | <span class="t">And then the end of the step name token.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=777" target="_blank">00:12:57.920</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=778" target="_blank">00:12:58.880</a></span> | <span class="t">And then this, of course, comes through to the front end like that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=784" target="_blank">00:13:04.260</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=784" target="_blank">00:13:04.760</a></span> | <span class="t">That's what we have there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=785" target="_blank">00:13:05.980</a></span> | <span class="t">Otherwise, we should only be seeing the tool name returned as part of first token for every step.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=791" target="_blank">00:13:11.620</a></span> | <span class="t">After that, it should just be tool arguments.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=794" target="_blank">00:13:14.640</a></span> | <span class="t">So in this case, we say, okay, if we have those tool or function arguments, we're going to just return them directly.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=801" target="_blank">00:13:21.700</a></span> | <span class="t">So then that is a part that would stream all of this here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=805" target="_blank">00:13:25.040</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=805" target="_blank">00:13:25.820</a></span> | <span class="t">Like these would be individual tokens, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=808" target="_blank">00:13:28.680</a></span> | <span class="t">For example.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=809" target="_blank">00:13:29.200</a></span> | <span class="t">Right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=809" target="_blank">00:13:29.760</a></span> | <span class="t">So we might have the open curly brackets followed by query could be a token.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=814" target="_blank">00:13:34.920</a></span> | <span class="t">Latest could be a token.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=816" target="_blank">00:13:36.920</a></span> | <span class="t">World could be a token.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=818" target="_blank">00:13:38.080</a></span> | <span class="t">News could be a token, et cetera.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=819" target="_blank">00:13:39.620</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=820" target="_blank">00:13:40.800</a></span> | <span class="t">So that is why it's happening there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=822" target="_blank">00:13:42.120</a></span> | <span class="t">This should not get executed, but we have a, we just handle that just in case.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=827" target="_blank">00:13:47.840</a></span> | <span class="t">So we have any issues with tokens being returned there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=831" target="_blank">00:13:51.460</a></span> | <span class="t">We're just going to print this error and we're going to continue with the streaming, but that should not really be happening.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=839" target="_blank">00:13:59.140</a></span> | <span class="t">Cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=839" target="_blank">00:13:59.920</a></span> | <span class="t">So that is our token streaming loop.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=844" target="_blank">00:14:04.140</a></span> | <span class="t">Now, the way that we are picking up tokens from our stream object here is of course, through our agent execution logic, which is happening in parallel.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=854" target="_blank">00:14:14.240</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=855" target="_blank">00:14:15.140</a></span> | <span class="t">So all of this is asynchronous.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=856" target="_blank">00:14:16.580</a></span> | <span class="t">We have this async definition here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=858" target="_blank">00:14:18.360</a></span> | <span class="t">So all of this is happening asynchronously.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=861" target="_blank">00:14:21.380</a></span> | <span class="t">So what has happened here is here, we have created a task, which is the agent executor invoke.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=869" target="_blank">00:14:29.420</a></span> | <span class="t">And we passing our content, we're passing that streamer, which we're going to be pulling tokens from.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=873" target="_blank">00:14:33.900</a></span> | <span class="t">And we also set verbose to true.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=876" target="_blank">00:14:36.620</a></span> | <span class="t">We can actually remove that, but that would just allow us to see additional output in our terminal window if we want it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=884" target="_blank">00:14:44.600</a></span> | <span class="t">I don't think there's anything particularly interesting to look at in there, but particularly if you are debugging, that can be useful.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=893" target="_blank">00:14:53.360</a></span> | <span class="t">So we create our task here, but this does not begin the task.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=898" target="_blank">00:14:58.740</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=899" target="_blank">00:14:59.220</a></span> | <span class="t">This is a, it's async IO create task, but this does not begin until we await it down here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=905" target="_blank">00:15:05.840</a></span> | <span class="t">So what is happening here is essentially this code here is still being run or in like a, we're in an asynchronous loop here, but then we await this task.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=917" target="_blank">00:15:17.000</a></span> | <span class="t">As soon as we await this task, tokens will start being placed within our queue, which then get picked up by the streamer object here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=925" target="_blank">00:15:25.400</a></span> | <span class="t">So then this begins receiving tokens.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=928" target="_blank">00:15:28.800</a></span> | <span class="t">I know async code is always a little bit more confusing given the strange order of things, but that is essentially what is happening.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=939" target="_blank">00:15:39.380</a></span> | <span class="t">You can imagine all of this is essentially being executed all at the same time.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=943" target="_blank">00:15:43.500</a></span> | <span class="t">So we have that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=945" target="_blank">00:15:45.560</a></span> | <span class="t">Is there anything else to go through here?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=947" target="_blank">00:15:47.460</a></span> | <span class="t">I don't think so.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=948" target="_blank">00:15:48.720</a></span> | <span class="t">It's all sort of boilerplate stuff for FastAPI rather than the actual AI code itself.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=953" target="_blank">00:15:53.600</a></span> | <span class="t">So we have that as our streaming function.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=957" target="_blank">00:15:57.300</a></span> | <span class="t">Now let's have a look at the agent code itself.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=961" target="_blank">00:16:01.240</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=962" target="_blank">00:16:02.380</a></span> | <span class="t">So agent code, where would that be?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=964" target="_blank">00:16:04.460</a></span> | <span class="t">So we're using this agent executor invoke and we're importing this from the agent file.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=971" target="_blank">00:16:11.320</a></span> | <span class="t">So we can have a look in here for this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=974" target="_blank">00:16:14.380</a></span> | <span class="t">Now you can see straight away, we're pulling in our API keys here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=978" target="_blank">00:16:18.080</a></span> | <span class="t">Just make sure that you do have those.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=981" target="_blank">00:16:21.980</a></span> | <span class="t">Now, all of our cell.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=983" target="_blank">00:16:23.680</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=984" target="_blank">00:16:24.480</a></span> | <span class="t">This is what we've seen before in that agent executor deep dive chapter.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=990" target="_blank">00:16:30.180</a></span> | <span class="t">This is all practically the same.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=993" target="_blank">00:16:33.040</a></span> | <span class="t">So we have our LLM.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=996" target="_blank">00:16:36.100</a></span> | <span class="t">We've set those configurable fields as we did in the earlier chapters.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1000" target="_blank">00:16:40.460</a></span> | <span class="t">That configurable field is for our callbacks.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1002" target="_blank">00:16:42.900</a></span> | <span class="t">We have our prompt.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1004" target="_blank">00:16:44.280</a></span> | <span class="t">This has been modified a little bit.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1006" target="_blank">00:16:46.500</a></span> | <span class="t">So essentially just telling it, okay, make sure you use the tools provided.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1012" target="_blank">00:16:52.020</a></span> | <span class="t">We say you must use the final answer tool to provide a final answer to the user.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1016" target="_blank">00:16:56.560</a></span> | <span class="t">And one thing that I added that I noticed every now and again.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1019" target="_blank">00:16:59.760</a></span> | <span class="t">So I have explicitly said use tools answer the user's current question, not previous questions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1026" target="_blank">00:17:06.200</a></span> | <span class="t">So I found with this setup, it will occasionally, if I just have a little bit of small talk with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1033" target="_blank">00:17:13.300</a></span> | <span class="t">the agent and beforehand, I was asking questions about, okay, like what was the weather in this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1038" target="_blank">00:17:18.240</a></span> | <span class="t">place or that place, the agent will kind of hang on to those previous questions and try and use</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1043" target="_blank">00:17:23.100</a></span> | <span class="t">a tool again to answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1045" target="_blank">00:17:25.340</a></span> | <span class="t">And that is just something that you can more or less prompt out of it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1048" target="_blank">00:17:28.880</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1049" target="_blank">00:17:29.800</a></span> | <span class="t">So we have that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1050" target="_blank">00:17:30.780</a></span> | <span class="t">This is all exactly the same as before.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1052" target="_blank">00:17:32.900</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1053" target="_blank">00:17:33.320</a></span> | <span class="t">So we have our chat history to make this conversational.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1055" target="_blank">00:17:35.960</a></span> | <span class="t">We have our human message and then our agent scratch pad.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1059" target="_blank">00:17:39.460</a></span> | <span class="t">so that our agent can think through multiple tool use messages.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1063" target="_blank">00:17:43.900</a></span> | <span class="t">Great.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1064" target="_blank">00:17:44.840</a></span> | <span class="t">So we also have the article class.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1068" target="_blank">00:17:48.040</a></span> | <span class="t">So this is to process results from SERP API.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1072" target="_blank">00:17:52.220</a></span> | <span class="t">We have our SERP API function here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1076" target="_blank">00:17:56.060</a></span> | <span class="t">I will talk about that a little more in a moment, because this is also a little bit</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1079" target="_blank">00:17:59.580</a></span> | <span class="t">different to what we covered before.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1080" target="_blank">00:18:00.880</a></span> | <span class="t">What we covered before with SERP API, if you remember, was synchronous because we were using</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1087" target="_blank">00:18:07.900</a></span> | <span class="t">the SERP API client directly or the SERP API tool directly from Langchain.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1093" target="_blank">00:18:13.840</a></span> | <span class="t">And because we want everything to be asynchronous, we have had to recreate that tool in a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1101" target="_blank">00:18:21.920</a></span> | <span class="t">asynchronous fashion, which we'll talk about a little bit later.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1105" target="_blank">00:18:25.980</a></span> | <span class="t">But for now, let's move on from that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1108" target="_blank">00:18:28.060</a></span> | <span class="t">We can see our final answer being used here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1111" target="_blank">00:18:31.540</a></span> | <span class="t">So this is, I think we defined the exact same thing before, probably in that deep dive chapter</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1117" target="_blank">00:18:37.420</a></span> | <span class="t">again, where we have just the answer and the tools that have been used.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1121" target="_blank">00:18:41.340</a></span> | <span class="t">Great.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1122" target="_blank">00:18:42.800</a></span> | <span class="t">So we have that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1124" target="_blank">00:18:44.040</a></span> | <span class="t">One thing that is a little different here is when we are defining our name to tool function.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1132" target="_blank">00:18:52.380</a></span> | <span class="t">So this takes a tool name and it maps it to a tool function.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1137" target="_blank">00:18:57.940</a></span> | <span class="t">So when we have synchronous tools, we actually use tool funk here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1143" target="_blank">00:19:03.980</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1144" target="_blank">00:19:04.840</a></span> | <span class="t">So rather than tool coroutine, it would be tool funk.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1148" target="_blank">00:19:08.040</a></span> | <span class="t">However, we are using asynchronous tools.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1152" target="_blank">00:19:12.460</a></span> | <span class="t">And so this is actually tool coroutine.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1155" target="_blank">00:19:15.580</a></span> | <span class="t">And this is why, this is why if you, if you come up here, I've made every single tool asynchronous.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1162" target="_blank">00:19:22.180</a></span> | <span class="t">Now that is not really necessary for a tool like final answer because there is no, there's no API</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1169" target="_blank">00:19:29.460</a></span> | <span class="t">calls happening.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1170" target="_blank">00:19:30.900</a></span> | <span class="t">API call is a very typical scenario where you do want to use async.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1174" target="_blank">00:19:34.740</a></span> | <span class="t">Because if you make an API call with a synchronous function, your code is just going to be waiting</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1180" target="_blank">00:19:40.420</a></span> | <span class="t">for the response from the API while the API is processing and doing whatever it's doing.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1186" target="_blank">00:19:46.480</a></span> | <span class="t">So that is an ideal scenario where you would want to use async because rather than your code</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1193" target="_blank">00:19:53.640</a></span> | <span class="t">just waiting for the response from the API, it can instead go and do something else whilst it's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1199" target="_blank">00:19:59.640</a></span> | <span class="t">waiting.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1200" target="_blank">00:20:00.020</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1200" target="_blank">00:20:00.460</a></span> | <span class="t">So that's an ideal scenario where you'd use async, which is why we would use it, for example,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1204" target="_blank">00:20:04.880</a></span> | <span class="t">with a SERP API tool here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1206" target="_blank">00:20:06.320</a></span> | <span class="t">But for final answer and for all of these calculator tools that we've built, there's actually no need</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1214" target="_blank">00:20:14.780</a></span> | <span class="t">to have these as async because our code is just running through its executing this code.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1221" target="_blank">00:20:21.180</a></span> | <span class="t">There's no waiting involved.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1223" target="_blank">00:20:23.020</a></span> | <span class="t">So it doesn't necessarily make sense to have these asynchronous.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1226" target="_blank">00:20:26.200</a></span> | <span class="t">However, by making them asynchronous, it means that I can do tool coroutine for all of them</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1232" target="_blank">00:20:32.520</a></span> | <span class="t">rather than saying, oh, if this tool is synchronous, use tool.funk.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1237" target="_blank">00:20:37.920</a></span> | <span class="t">Whereas if this one is async, use tool.coroutine.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1241" target="_blank">00:20:41.220</a></span> | <span class="t">So it just simplifies the code for us a lot more.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1244" target="_blank">00:20:44.040</a></span> | <span class="t">But yeah, not directly necessary, but it does help us write cleaner code here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1250" target="_blank">00:20:50.340</a></span> | <span class="t">This is also true later on because we actually have to await our tool calls, which we can see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1258" target="_blank">00:20:58.360</a></span> | <span class="t">over here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1259" target="_blank">00:20:59.640</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1260" target="_blank">00:21:00.180</a></span> | <span class="t">So we have to await those tool calls.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1261" target="_blank">00:21:01.820</a></span> | <span class="t">That would get messier if we were using the like some sync tools, some async tools.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1269" target="_blank">00:21:09.360</a></span> | <span class="t">So we have that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1270" target="_blank">00:21:10.840</a></span> | <span class="t">We have our Q callback handler.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1273" target="_blank">00:21:13.040</a></span> | <span class="t">This is, again, that's the same as before.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1275" target="_blank">00:21:15.140</a></span> | <span class="t">So I'm not going to go through.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1277" target="_blank">00:21:17.320</a></span> | <span class="t">I'm not going to go through that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1278" target="_blank">00:21:18.820</a></span> | <span class="t">We covered that in the earlier deep dive chapter.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1281" target="_blank">00:21:21.080</a></span> | <span class="t">We have our execute tool function here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1283" target="_blank">00:21:23.780</a></span> | <span class="t">Again, that is asynchronous.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1285" target="_blank">00:21:25.180</a></span> | <span class="t">This just helps us, you know, clean up code a little bit.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1288" target="_blank">00:21:28.840</a></span> | <span class="t">This would, I think in the deep dive chapter, we had this directly placed within our agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1295" target="_blank">00:21:35.120</a></span> | <span class="t">executor function and executor function and you can do that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1297" target="_blank">00:21:37.040</a></span> | <span class="t">It's fine.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1297" target="_blank">00:21:37.660</a></span> | <span class="t">It's just a bit cleaner to kind of pull this out.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1300" target="_blank">00:21:40.520</a></span> | <span class="t">And we can also add more type annotations here, which I like.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1304" target="_blank">00:21:44.100</a></span> | <span class="t">So execute tool expects us to provide an AI message, which includes a tool call within it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1309" target="_blank">00:21:49.900</a></span> | <span class="t">And it will return us a tool message.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1312" target="_blank">00:21:52.960</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1314" target="_blank">00:21:54.180</a></span> | <span class="t">Agent executor.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1316" target="_blank">00:21:56.300</a></span> | <span class="t">This is all the same as before.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1318" target="_blank">00:21:58.680</a></span> | <span class="t">And we're actually not even using verbose here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1321" target="_blank">00:22:01.440</a></span> | <span class="t">So we could fully remove it, but I will leave it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1323" target="_blank">00:22:03.680</a></span> | <span class="t">Of course, if you would like to use that, you can just add a verbose and then log or print some stuff where you need it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1331" target="_blank">00:22:11.580</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1331" target="_blank">00:22:11.860</a></span> | <span class="t">So what do we have in here?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1334" target="_blank">00:22:14.140</a></span> | <span class="t">We have our streaming function.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1335" target="_blank">00:22:15.460</a></span> | <span class="t">So this is what actually calls our agent, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1341" target="_blank">00:22:21.680</a></span> | <span class="t">So we have a query.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1342" target="_blank">00:22:22.440</a></span> | <span class="t">This will call our agent just here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1345" target="_blank">00:22:25.620</a></span> | <span class="t">And we could even make this a little clearer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1348" target="_blank">00:22:28.560</a></span> | <span class="t">So for example, this could be configured agent, because this is, this is not the response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1355" target="_blank">00:22:35.640</a></span> | <span class="t">This is a configured agent.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1356" target="_blank">00:22:36.940</a></span> | <span class="t">So I think this is maybe a little clearer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1359" target="_blank">00:22:39.160</a></span> | <span class="t">So we are configuring our agent with our callbacks.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1362" target="_blank">00:22:42.540</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1363" target="_blank">00:22:43.160</a></span> | <span class="t">Which is just our streamer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1364" target="_blank">00:22:44.300</a></span> | <span class="t">Then we're iterating through the tokens are returned by our agent using a stream here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1370" target="_blank">00:22:50.660</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1371" target="_blank">00:22:51.640</a></span> | <span class="t">And as we are iterating through this, because we pass our streamer to the callbacks here,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1378" target="_blank">00:22:58.500</a></span> | <span class="t">what that is going to do is every single token that our agent returns is going to get processed</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1387" target="_blank">00:23:07.100</a></span> | <span class="t">through our queue callback handler here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1389" target="_blank">00:23:09.960</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1390" target="_blank">00:23:10.880</a></span> | <span class="t">So this on lm new token, on lm new token, these are going to get executed.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1397" target="_blank">00:23:17.180</a></span> | <span class="t">And then all of those tokens, you can see here, are passed to our queue.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1401" target="_blank">00:23:21.560</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1402" target="_blank">00:23:22.740</a></span> | <span class="t">Then we come up here and we have this a iter.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1405" target="_blank">00:23:25.180</a></span> | <span class="t">So this a iter method here is used by our generator over in our API is used by this token generator</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1413" target="_blank">00:23:33.680</a></span> | <span class="t">to pick up from the queue, the tokens that have been put in the queue by these other methods here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1424" target="_blank">00:23:44.080</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1424" target="_blank">00:23:44.280</a></span> | <span class="t">So it's putting tokens into the queue and pulling them out with this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1429" target="_blank">00:23:49.500</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1431" target="_blank">00:23:51.600</a></span> | <span class="t">So that is just happening in parallel as well as this code is running here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1436" target="_blank">00:23:56.560</a></span> | <span class="t">Now, the reason that we extract the tokens out here is that we want to pull out our tokens</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1441" target="_blank">00:24:01.620</a></span> | <span class="t">and we append them all to our outputs.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1444" target="_blank">00:24:04.600</a></span> | <span class="t">Now, those outputs, that becomes a list of AI messages, which are essentially the AI telling</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1451" target="_blank">00:24:11.760</a></span> | <span class="t">us what tool to use and what parameters to pass to each one of those tools.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1456" target="_blank">00:24:16.960</a></span> | <span class="t">This is very similar to what we covered in that deep dive chapter.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1460" target="_blank">00:24:20.500</a></span> | <span class="t">But the one thing that I have modified here is I've enabled us to use parallel tool calls.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1468" target="_blank">00:24:28.840</a></span> | <span class="t">So that is what we see here with this, these four lines of code.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1473" target="_blank">00:24:33.920</a></span> | <span class="t">We're saying, okay, if our tool call includes an ID, that means we have a new tool call or a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1480" target="_blank">00:24:40.200</a></span> | <span class="t">new AI message.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1481" target="_blank">00:24:41.780</a></span> | <span class="t">So what we do is we append that AI message, which is the AI message chunk to our outputs.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1488" target="_blank">00:24:48.820</a></span> | <span class="t">And then following that, if we don't get an ID, that means we're getting the tool arguments.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1493" target="_blank">00:24:53.420</a></span> | <span class="t">So following that, we're just adding our AI message chunk to the most recent AI message chunk from</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1501" target="_blank">00:25:01.820</a></span> | <span class="t">our outputs.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1502" target="_blank">00:25:02.560</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1503" target="_blank">00:25:03.060</a></span> | <span class="t">So what that will do is it will create that list of AI messages would be like AI message</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1511" target="_blank">00:25:11.300</a></span> | <span class="t">one, and then this will just append everything to that AI message one.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1516" target="_blank">00:25:16.940</a></span> | <span class="t">Then we'll get our next AI message chunk.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1520" target="_blank">00:25:20.020</a></span> | <span class="t">This will then just append everything to that until we get a complete AI message and so on and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1526" target="_blank">00:25:26.100</a></span> | <span class="t">so on.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1527" target="_blank">00:25:27.080</a></span> | <span class="t">So what we do here is here, we've collected all our AI message chunk objects.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1534" target="_blank">00:25:34.840</a></span> | <span class="t">Then finally, what we do is just transform all those AI message chunk objects into actual</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1540" target="_blank">00:25:40.320</a></span> | <span class="t">AI message objects, and then return them from our function, which we then receive over here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1545" target="_blank">00:25:45.920</a></span> | <span class="t">So into the tool calls variable.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1549" target="_blank">00:25:49.020</a></span> | <span class="t">Now, this is very similar to the deep dive chapter.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1552" target="_blank">00:25:52.880</a></span> | <span class="t">Again, we're going through that count, that loop, where we have a max iterations, at which</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1558" target="_blank">00:25:58.240</a></span> | <span class="t">point we will just stop.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1559" target="_blank">00:25:59.360</a></span> | <span class="t">But until then, we continue iterating through and making more tool calls, executing those</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1566" target="_blank">00:26:06.260</a></span> | <span class="t">tool calls, and so on.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1567" target="_blank">00:26:07.480</a></span> | <span class="t">So what is going on here?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1570" target="_blank">00:26:10.140</a></span> | <span class="t">Let's see.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1570" target="_blank">00:26:10.540</a></span> | <span class="t">So we got our tool calls.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1572" target="_blank">00:26:12.380</a></span> | <span class="t">This is going to be a list of AI message objects.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1576" target="_blank">00:26:16.020</a></span> | <span class="t">Then, what we do with those AI message objects is we pass them to this execute tool function.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1581" target="_blank">00:26:21.900</a></span> | <span class="t">If you remember, what is that?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1583" target="_blank">00:26:23.540</a></span> | <span class="t">That is this function here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1586" target="_blank">00:26:26.160</a></span> | <span class="t">So we pass each AI message individually to this function, and that will execute the tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1593" target="_blank">00:26:33.520</a></span> | <span class="t">for us, and then return us that observation from the tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1597" target="_blank">00:26:37.760</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1599" target="_blank">00:26:39.180</a></span> | <span class="t">So that is what you see happening here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1602" target="_blank">00:26:42.800</a></span> | <span class="t">But this is an async method.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1604" target="_blank">00:26:44.720</a></span> | <span class="t">So typically, what you'd have to do is you'd have to do await execute tool, and we could</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1610" target="_blank">00:26:50.780</a></span> | <span class="t">do that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1611" target="_blank">00:26:51.180</a></span> | <span class="t">So we could do a, okay, let me, let me make this a little bigger for us.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1615" target="_blank">00:26:55.140</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1616" target="_blank">00:26:56.220</a></span> | <span class="t">And so what we could do, for example, which might be a bit clearer, is you could do tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1621" target="_blank">00:27:01.500</a></span> | <span class="t">obs equals an empty list.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1624" target="_blank">00:27:04.360</a></span> | <span class="t">And what you could do is you can say, for tool call, oops, in tool calls, the tool observation</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1633" target="_blank">00:27:13.400</a></span> | <span class="t">is we're going to append execute tool call, which would have to be in await.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1638" target="_blank">00:27:18.980</a></span> | <span class="t">So we'd actually put the await in there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1641" target="_blank">00:27:21.060</a></span> | <span class="t">And what this would do is actually the exact same thing as what we're doing here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1645" target="_blank">00:27:25.320</a></span> | <span class="t">The difference being that we're doing this tool by tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1649" target="_blank">00:27:29.520</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1650" target="_blank">00:27:30.080</a></span> | <span class="t">So we are, we're executing async here, but we're doing them sequentially.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1656" target="_blank">00:27:36.160</a></span> | <span class="t">Whereas what we can do, which is better, is we can use async.io gather.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1660" target="_blank">00:27:40.560</a></span> | <span class="t">So what this does is gathers all those coroutines, and then we await them all at the same time</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1667" target="_blank">00:27:47.360</a></span> | <span class="t">to run them all asynchronously.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1668" target="_blank">00:27:48.900</a></span> | <span class="t">They all begin at the same time, or almost exactly at the same time.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1673" target="_blank">00:27:53.360</a></span> | <span class="t">And we get those responses kind of in parallel, but of course it's async.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1678" target="_blank">00:27:58.500</a></span> | <span class="t">So it's not fully in parallel, but practically in parallel.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1682" target="_blank">00:28:02.720</a></span> | <span class="t">Cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1683" target="_blank">00:28:03.860</a></span> | <span class="t">So we have that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1685" target="_blank">00:28:05.200</a></span> | <span class="t">And then that, okay, we get all of our tool observations from that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1689" target="_blank">00:28:09.120</a></span> | <span class="t">So that's all of our tool messages.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1690" target="_blank">00:28:10.740</a></span> | <span class="t">And then one interesting thing here is if we, let's say we have all of our AI messages</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1697" target="_blank">00:28:17.480</a></span> | <span class="t">with all of our tool calls, and we just append all of those to our agent scratch pad.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1702" target="_blank">00:28:22.560</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1703" target="_blank">00:28:23.120</a></span> | <span class="t">So let's say here, we're just like, oh, okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1705" target="_blank">00:28:25.260</a></span> | <span class="t">Agent scratch pad.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1706" target="_blank">00:28:26.360</a></span> | <span class="t">Extend.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1708" target="_blank">00:28:28.760</a></span> | <span class="t">And then we would just have, okay, we'd have our tool calls.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1712" target="_blank">00:28:32.300</a></span> | <span class="t">And then we do agent scratch pad, extend tool ops.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1718" target="_blank">00:28:38.280</a></span> | <span class="t">All right, so what is happening here is this would essentially give us something that looks like this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1726" target="_blank">00:28:46.260</a></span> | <span class="t">So we'd have our AI message, say, I'm just going to put, okay, we'll just put tool call IDs in here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1733" target="_blank">00:28:53.760</a></span> | <span class="t">to simplify it a little bit.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1734" target="_blank">00:28:54.960</a></span> | <span class="t">This would be tool call ID A.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1737" target="_blank">00:28:57.660</a></span> | <span class="t">Then we would have AI message, tool call ID B.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1743" target="_blank">00:29:03.060</a></span> | <span class="t">Then we'd have tool message.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1745" target="_blank">00:29:05.840</a></span> | <span class="t">Let's just remove this content field.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1749" target="_blank">00:29:09.580</a></span> | <span class="t">I don't want that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1750" target="_blank">00:29:10.360</a></span> | <span class="t">And tool message, tool call ID B, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1755" target="_blank">00:29:15.000</a></span> | <span class="t">So it would look something like this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1756" target="_blank">00:29:16.420</a></span> | <span class="t">So the order is, the tool message is not following the AI message, which you would think, okay,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1763" target="_blank">00:29:23.080</a></span> | <span class="t">we have this tool call ID, that's probably fine.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1765" target="_blank">00:29:25.000</a></span> | <span class="t">But actually, when we're running this, if you add these to your agent scratch pad in this order,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1770" target="_blank">00:29:30.040</a></span> | <span class="t">what you'll see is your response just hangs, like nothing happens when you come through to your second</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1778" target="_blank">00:29:38.620</a></span> | <span class="t">iteration of your agent call.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1780" target="_blank">00:29:40.700</a></span> | <span class="t">So actually, what you need to do is these need to be sorted so that they are actually in order.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1787" target="_blank">00:29:47.460</a></span> | <span class="t">And it doesn't, actually, it doesn't necessarily matter which order in terms of like A or B or C or whatever you use.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1793" target="_blank">00:29:53.720</a></span> | <span class="t">So you could have this order.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1795" target="_blank">00:29:55.220</a></span> | <span class="t">We have AI message, tool message, AI message, tool message, just as long as you have your tool call IDs are both together.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1801" target="_blank">00:30:01.580</a></span> | <span class="t">Or you could, you know, invert this, for example, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1805" target="_blank">00:30:05.020</a></span> | <span class="t">So you could have this, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1808" target="_blank">00:30:08.240</a></span> | <span class="t">And that will work as well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1810" target="_blank">00:30:10.140</a></span> | <span class="t">It's essentially just as long as you have your AI message followed by your tool message.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1814" target="_blank">00:30:14.940</a></span> | <span class="t">And both of those are sharing that tool call ID.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1817" target="_blank">00:30:17.480</a></span> | <span class="t">You need to make sure you have that order.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1819" target="_blank">00:30:19.260</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1820" target="_blank">00:30:20.380</a></span> | <span class="t">So that, of course, would not happen if we do this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1824" target="_blank">00:30:24.100</a></span> | <span class="t">And instead, what we need to do is something like this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1828" target="_blank">00:30:28.980</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1829" target="_blank">00:30:29.560</a></span> | <span class="t">So if I made this a little easier to read.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1832" target="_blank">00:30:32.800</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1833" target="_blank">00:30:33.800</a></span> | <span class="t">So we're taking the tool call ID.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1835" target="_blank">00:30:35.520</a></span> | <span class="t">We are pointing it to the tool observation.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1839" target="_blank">00:30:39.260</a></span> | <span class="t">And we're doing that for every tool call and tool observation within like a zip of those.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1844" target="_blank">00:30:44.120</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1845" target="_blank">00:30:45.180</a></span> | <span class="t">Then what we're saying is for each tool call within our tool calls, we are extending our agent scratchpad with that tool call followed by the tool observation message, which is the tool message.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1859" target="_blank">00:30:59.240</a></span> | <span class="t">So this would be our, this is the AI message.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1863" target="_blank">00:31:03.060</a></span> | <span class="t">And that is the tool messages down there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1865" target="_blank">00:31:05.920</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1866" target="_blank">00:31:06.660</a></span> | <span class="t">So that is why it's happening and that is how we get this correct order, which will run.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1871" target="_blank">00:31:11.620</a></span> | <span class="t">Otherwise, things will not run.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1874" target="_blank">00:31:14.580</a></span> | <span class="t">So that's important to be aware of.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1877" target="_blank">00:31:17.140</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1877" target="_blank">00:31:17.620</a></span> | <span class="t">Now we're, we're almost done.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1879" target="_blank">00:31:19.480</a></span> | <span class="t">I know there's, we've just been through quite a lot.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1881" target="_blank">00:31:21.500</a></span> | <span class="t">So we continue, we increment our count as we were doing before.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1885" target="_blank">00:31:25.360</a></span> | <span class="t">And then we need to check for the final answer tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1887" target="_blank">00:31:27.720</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1888" target="_blank">00:31:28.320</a></span> | <span class="t">And because we're running these tools in parallel.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1890" target="_blank">00:31:30.680</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1891" target="_blank">00:31:31.480</a></span> | <span class="t">Because we're allowing multiple tool calls in one step.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1894" target="_blank">00:31:34.620</a></span> | <span class="t">We can't just look at the most recent tool and look if it is, it has the name final answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1899" target="_blank">00:31:39.520</a></span> | <span class="t">Instead, we need to iterate through all of our tool calls and check if any of them have the name final answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1904" target="_blank">00:31:44.680</a></span> | <span class="t">If they do, we say, okay, we extract that final answer call.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1908" target="_blank">00:31:48.920</a></span> | <span class="t">We extract the final answer as well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1910" target="_blank">00:31:50.400</a></span> | <span class="t">So this is the direct text content.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1912" target="_blank">00:31:52.840</a></span> | <span class="t">And we say, okay, we have found the final answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1916" target="_blank">00:31:56.160</a></span> | <span class="t">So this will be set to true.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1917" target="_blank">00:31:57.420</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1918" target="_blank">00:31:58.260</a></span> | <span class="t">Which should happen every time.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1919" target="_blank">00:31:59.820</a></span> | <span class="t">But let's say if our agent gets stuck in a loop of calling multiple tools, this might not happen before we break based on the max iterations here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1931" target="_blank">00:32:11.680</a></span> | <span class="t">So we might end up breaking based on max iterations rather than we found a final answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1936" target="_blank">00:32:16.400</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1937" target="_blank">00:32:17.280</a></span> | <span class="t">So that can happen.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1938" target="_blank">00:32:18.640</a></span> | <span class="t">So anyway, if we find that final answer, we break out of this for loop here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1944" target="_blank">00:32:24.000</a></span> | <span class="t">And then of course, we do need to break out of our wow loop, which is here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1948" target="_blank">00:32:28.440</a></span> | <span class="t">So we say, if we found the final answer, break.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1951" target="_blank">00:32:31.120</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1952" target="_blank">00:32:32.040</a></span> | <span class="t">Cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1952" target="_blank">00:32:32.800</a></span> | <span class="t">So we have that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1953" target="_blank">00:32:33.840</a></span> | <span class="t">Finally, after all of that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1957" target="_blank">00:32:37.680</a></span> | <span class="t">So this is our, you know, we've executed our tool, our agent steps and iterations has processed.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1965" target="_blank">00:32:45.640</a></span> | <span class="t">We've been through those.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1966" target="_blank">00:32:46.680</a></span> | <span class="t">Finally, we come down to here where we say, okay, we're going to add that final output to our chat history.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1973" target="_blank">00:32:53.700</a></span> | <span class="t">So this is just going to be the text content.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1977" target="_blank">00:32:57.060</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1977" target="_blank">00:32:57.560</a></span> | <span class="t">So this here, get direct answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1979" target="_blank">00:32:59.960</a></span> | <span class="t">But then what we do is we return the full final answer call.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1984" target="_blank">00:33:04.620</a></span> | <span class="t">The full final answer call is basically this here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1987" target="_blank">00:33:07.060</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1987" target="_blank">00:33:07.500</a></span> | <span class="t">So this answer and tools used, but of course populated.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=1991" target="_blank">00:33:11.740</a></span> | <span class="t">So we're saying here that if we have a final answer, okay, if we have that, we're going to return the final answer call, which was generated by our LLM.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2002" target="_blank">00:33:22.280</a></span> | <span class="t">Otherwise, we're going to return this one.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2004" target="_blank">00:33:24.900</a></span> | <span class="t">So this is in the scenario that maybe the agent got caught in the loop and just kept iterating.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2009" target="_blank">00:33:29.720</a></span> | <span class="t">If that happens, we'll say it will come back with, okay, no answer found.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2014" target="_blank">00:33:34.360</a></span> | <span class="t">And it will just return.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2015" target="_blank">00:33:35.420</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2015" target="_blank">00:33:35.720</a></span> | <span class="t">We didn't use any tools, which is not technically true, but it's, this is like a exception handling event.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2023" target="_blank">00:33:43.080</a></span> | <span class="t">So it ideally shouldn't happen, but it's not really a big deal if we're saying, okay, there were no tools used in my opinion.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2030" target="_blank">00:33:50.880</a></span> | <span class="t">Anyway, cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2032" target="_blank">00:33:52.020</a></span> | <span class="t">So we have all of that and yeah, we just, we initialize our agent executor and then, I mean, that, that is our agent execution code.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2043" target="_blank">00:34:03.480</a></span> | <span class="t">The one last thing we want to go through is the SERP API tool, which we will do in a moment.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2048" target="_blank">00:34:08.700</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2049" target="_blank">00:34:09.560</a></span> | <span class="t">So SERP API, let's see what, let's see how we build our SERP API tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2058" target="_blank">00:34:18.080</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2058" target="_blank">00:34:18.360</a></span> | <span class="t">So we'll start with the synchronous SERP API.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2063" target="_blank">00:34:23.680</a></span> | <span class="t">Now, the reason we're starting with this is that it's actually, it's just a bit simpler.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2068" target="_blank">00:34:28.000</a></span> | <span class="t">So I'll show you this quickly before we move on to the async implementation, which is what we're using within our app.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2074" target="_blank">00:34:34.220</a></span> | <span class="t">So we want to get our SERP API API key.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2077" target="_blank">00:34:37.640</a></span> | <span class="t">So I'll run that and we just enter it at the top there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2081" target="_blank">00:34:41.880</a></span> | <span class="t">And this will run.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2084" target="_blank">00:34:44.840</a></span> | <span class="t">So we're going to use the SERP API SDK first.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2089" target="_blank">00:34:49.460</a></span> | <span class="t">We're importing Google search, and these are the input parameters.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2092" target="_blank">00:34:52.340</a></span> | <span class="t">So we have our API key we're using, we say once you use Google, we, our question is our query.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2097" target="_blank">00:34:57.740</a></span> | <span class="t">So Q for query.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2099" target="_blank">00:34:59.400</a></span> | <span class="t">We're searching for the latest news in the world and it will return quite a lot of stuff.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2105" target="_blank">00:35:05.600</a></span> | <span class="t">You can see there's a ton of stuff in there, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2108" target="_blank">00:35:08.680</a></span> | <span class="t">Now, what we want is contained within this organic results key.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2114" target="_blank">00:35:14.520</a></span> | <span class="t">So we can run that and we'll see, okay, it's talking about, you know, various things.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2120" target="_blank">00:35:20.620</a></span> | <span class="t">Pretty recent stuff at the moment.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2122" target="_blank">00:35:22.800</a></span> | <span class="t">So we can tell, okay, that is, that is in fact working.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2126" target="_blank">00:35:26.660</a></span> | <span class="t">Now this is quite messy.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2128" target="_blank">00:35:28.620</a></span> | <span class="t">So what I would like to do first is just clean that up a little bit.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2131" target="_blank">00:35:31.820</a></span> | <span class="t">So we define this article base model, which is Pydantic.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2135" target="_blank">00:35:35.960</a></span> | <span class="t">And we're saying, okay, from a set of results.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2139" target="_blank">00:35:39.680</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2140" target="_blank">00:35:40.480</a></span> | <span class="t">So we're going to iterate through each of these.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2143" target="_blank">00:35:43.060</a></span> | <span class="t">We're going to extract the title, source, link, and the snippet.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2147" target="_blank">00:35:47.440</a></span> | <span class="t">So you can see title, source, link, and snippet here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2153" target="_blank">00:35:53.740</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2155" target="_blank">00:35:55.920</a></span> | <span class="t">So that's all useful.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2157" target="_blank">00:35:57.420</a></span> | <span class="t">We'll run that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2158" target="_blank">00:35:58.600</a></span> | <span class="t">And what we do is we go through each of the results in organic results.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2163" target="_blank">00:36:03.720</a></span> | <span class="t">And we just load them into our article using this class method here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2167" target="_blank">00:36:07.580</a></span> | <span class="t">And then we can see, okay, let's have a look at what those look like.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2173" target="_blank">00:36:13.240</a></span> | <span class="t">It's much nicer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2173" target="_blank">00:36:13.980</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2175" target="_blank">00:36:15.200</a></span> | <span class="t">We get this nicely formatted object here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2179" target="_blank">00:36:19.140</a></span> | <span class="t">Cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2180" target="_blank">00:36:20.180</a></span> | <span class="t">That's great.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2181" target="_blank">00:36:21.020</a></span> | <span class="t">Now, all of this, what we just did here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2184" target="_blank">00:36:24.720</a></span> | <span class="t">So this is using sub-APIs SDK, which is great, super easy to use.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2189" target="_blank">00:36:29.260</a></span> | <span class="t">The problem is that they don't offer a async SDK, which is a shame,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2194" target="_blank">00:36:34.420</a></span> | <span class="t">but it's not that hard for us to set up ourselves.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2198" target="_blank">00:36:38.100</a></span> | <span class="t">So typically with asynchronous requests, what we can use is the AIOHttp library.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2205" target="_blank">00:36:45.720</a></span> | <span class="t">It's, well, you can see what we're doing here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2209" target="_blank">00:36:49.220</a></span> | <span class="t">So this is equivalent to requests.get.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2215" target="_blank">00:36:55.820</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2216" target="_blank">00:36:56.100</a></span> | <span class="t">That's essentially what we're doing here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2218" target="_blank">00:36:58.100</a></span> | <span class="t">And the equivalent is literally this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2221" target="_blank">00:37:01.000</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2222" target="_blank">00:37:02.080</a></span> | <span class="t">So this is the equivalent using requests that we are running here,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2226" target="_blank">00:37:06.980</a></span> | <span class="t">but we're using async code.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2229" target="_blank">00:37:09.280</a></span> | <span class="t">So we're using AIOHttp client session and then session.get, okay, with this async with here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2237" target="_blank">00:37:17.680</a></span> | <span class="t">And then we just await our response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2239" target="_blank">00:37:19.380</a></span> | <span class="t">So this is all, yeah, this is what we do rather than this to make our code async.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2246" target="_blank">00:37:26.140</a></span> | <span class="t">So it's really simple.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2247" target="_blank">00:37:27.340</a></span> | <span class="t">And then the output that we get is exactly the same, right?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2250" target="_blank">00:37:30.320</a></span> | <span class="t">So we still get this exact same output.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2252" target="_blank">00:37:32.060</a></span> | <span class="t">So that means, of course, that we can use that articles method like this in the exact same way.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2259" target="_blank">00:37:39.760</a></span> | <span class="t">And we get, we get the same result.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2262" target="_blank">00:37:42.140</a></span> | <span class="t">There's no need to make this article from sub-API result async because again,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2268" target="_blank">00:37:48.360</a></span> | <span class="t">like this, this bit of code here is fully local.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2271" target="_blank">00:37:51.400</a></span> | <span class="t">It's just our Python running everything.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2273" target="_blank">00:37:53.820</a></span> | <span class="t">So this does not need to be async.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2277" target="_blank">00:37:57.300</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2278" target="_blank">00:37:58.240</a></span> | <span class="t">And we can see that we get literally the exact same result there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2282" target="_blank">00:38:02.220</a></span> | <span class="t">So with that, we have everything that we would need to build a fully asynchronous sub-API tool,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2288" target="_blank">00:38:08.840</a></span> | <span class="t">which is exactly what we do here for Langchain.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2291" target="_blank">00:38:11.380</a></span> | <span class="t">So we import those tools.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2292" target="_blank">00:38:12.880</a></span> | <span class="t">And I mean, there's nothing, is there anything different here?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2295" target="_blank">00:38:15.720</a></span> | <span class="t">No.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2296" target="_blank">00:38:16.540</a></span> | <span class="t">This is exactly what we just said.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2298" target="_blank">00:38:18.800</a></span> | <span class="t">But I will run this because I would like to show you very quickly this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2303" target="_blank">00:38:23.860</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2304" target="_blank">00:38:24.840</a></span> | <span class="t">So this is how we were initially calling our tools in previous chapters because we were okay</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2311" target="_blank">00:38:31.400</a></span> | <span class="t">mostly with using the, the synchronous tools.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2314" target="_blank">00:38:34.680</a></span> | <span class="t">However, you can see that the func here is just empty.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2320" target="_blank">00:38:40.240</a></span> | <span class="t">All right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2321" target="_blank">00:38:41.400</a></span> | <span class="t">So if I do type, just a non-type, that is because, well, this is an async function.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2328" target="_blank">00:38:48.040</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2328" target="_blank">00:38:48.280</a></span> | <span class="t">It's an async tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2331" target="_blank">00:38:51.420</a></span> | <span class="t">Sorry.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2332" target="_blank">00:38:52.000</a></span> | <span class="t">So it was defined with async here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2334" target="_blank">00:38:54.760</a></span> | <span class="t">And what happens when you do that is you get this coroutine object.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2340" target="_blank">00:39:00.140</a></span> | <span class="t">So rather than func, which is, it isn't here, you get that coroutine.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2346" target="_blank">00:39:06.340</a></span> | <span class="t">If we then modified this, which would be kind of, okay, let's just remove all the asyncs here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2352" target="_blank">00:39:12.540</a></span> | <span class="t">and the await.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2354" target="_blank">00:39:14.540</a></span> | <span class="t">If we modify that like so, and then we look at the cert API structure tool, we go across,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2364" target="_blank">00:39:24.180</a></span> | <span class="t">we see that we now get that func.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2365" target="_blank">00:39:25.780</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2366" target="_blank">00:39:26.200</a></span> | <span class="t">So that is, that is just the difference between an async structure tool versus a sync structure</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2372" target="_blank">00:39:32.300</a></span> | <span class="t">tool via course on async.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2373" target="_blank">00:39:33.840</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2377" target="_blank">00:39:37.040</a></span> | <span class="t">Now we have coroutine again.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2379" target="_blank">00:39:39.180</a></span> | <span class="t">So important to be aware of that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2381" target="_blank">00:39:41.440</a></span> | <span class="t">And of course we, we run using the cert API coroutine.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2388" target="_blank">00:39:48.240</a></span> | <span class="t">So that is, that's how we build the cert API tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2394" target="_blank">00:39:54.640</a></span> | <span class="t">And there's nothing, I mean, that is exactly what we did here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2396" target="_blank">00:39:56.980</a></span> | <span class="t">So I don't need to, I don't think we need to go through that any further.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2400" target="_blank">00:40:00.020</a></span> | <span class="t">So yeah, I think that is basically all of our code behind this API.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2406" target="_blank">00:40:06.520</a></span> | <span class="t">With all of that, we can then go ahead.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2409" target="_blank">00:40:09.560</a></span> | <span class="t">So we have our API running already.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2411" target="_blank">00:40:11.380</a></span> | <span class="t">Let's go ahead and actually run also our front end.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2416" target="_blank">00:40:16.000</a></span> | <span class="t">So we're going to go to documents, Aurelio, line chain course.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2420" target="_blank">00:40:20.700</a></span> | <span class="t">And then we want to go to chapters 09 capstone app, and you will need to have NPM installed.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2428" target="_blank">00:40:28.700</a></span> | <span class="t">So to do that, what do we do?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2430" target="_blank">00:40:30.420</a></span> | <span class="t">We can take a look at this answer.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2432" target="_blank">00:40:32.480</a></span> | <span class="t">For example, this is probably what I would recommend.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2435" target="_blank">00:40:35.640</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2436" target="_blank">00:40:36.060</a></span> | <span class="t">So I would run brew install node followed by brew install NPM.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2439" target="_blank">00:40:39.880</a></span> | <span class="t">If you're on Mac, of course it's different.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2441" target="_blank">00:40:41.660</a></span> | <span class="t">If you're on Linux or windows, once you have those, you can do NPM install.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2446" target="_blank">00:40:46.120</a></span> | <span class="t">And this will just install all of the, oops, sorry, NPM install.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2450" target="_blank">00:40:50.480</a></span> | <span class="t">And this will just install all of the node packages that we need.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2455" target="_blank">00:40:55.340</a></span> | <span class="t">And then we can just run NPM run dev.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2459" target="_blank">00:40:59.900</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2460" target="_blank">00:41:00.520</a></span> | <span class="t">And now we have our app running on Locos 3000.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2464" target="_blank">00:41:04.100</a></span> | <span class="t">So we can come over to here, open that up, and we have our application.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2469" target="_blank">00:41:09.960</a></span> | <span class="t">Can ignore this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2470" target="_blank">00:41:10.960</a></span> | <span class="t">So in here, we can begin just asking questions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2474" target="_blank">00:41:14.280</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2474" target="_blank">00:41:14.800</a></span> | <span class="t">So we can start with a quick question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2476" target="_blank">00:41:16.940</a></span> | <span class="t">What is five plus five?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2478" target="_blank">00:41:18.700</a></span> | <span class="t">And we see, so we have our streaming happening here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2484" target="_blank">00:41:24.720</a></span> | <span class="t">It said the agent wants to use the add tool, and these are the input parameters to that add tool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2489" target="_blank">00:41:29.300</a></span> | <span class="t">And then we get the streamed response.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2491" target="_blank">00:41:31.480</a></span> | <span class="t">So this is the final answer tool where we're outputting that answer key and value.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2497" target="_blank">00:41:37.160</a></span> | <span class="t">And then here we're outputting that tools used key and value, which is just an array of the tools being used, which just functions add.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2505" target="_blank">00:41:45.040</a></span> | <span class="t">So we have that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2506" target="_blank">00:41:46.820</a></span> | <span class="t">Then let's ask another question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2509" target="_blank">00:41:49.100</a></span> | <span class="t">This time we'll trigger SERP API with tell me about the latest news in the world.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2515" target="_blank">00:41:55.580</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2516" target="_blank">00:41:56.080</a></span> | <span class="t">So we can see us using SERP API and the query is latest world news, and then it comes down here and we actually get some citations here, which is kind of cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2527" target="_blank">00:42:07.340</a></span> | <span class="t">So you can also come through to here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2529" target="_blank">00:42:09.300</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2531" target="_blank">00:42:11.040</a></span> | <span class="t">And it takes us through to here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2532" target="_blank">00:42:12.900</a></span> | <span class="t">So that's pretty cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2534" target="_blank">00:42:14.200</a></span> | <span class="t">Unfortunately, I just lost my chat.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2536" target="_blank">00:42:16.600</a></span> | <span class="t">So fine.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2538" target="_blank">00:42:18.980</a></span> | <span class="t">Let me, I can ask that question again.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2541" target="_blank">00:42:21.340</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2549" target="_blank">00:42:29.660</a></span> | <span class="t">We can see that tools use SERP API there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2552" target="_blank">00:42:32.100</a></span> | <span class="t">Now let's continue with the next question from our notebook, which is how cold is the NOSLA right now?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2558" target="_blank">00:42:38.400</a></span> | <span class="t">What is five multiplied by five?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2560" target="_blank">00:42:40.260</a></span> | <span class="t">And what do you get when multiplying those two numbers together?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2563" target="_blank">00:42:43.500</a></span> | <span class="t">I'm just going to modify that to say in Celsius so that I can understand thinking.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2570" target="_blank">00:42:50.600</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2570" target="_blank">00:42:50.740</a></span> | <span class="t">So for this one, we can see what did we get?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2573" target="_blank">00:42:53.240</a></span> | <span class="t">So current temperature in NOSLAO, we got multiply five by five, which is our second question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2579" target="_blank">00:42:59.860</a></span> | <span class="t">And then we've also got subtract.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2581" target="_blank">00:43:01.980</a></span> | <span class="t">Interesting that I don't know why it did that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2586" target="_blank">00:43:06.380</a></span> | <span class="t">It's kind of weird.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2587" target="_blank">00:43:07.080</a></span> | <span class="t">So it decided to use, oh, ah, okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2592" target="_blank">00:43:12.240</a></span> | <span class="t">So this is, okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2593" target="_blank">00:43:13.460</a></span> | <span class="t">So then here it was, okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2596" target="_blank">00:43:16.260</a></span> | <span class="t">That kind of makes sense.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2597" target="_blank">00:43:17.880</a></span> | <span class="t">Does that make sense?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2599" target="_blank">00:43:19.920</a></span> | <span class="t">Roughly.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2600" target="_blank">00:43:20.360</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2600" target="_blank">00:43:20.560</a></span> | <span class="t">So I think the, the conversion for Fahrenheit Celsius is say like subtract 32.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2606" target="_blank">00:43:26.400</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2608" target="_blank">00:43:28.060</a></span> | <span class="t">Yes.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2608" target="_blank">00:43:28.540</a></span> | <span class="t">So to go from Fahrenheit to Celsius, you are doing basically Fahrenheit minus 32.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2616" target="_blank">00:43:36.660</a></span> | <span class="t">And then you're multiplying by this number here, which the, I assume the AI did not, I roughly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2623" target="_blank">00:43:43.720</a></span> | <span class="t">did.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2623" target="_blank">00:43:43.980</a></span> | <span class="t">Okay.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2624" target="_blank">00:43:44.220</a></span> | <span class="t">So subtracting 36 by 32 would have given us four and it gave us approximately two.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2629" target="_blank">00:43:49.220</a></span> | <span class="t">So if you think, okay, multiply by this, it's practically multiplying by 0.5.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2634" target="_blank">00:43:54.780</a></span> | <span class="t">So halving the value and that would give us roughly two degrees.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2638" target="_blank">00:43:58.860</a></span> | <span class="t">So that's what this was doing here.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2641" target="_blank">00:44:01.140</a></span> | <span class="t">Kind of interesting.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2642" target="_blank">00:44:02.240</a></span> | <span class="t">Okay, cool.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2643" target="_blank">00:44:03.260</a></span> | <span class="t">So we've gone through, we have seen how to build a fully fledged chat application using what we've</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2652" target="_blank">00:44:12.980</a></span> | <span class="t">learned throughout the course.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2654" target="_blank">00:44:14.600</a></span> | <span class="t">And we've built quite a lot.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2656" target="_blank">00:44:16.360</a></span> | <span class="t">If you think about this application, you're getting the real time updates on what tools</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2662" target="_blank">00:44:22.820</a></span> | <span class="t">are being used, the parameters being input to those tools.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2665" target="_blank">00:44:25.280</a></span> | <span class="t">And then that is all being returned in a streamed output and even in a structured output for your</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2671" target="_blank">00:44:31.980</a></span> | <span class="t">final answer, including the answer and the tools that we use.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2675" target="_blank">00:44:35.040</a></span> | <span class="t">So of course, you know, what we built here is fairly limited, but it's super easy to extend</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2681" target="_blank">00:44:41.700</a></span> | <span class="t">this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2682" target="_blank">00:44:42.020</a></span> | <span class="t">Like you could, maybe something that you might want to go and do is take what we've built</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2686" target="_blank">00:44:46.780</a></span> | <span class="t">here, like fork this application and just go and add different tools to it and see what</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2692" target="_blank">00:44:52.040</a></span> | <span class="t">happens.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2692" target="_blank">00:44:52.520</a></span> | <span class="t">Because this is very extensible.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2694" target="_blank">00:44:54.960</a></span> | <span class="t">You can do a lot with it, but yeah, that is the end of the course.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2699" target="_blank">00:44:59.540</a></span> | <span class="t">Of course, this is just the beginning of whatever it is you're wanting to learn or build with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2707" target="_blank">00:45:07.140</a></span> | <span class="t">AI, treat this as the beginning and just go out and find all the other cool, interesting</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2712" target="_blank">00:45:12.720</a></span> | <span class="t">stuff that you can go and build.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2714" target="_blank">00:45:14.880</a></span> | <span class="t">So I hope this course has been useful, informative, and gives you an advantage in whatever it is you're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2724" target="_blank">00:45:24.480</a></span> | <span class="t">going out and going out of this build.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2725" target="_blank">00:45:25.300</a></span> | <span class="t">So thank you very much for watching and taking the course and sticking through right to the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2730" target="_blank">00:45:30.520</a></span> | <span class="t">end.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2730" target="_blank">00:45:30.820</a></span> | <span class="t">I know it's pretty long, so I appreciate it a lot and I hope you get a lot out of it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2737" target="_blank">00:45:37.200</a></span> | <span class="t">Thanks.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2738" target="_blank">00:45:38.180</a></span> | <span class="t">Bye.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=AO6WbXTeDow&t=2743" target="_blank">00:45:43.060</a></span> | <span class="t">Bye.</span></div></div></body></html>
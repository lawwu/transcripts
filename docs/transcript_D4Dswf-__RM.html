<html><head><title>CIAM for AI: Authn/Authz for Agents — Michael Grinich, CEO of WorkOS</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">Back to Index</a><h2>CIAM for AI: Authn/Authz for Agents — Michael Grinich, CEO of WorkOS</h2><a href="https://www.youtube.com/watch?v=D4Dswf-__RM" target="_blank"><img src="https://i.ytimg.com/vi_webp/D4Dswf-__RM/maxresdefault.webp" style="width:50%;"></a><div><br></div><h3>Transcript</h3><div class='max-width'><p>. My talk that was up here said SIAM for AI. That's a bit of industry lingo. It stands for Customer Identity and Access Management. Really what I'm going to be talking about here is auth. Login for agents. We just heard from someone from Hex. Hex is actually a WorkOS customer.</p><p>We provide identity services to lots and lots of different SaaS businesses, B2B products, and our fastest growing segment is AI companies. It turns out AI products need identity and authentication, so we have a lot of experience seeing this. I want to talk about how you can bring identity specifically to agentic-based applications, what we're seeing in the world today.</p><p>I'll just start with a little bit of a story. I want you to imagine that you're building a new chat tool, kind of like a ChatGPT internally for one of your companies, and it's like an IT support tool. It's going to help people not have to reach out to your IT team to get help with their laptop debug issues they might have.</p><p>You ship this thing, and a user signs in, and they say, "Okay, my laptop had been filling up with files. Let's delete some unused files just to clear up some space." And the LLM thinks for a bit, and then it goes, "Yeah, certainly, sir. I went ahead and deleted your production database." And this is a bit of a fictitious situation, but it's not too far off from reality, where these non-deterministic agentic systems can go off the rails and have pretty destructive actions in your environment and your product.</p><p>And these agents only work if you give them access to everything. This example here, you might say, "Well, I'll just disable access to the production database, but what about Jira? What about Salesforce or your Slack instance, your email?" Agents are only as powerful as the systems you give them to.</p><p>So inherently, there's this whole problem around kind of identity authentication authorization for these systems. And really what I want to emphasize here is there's a shift coming where we need to think about agents as really having first-class identity support. what defines an agent in the B2B SaaS ecosystem. It's different than a bot or an integration.</p><p>Agents are really a new paradigm for engineers and also enterprise IT to be working with. And my call to all of you is actually to collaborate with us to figure out how we can come together to work on these new standards for agent identity so users can stay safe and protected, and we can all leverage it to scale and grow forward.</p><p>Agents behave a little bit different than people. Agents interact across many, many different tools, and specifically they need to act on behalf of users. They're similar to users, but like I mentioned, they need that wide data access to do a lot of different things. They might need to be able to access data from multiple different users in one.</p><p>So the identity stuff here I'm going to talk about, they're similar to users but a bit different. Agents really need to support like a machine identity natively. If you've ever heard of like machine-to-machine auth, anybody heard about that before, like certificate-based auth? It's actually not the same framework as agents because in those scenarios, you really just have services talking to each other.</p><p>Agents behave more like people and systems, so it's kind of this hybrid between a machine and a person identity. And last, I'll just say here before diving into some more details, we really need to do this. AI is clearly taking over the world. It's kind of preaching to the choir here at the AI Engineer World Summit, but inside of the enterprise, people are racing to adopt agents because they understand the productivity gains that it can have.</p><p>So we can't just like wait to do this and hope that it takes care of itself. We need to figure it out very soon. There's a lot of urgency around it. So I'm going to switch gears a little bit and talk about, first of all, why identity for agents is hard.</p><p>Like what makes it different and why is it challenging? Well, the first thing is agents need to log in in a headless way. And when I say that, I mean that they need to build a sign in without necessarily typing into a web browser. It's just different than like API auth, because you might want tokens to persist for a while, but not forever.</p><p>You also might want your agent to actually use the front-end application and click around like a computer use system. So they need to be able to sign in, but at the same time not be signed out like a normal user. These sessions need to be long-lived. There's a question around where these credentials should live, how to refresh them, how do agents store them securely.</p><p>This is one of the hard problems around agents. You'll hear from Paul from BrowserBase in a little bit. That's a question, you know, for BrowserBase. Like as people sign in and create sessions, where is that stored? How is it kept secure? Another challenge here on agents is the least privileged access model.</p><p>So giving agents only a scoped-down ability to do something very specific. You know, on the one hand, you want to scope down an agent's access to a very small amount. It can only send a certain email, access a certain amount of data. But on the other hand, these non-deterministic systems, you want to give them access to do a lot of things.</p><p>You know, you want to actually give it access to your whole environment, your whole code base, maybe all of your bugs, all of your customer conversations. So there's an authorization challenge around this where the existing like least privileged model doesn't necessarily apply. You can't really constrain it. Permissions need to be dynamic for agents.</p><p>And lastly here, compliance. That example I gave earlier around the agent deleting the production database. You know, it's something we need to have a track record of who's done what. Agents also need to be tied to a person at the end of the day, often for legal compliance. If you do something like SOC 2 compliance, you know, all of your code has to be reviewed by people.</p><p>What happens if you have agents reviewing code? And lastly, agents can just do a lot of stuff really fast. There's an old joke. I think it goes, "To error is human, but to screw up 10,000 times per second, you need a computer." Agents will be like that, right? Like they'll be able to go spawn other agents and do a lot of stuff.</p><p>And so the visibility and the observability into agentic systems will be just as important. So logging systems, enterprise logging management, how you get agent logs into those things, all very hard, all very complicated, but important to solve for us to actually scale these into production. So it's really challenging, actually, to kind of bring identity and build these agentic systems.</p><p>I want to propose a few architecture patterns here as to how we can actually do it. And these are things that I'm kind of seeing people start adapting out in the wild. There's four of them. I'll go through them each individually. These are not prescriptive by any means or like the be-all, end-all.</p><p>It's just some things that I've seen so far. Cool. Persona shadowing, delegation chains, capability tokens, and lastly, escalation to humans, human-in-the-loop. All right. Persona shadowing. So persona shadowing is sort of like impersonation, where you give an agent an identity that shadows a user. So this reflects off of a user.</p><p>It's kind of like a secondary user from your identity system. It has a subset of the privileges that a user might have, and it lets that agent go do things on behalf of a user. And this separation lets the system enforce stricter limits in access control around that actual shadow, shadow agent here.</p><p>So you get this like isolation and accountability. However, every action is still explicitly tied to an original human identity, which has the benefit there. Impersonation, just pure impersonation, gives too much power if it's just exactly mirrored as a person. So this kind of shadow scoped identity lets you delegate a subset of the privileges.</p><p>And you can even create like role templates off of this. This is probably the closest I've seen to people using agents-- identity in the wild. You kind of take your enterprise IDP, and if there's like the Michael prime, the human Michael, I have like Agent 1 Michael and Agent 2 Michael or something like that, which are shadow personas off of my own identity scoped down.</p><p>So this is one way that you can achieve identity for agents. A second here is delegation chains. So if you've ever used JWTs, JSON Web Tokens, where they're signed, there's a cryptographic signature you can verify as you pass them along from system to system to system. You know, they're stateless in that way.</p><p>Delegation chains are kind of like that, where you can mint a token for an agent that maybe has some, you know, verifiable permission and pass it on step by step. It means that each link in the chain must carry forward the original user's authorization. So it requires a different level of kind of remote procedure calling in that way, context passing.</p><p>And it's sort of like those shadow personas in the sense that you can--you can layer it on top of shadow users. This can be supported by a few different things. I'll talk about in a second the UMA and OIDC extensions. But this is this kind of idea of delegating access step by step by step.</p><p>is becoming more popular. So again, you create that token, you pass it to different systems, and it can persist from one to the other. Capability-based tokens. So essentially, given a token that can do a specific thing, Agent X can read Bob's calendar for the next 60 minutes. You create a token just for that action, essentially only for that thing.</p><p>You know, it's like a secure voucher. And those can expire after a certain amount of time. They can have scoped access. These tokens can be self-contained and time bound. So it can simplify how actually verification works on it. And essentially, possession of that token of that voucher lets you prove that you're authorized to do something.</p><p>So you can pass it along. Kind of similar to the JWT stuff I mentioned earlier, but around capabilities versus roles or permissions. You could even have a token like this minted for just one specific action, one specific API call. If you're familiar with the Macaroons work that Google has done, this is kind of a version of that.</p><p>And lastly here, escalation to humans. Human in the loop. Approve everything. Right? Pretty simple to understand. When an agent needs to do something, it bubbles it up to you and hit approve or deny. Problem with this is that users get, you know, consent fatigue. Hit approve, approve, approve, approve.</p><p>You know, if you have like your Mac or your Windows laptop and it's asking you, hey, do you want to install this thing? Eventually, users just start hitting approve on everything. Just oothing, giving broad scopes. And so this actually doesn't really achieve a secure model, even though from a compliance perspective it might be acceptable from IT.</p><p>So these are four techniques that people are kind of adopting today, persona shadowing, delegation chains, capabilities tokens, and, you know, escalation to humans. I think actually like the right approach is a combination of these things in different scenarios. So depending on what application you're building, the access patterns, you know, who your customers are, like what kind of what restrictions they have in their environment, you might adopt different pieces of these or all of them, or maybe something totally different.</p><p>But they're just some of the architectural techniques that I'm seeing for kind of securing and bringing identity to agentic systems. Okay. We're going to keep going. I'm going pretty fast. Next, I want to talk about one of my favorite things, which is acronyms. We love acronyms at WorkOS. There's acronyms everywhere in the identity and security space.</p><p>I want to talk a little bit about some emerging standards and protocols specifically for bringing identity to agentic systems that are open. out there. So some of these you might have heard of. Some of these you certainly haven't. They're brand new. But I'll go through a few of them just so you'll have some lingo as you think about this maybe over the next year.</p><p>Cool. The first is OAuth. How many people have built something with OAuth? Like pretty much everybody. Yeah. OAuth. Standard authorization delegation system on the internet. OpenID Connect. If you're not familiar with that, it's kind of like OAuth's like younger, hotter cousin or something. Essentially allows for delegation of the identity and authorization.</p><p>This has come to MCP relatively recently. So you can--through MCP, you can add an OAuth 2.1 authorization server, split the authorization from the resource server, and essentially create identity for MCP servers. OAuth--problem with it is it was built for human consent and not machines. So it kind of depends on like a user interface.</p><p>We need to adapt it for machine auth. It also has static scopes. There's a lot of problems with it for agentic identity. But the benefit is everybody here knows it, right? And it's already integrated with a lot of applications. So there's a ton of momentum just generally around OAuth for agentic identity.</p><p>UMA, user-managed access. This is actually an extension to OAuth that allows a user or resource owner to proactively grant another party, a requester, access to resources from a central authorization server. Kind of like what we're seeing with the MCP work that I mentioned. It essentially lets a user set policies or like what an agent can do, but uses the OAuth-based handshake to enforce those policies on resource APIs.</p><p>So it's an extension to OAuth for those resources. Agents are really all about accessing resources and doing specific actions. So, you know, for an AI agent, it could leverage this UMA to control maybe what a personal AI assistant is allowed to do. It's externalizing the content in access policy rather than baking it into the OAuth consent dialogue that you approve specific things.</p><p>It's on a go-forward basis, user-managed access. Another one is GNAP, Grant Negotiation and Authorization Protocol. If you're a masochist like me, you can go read the RFC 9635. There's a lot of cool stuff in this. This is designed actually for a dynamic negotiation of token scopes. So we've all probably seen in OAuth, you have these static token scopes.</p><p>Gmail, it's like read and write access. You know, maybe it's your Twitter account. You can post tweets. But we really need like dynamic tokens--excuse me, dynamic scopes. Because as an agent is running, it might need to go do something that you didn't previously authorize it to do, that you might not have known it needed to do.</p><p>Maybe it proposes it wants to go do something that wasn't even in the original scope. So this dynamic negotiation of tokens is actually an important way to have interaction with agentic identity. GNAP is actually a flexible framework for this. It was built before all the stuff around agents. So it's like pretty cool.</p><p>It's like relatively well-baked. Unfortunately, it's not that well implemented out there in the wild. So it's a lot of really good ideas, but kind of lower on the implementation stack. There's more. OIDC-A, OpenID Connect for agents. This is very much in the protocol phase. It's an emerging protocol for OpenID Connect.</p><p>I actually was told recently that the guy that's doing this is kind of doing it without the consent of the OIDC Federation. And so maybe it's not even real. I don't know. This is how cutting edge this stuff is. But essentially, it allows you to bake agent identity claims and delegation chains into OpenID Connect more natively.</p><p>So people are really trying to bring OpenID Connect into the agentic world. It also allows for cryptographic attestations for tokens. If these big words don't mean anything to you, don't worry. But essentially, it's an extension to OIDC. And last one here, secure credential presentation. The WC3 created something called verifiable credentials a while ago.</p><p>It's really used for people. So if you, like, get a, you know, degree from Stanford, they can, like, mint that, and actually you can have a signed JSON object that says, you know, you got a Bachelor's of Science degree. People are applying this to agentic systems, which is pretty cool.</p><p>So, you know, an agent could have this, like, verifiable credential. You know, Alice does work at WorkOS, Alice agent, and that could be passed on to other systems. So leveraging this existing verifiable credential work. I'm sort of running short on time, so I'm going to skip forward a little bit of some of this stuff.</p><p>In the industry, what we're seeing is that it's still really early. And the pattern that's really emerging is middleware for agents. So rather than baking it into the application code, people are writing their agentic code, and then leveraging services or open source frameworks to actually create a trust boundary in between, in between your agentic code and enterprise systems.</p><p>You can't guarantee your agent is going to do anything very specific. Even, you know, if you have evals around it or guardrails, people can still prompt inject. They can prompt hijack. You kind of have to treat your agent as, like, untrusted. And so this idea of, like, putting a layer in between that's managed, that can be dynamic, that can actually log and enforce things is the most common.</p><p>This is what we've done at WorkOS. We've built a bunch of stuff around here. We have an identity product called AuthKit. That's what I was mentioning for MTP. Like, Cursor uses this today at WorkOS. We also have something called FGA for authorization, granular access to permissions. And we actually run this middleware.</p><p>We even have a system that can detect fraud, bots, abuse. So we found this middleware approach of layering something in between application code and kind of enterprise resources to be really, really powerful. Microsoft is doing some cool stuff with their workload identities, actually. And I would also recommend going looking at Cloudflare's work on their MCP auth.</p><p>Cloudflare is a fantastic, like, networking, you know, stack solution. And because they're in the network layer, they already are doing this middleware stuff. So to kind of wrap up, what's next? Well, I would say, like, in the previous world, especially around enterprise IT, it was very black and white.</p><p>You know, there were trusted things and untrusted things. There were apps that were blessed by IT and apps that were maybe not blessed. Maybe not blessed that you were kind of using renegade products. And you could kind of know what to trust and whatnot. Unfortunately, this is broken down.</p><p>Everything's now in a gray area. Because you might have trusted products that now have agentic behavior and go do crazy things out in the world, right? And you might have products that are actually, like, haven't been trusted by IT, but you need to adopt them and bring them in and start using them more and more.</p><p>Or even, like, potentially interacting with existing products through agents that IT can't see. Something like Claude's computer use, right? Or we'll kind of talk a little bit about-- Paul will talk about browser base. You know, be able to log in to existing systems, but have agent experiences on top of it.</p><p>Today, about 95%, you know, percent of traffic for most apps is people interfacing with them. It's humans, you know, logging in and doing stuff today. And maybe about 5% is automated, or you might have an API where people are scripting stuff. And what I anticipate is this is actually going to transition, where it'll go, you know, from 95% maybe to 50%.</p><p>And then eventually, I think what we're going to see is that, like, 95% of traffic and activity will actually be agents interfacing with products. And, like, 5% will be us mere mortals doing it instead of agents. And this is actually going to be really profound. It's going to allow for, like, a brand-new level of collaboration with machines, much more productivity, you know, connecting these third-party systems.</p><p>It's going to be really, really, really powerful. But it requires us to have a totally new way of thinking about identity for agentic systems, for this to be secure and for not to erode, you know, user trust. And I think it's just going to keep going from here. It's not going to stop.</p><p>It's not going to stop. We're going to get more and more and more and more agents in the world. If we have billions of people on the planet today, you know, I think we're going to have, like, trillions of agents at some point going and doing things for us.</p><p>Kind of like a giant army of interns working, making us more productive. I think that's really exciting. If you're interested in this and working on identity or you're building agents, what I would ask is just please send me a message or come talk with us. We're really excited to help support people building products like this and engineers.</p><p>And we would love to hear from you. So you can scan this and DM me on Twitter or just email me. Thanks so much for the time. Excited to chat with you. Thank you so much, Michael. I have a super interesting question for you. You project 95% agentic interaction with these APIs.</p><p>What's your timeline to 50%? How long do you think it's going to take us? I think it depends on the product. Yeah, I mean, I haven't quite seen this yet. But you know how there's those restaurants that open just for doing delivery food? Ghost kitchens. Ghost kitchens, you know?</p><p>And then you're like, oh, I've ordered pizza from that place a bunch of times. I'm going to go actually check it out. And you go in, you're like the only one there. I think it's going to be like that for software. There will be apps that we use exclusively through agents.</p><p>Perplexity just launched the ability to book hotels through Perplexity. And there's actually a company that provides an API for doing this that doesn't actually have like a normal interface. They're like, so I think it's already happening. It's just, you know, like, was it Alan Kay that said? The future is already here.</p><p>Equally distributed. It's just not equally distributed. So it's probably already happening amongst you. We'll see you next time amongst you. We'll see you next time. We'll see you next time. We'll see you next time.</p></div></div></body></html>
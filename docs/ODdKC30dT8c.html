<html><head><title>Hugging Face Datasets #2 | Dataset Builder Scripts (for Beginners)</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>Hugging Face Datasets #2 | Dataset Builder Scripts (for Beginners)</h2><a href="https://www.youtube.com/watch?v=ODdKC30dT8c"><img src="https://i.ytimg.com/vi_webp/ODdKC30dT8c/maxresdefault.webp" style="width:50%;"></a><div><br></div><h3>Chapters</h3><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=0">0:0</a> Intro<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=49">0:49</a> Creating Compressed Files<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=161">2:41</a> Creating Dataset Build Script<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=289">4:49</a> Download Manager<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=539">8:59</a> Finishing Split Generator<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=613">10:13</a> Generate Examples Method<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=887">14:47</a> Add Dataset to Hugging Face<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1069">17:49</a> Apache Arrow Features<br><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1372">22:52</a> What's Next?<br><br><div style="text-align: left;"><a href="./ODdKC30dT8c.html">Whisper Transcript</a> | <a href="./transcript_ODdKC30dT8c.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=0" target="_blank">00:00:00.000</a></span> | <span class="t">Today we're going to continue with the huggerface datasets series and we're going to have a look at</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=7" target="_blank">00:00:07.200</a></span> | <span class="t">how to use the builder scripts so with the builder scripts we can either we can do a few things so we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=12" target="_blank">00:00:12.800</a></span> | <span class="t">can include data pre-processing within the data loading pipeline, we can stream from a another</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=21" target="_blank">00:00:21.840</a></span> | <span class="t">sort of remote data source which is pretty useful if you are using a data set where the owners of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=29" target="_blank">00:00:29.520</a></span> | <span class="t">that data set want the data to be streamed from their server which happens quite a lot or if you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=36" target="_blank">00:00:36.160</a></span> | <span class="t">know maybe you have your data set split into multiple files or you have images in your data</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=41" target="_blank">00:00:41.840</a></span> | <span class="t">set or something along those lines in those cases you always need to use one of these dataset</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=47" target="_blank">00:00:47.680</a></span> | <span class="t">building scripts. So what I'm first going to do very quickly is show you how I created a compressed</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=55" target="_blank">00:00:55.040</a></span> | <span class="t">file for this demo so we're going to create let me show you so we're going to go over here so into</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=62" target="_blank">00:01:02.320</a></span> | <span class="t">this James Callum HF datasets repo on github 01 builder script we're going to here and you will</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=69" target="_blank">00:01:09.920</a></span> | <span class="t">see this file here so this dataset tar.gz file so this is a zipped or compressed file and we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=78" target="_blank">00:01:18.000</a></span> | <span class="t">actually going to stream our data from this exact location so if you if we go on here you see we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=86" target="_blank">00:01:26.080</a></span> | <span class="t">have this download link the download button we're just going to copy that link address and we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=90" target="_blank">00:01:30.960</a></span> | <span class="t">going to use that to stream our data into the data dataset building script. So very quickly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=99" target="_blank">00:01:39.760</a></span> | <span class="t">how did I build that you can actually have a look at this file here so all I'm doing is I'm taking</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=107" target="_blank">00:01:47.360</a></span> | <span class="t">this the reddit topics dataset that I've built already very similar to the dataset we used in</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=112" target="_blank">00:01:52.640</a></span> | <span class="t">the last video it's just a little bit bigger so it's not massive it's 3.7, 3.8 thousand rows</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=121" target="_blank">00:02:01.360</a></span> | <span class="t">all it converts pandas convert to a dictionary or using the the records orientation there</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=129" target="_blank">00:02:09.440</a></span> | <span class="t">and then save that as a jsonl or jsonlines file then we compress it using this so you'll probably</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=138" target="_blank">00:02:18.080</a></span> | <span class="t">if you have your own dataset and you want to compress it and kind of follow the same steps</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=141" target="_blank">00:02:21.760</a></span> | <span class="t">we're doing here this is what you will need so you need to add your dataset file to the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=149" target="_blank">00:02:29.520</a></span> | <span class="t">zipped compressed file here and you just use tar file that this I believe is actually installed</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=157" target="_blank">00:02:37.600</a></span> | <span class="t">by default with python so you won't have to pivot install that so with all of that we can go ahead</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=163" target="_blank">00:02:43.200</a></span> | <span class="t">and actually have a look at how we build our dataset building script so we start with the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=169" target="_blank">00:02:49.360</a></span> | <span class="t">template first so come over to hugging face here and go to datasets and let's go for squad okay so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=180" target="_blank">00:03:00.640</a></span> | <span class="t">go here squad is just a very popular dataset and I think I'm on the tutorials they use it as a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=189" target="_blank">00:03:09.280</a></span> | <span class="t">as like a template for building your own scripts and that's probably where I got this from but I</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=198" target="_blank">00:03:18.320</a></span> | <span class="t">just by default I go to this dataset and use this as my template if I'm building a new</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=203" target="_blank">00:03:23.760</a></span> | <span class="t">dataset loading script so come over here so within the build script I have a few things here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=210" target="_blank">00:03:30.560</a></span> | <span class="t">jsonlines just you can see what was in there I can actually delete that I don't need that anymore</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=216" target="_blank">00:03:36.400</a></span> | <span class="t">so let's remove that what I want to do is create a python file and I'm going to name it</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=227" target="_blank">00:03:47.600</a></span> | <span class="t">the same as my dataset so I'm going to call this the reddit topics tar gz</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=236" target="_blank">00:03:56.800</a></span> | <span class="t">that's what I'm going to call this this dataset okay</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=244" target="_blank">00:04:04.560</a></span> | <span class="t">and this all okay we're going to modify a lot of this but for now I'm not going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=254" target="_blank">00:04:14.320</a></span> | <span class="t">touch too much we just want to um let's focus on the essential things that we need here so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=259" target="_blank">00:04:19.920</a></span> | <span class="t">first thing we don't need this it's like added complexity that isn't necessary</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=264" target="_blank">00:04:24.240</a></span> | <span class="t">class um we'll call it sort of reddit tar gz I suppose it's fine or reddit topics tar gz</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=277" target="_blank">00:04:37.360</a></span> | <span class="t">builder configs this doesn't matter this does matter but we will mess around with that later</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=286" target="_blank">00:04:46.400</a></span> | <span class="t">not now so what does let's focus on what actually matters right now so the here we have this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=293" target="_blank">00:04:53.520</a></span> | <span class="t">download manager and we're gonna we're gonna look at download manager a bit more in the next video</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=298" target="_blank">00:04:58.160</a></span> | <span class="t">but um for now download manager is essentially a hugging face dataset utility that allows us to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=306" target="_blank">00:05:06.480</a></span> | <span class="t">given a particular file either local or on the internet we can download it and extract the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=314" target="_blank">00:05:14.320</a></span> | <span class="t">contents of it so this is why I formatted the datasets file as a tar gz file because I want</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=325" target="_blank">00:05:25.200</a></span> | <span class="t">to use this download and extract function or method so what we need to do is in your so I'm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=332" target="_blank">00:05:32.000</a></span> | <span class="t">going to change this to url I'm going to come up here where we define url um actually remove that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=339" target="_blank">00:05:39.520</a></span> | <span class="t">and here I'm going to replace that with the location that I copied earlier so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=345" target="_blank">00:05:45.840</a></span> | <span class="t">let's see if that actually that won't work so I need to copy again so if I go to here um</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=353" target="_blank">00:05:53.280</a></span> | <span class="t">the repo again go to zero and build a script the location of the compressed file go there</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=361" target="_blank">00:06:01.760</a></span> | <span class="t">and then where it says download I'm going to copy that link and I'm going to put in here okay so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=368" target="_blank">00:06:08.480</a></span> | <span class="t">with that um description we can you know call it demo um we'll change the other things later</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=378" target="_blank">00:06:18.000</a></span> | <span class="t">with that we or this here will kind of almost work so there's just one thing so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=387" target="_blank">00:06:27.680</a></span> | <span class="t">we're downloading this url but um with squad there were two urls okay so if I actually go</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=395" target="_blank">00:06:35.680</a></span> | <span class="t">back a little bit you see that there is these two urls one for the training set one for the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=400" target="_blank">00:06:40.000</a></span> | <span class="t">development set um we only have one so we actually need to modify this a little bit to deal with just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=408" target="_blank">00:06:48.080</a></span> | <span class="t">one dataset not two so here we need to return split generator we actually just remove this one</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=415" target="_blank">00:06:55.520</a></span> | <span class="t">the validation split because we just have a training split and the download files is actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=422" target="_blank">00:07:02.560</a></span> | <span class="t">not going to be this it's going to be so this is basically going to show us a path to a particular</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=428" target="_blank">00:07:08.960</a></span> | <span class="t">location let me show you exactly what it's doing okay so we're going to do from uh transfer no</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=435" target="_blank">00:07:15.600</a></span> | <span class="t">dataset sorry import from datasets utils import download manager it might not be there maybe it's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=450" target="_blank">00:07:30.880</a></span> | <span class="t">here let's see okay it was there so dl manager and I'm just going to initialize it this is kind of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=461" target="_blank">00:07:41.600</a></span> | <span class="t">happening in the background of our builder script so we don't actually do this in the builder script</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=466" target="_blank">00:07:46.800</a></span> | <span class="t">it just kind of happens so we do that and then let's just copy what we have elsewhere so we have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=475" target="_blank">00:07:55.840</a></span> | <span class="t">the url um and it is this okay that is the euro and let's just see what this outputs so download</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=484" target="_blank">00:08:04.000</a></span> | <span class="t">manager uh download and extract url okay let's see what we get um we'll call this out</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=494" target="_blank">00:08:14.080</a></span> | <span class="t">okay so we see we get a file path from that now okay interesting so what let's have a look at</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=506" target="_blank">00:08:26.960</a></span> | <span class="t">what is in that file path so os lister out okay so now we can see we actually have that json lines</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=516" target="_blank">00:08:36.720</a></span> | <span class="t">file that we that we put inside our compressed tar file so okay what what does that mean for us</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=526" target="_blank">00:08:46.560</a></span> | <span class="t">it means we can actually just load that from here based on what the download manager is giving us</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=532" target="_blank">00:08:52.640</a></span> | <span class="t">okay so this is like a cached location for our particular data set</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=536" target="_blank">00:08:56.880</a></span> | <span class="t">so return to the builder script we have download files I don't really like the name so I'm just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=546" target="_blank">00:09:06.880</a></span> | <span class="t">going to call it path I'm going to say path here as well remove train and if we just have a look</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=556" target="_blank">00:09:16.320</a></span> | <span class="t">at the path um it is it's just the directory that contains our data set dot json okay or json lines</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=566" target="_blank">00:09:26.880</a></span> | <span class="t">file so actually what we need to do is we need to do like out plus data set dot json out okay</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=577" target="_blank">00:09:37.360</a></span> | <span class="t">this this will give us a full path to our file so that is what we're going to do here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=586" target="_blank">00:09:46.000</a></span> | <span class="t">so where are we um so path let's I mean it's a bit easy to read okay come here zoom out a little bit</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=594" target="_blank">00:09:54.800</a></span> | <span class="t">okay so it will be path</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=601" target="_blank">00:10:01.200</a></span> | <span class="t">and then here we have data set dot json out okay and yeah that's our that's a split generators</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=614" target="_blank">00:10:14.640</a></span> | <span class="t">function here and what that will do is you see that we have this file path here that is going</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=621" target="_blank">00:10:21.200</a></span> | <span class="t">to get passed along to this generate examples um function or method and it's this method that is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=629" target="_blank">00:10:29.200</a></span> | <span class="t">going to kind of output the rows of the data set to us so what we need to do is actually um just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=639" target="_blank">00:10:39.200</a></span> | <span class="t">use this to kind of read our data set now it you know just kind of doing that from from scratch</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=644" target="_blank">00:10:44.320</a></span> | <span class="t">without seeing what's happening it's kind of hard so let's let's return to the notebook file and see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=649" target="_blank">00:10:49.440</a></span> | <span class="t">how we can do that so we're here we have our let's call this file path now because this is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=657" target="_blank">00:10:57.440</a></span> | <span class="t">what we've created in the other file it's a file path</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=660" target="_blank">00:11:00.080</a></span> | <span class="t">and what I'm going to do file path is well first we need to import json because it's a json lines</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=668" target="_blank">00:11:08.880</a></span> | <span class="t">file so we're going to have to read that and exactly we actually want to do this so as fp</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=676" target="_blank">00:11:16.400</a></span> | <span class="t">and I don't think we need to put encoding there but we'll put it to be safe and what we're going</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=684" target="_blank">00:11:24.720</a></span> | <span class="t">to do is we're going to go through that so for line in fp because it's a json lines file so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=690" target="_blank">00:11:30.960</a></span> | <span class="t">there's just lines of data each one those lines represents a json object so we are going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=699" target="_blank">00:11:39.360</a></span> | <span class="t">oh we can we can just print it for now in in here so let's put count on this so we'll print out</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=708" target="_blank">00:11:48.080</a></span> | <span class="t">a few items but not too many so if count is five break okay let's see what we get okay cool so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=720" target="_blank">00:12:00.000</a></span> | <span class="t">we can see that we we get a few items here right so we're just kind of going through there's a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=727" target="_blank">00:12:07.120</a></span> | <span class="t">red file and we're just looping through and and printing them so we can do the same over in our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=734" target="_blank">00:12:14.800</a></span> | <span class="t">other file in the builder script so let's come to here copy this in now all of this we can see here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=746" target="_blank">00:12:26.960</a></span> | <span class="t">okay some of this we will need not all of it so let's go ahead and just remove what we don't need</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=754" target="_blank">00:12:34.080</a></span> | <span class="t">okay this is all we need this yield so because this generator is creating a generator function</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=763" target="_blank">00:12:43.120</a></span> | <span class="t">right so let's come here remove remove parts of this so the line or the should call it a record</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=775" target="_blank">00:12:55.040</a></span> | <span class="t">is equal to json.loads line maybe we call it object okay and within that object we have a few</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=787" target="_blank">00:13:07.840</a></span> | <span class="t">a few different key value pairs right so what are those we can have a look at the make tar file</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=795" target="_blank">00:13:15.840</a></span> | <span class="t">file and we have we have all these here so we have sub title self text up vote ratio id and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=804" target="_blank">00:13:24.640</a></span> | <span class="t">create utc now we can actually just pass all of these directly onto the next so we can yield all</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=811" target="_blank">00:13:31.520</a></span> | <span class="t">of these so let me show you what i mean by that so we come here and you see that we're just yielding</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=817" target="_blank">00:13:37.680</a></span> | <span class="t">and then we're yielding this dictionary type structure for squad right for us we already have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=822" target="_blank">00:13:42.560</a></span> | <span class="t">that dictionary type structure because we use the json lines file this is one of the reasons i like</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=826" target="_blank">00:13:46.720</a></span> | <span class="t">using them so we can actually just do yield key object like that now okay what is um what is key</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=834" target="_blank">00:13:54.720</a></span> | <span class="t">key is actually the index value or id value if you want but it's an index value so i'm going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=844" target="_blank">00:14:04.720</a></span> | <span class="t">rename it index because that makes more sense to me than key and yeah here we go so we have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=854" target="_blank">00:14:14.240</a></span> | <span class="t">set everything up here we're going to open the file located or let's let's do that and read the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=862" target="_blank">00:14:22.160</a></span> | <span class="t">lines um load file object or json object and yeah we just yield them so what would that do when we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=875" target="_blank">00:14:35.520</a></span> | <span class="t">are loading the function or when we are loading the data set over in hugging face data sets</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=882" target="_blank">00:14:42.960</a></span> | <span class="t">this is going to be the thing that generates all of those all those items so what we should do now</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=890" target="_blank">00:14:50.000</a></span> | <span class="t">is maybe we can maybe we can test it and see what happens and it won't work straight away we'll see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=897" target="_blank">00:14:57.280</a></span> | <span class="t">but let's try so what i'm going to do is i'm just going to copy all of this then i'm going to come</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=903" target="_blank">00:15:03.360</a></span> | <span class="t">over to hugging face i'm going to click on my little icon right over here click new data set</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=911" target="_blank">00:15:11.520</a></span> | <span class="t">i'm going to call it reddit topics tar gc create that and i'm going to come to files i'm going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=920" target="_blank">00:15:20.720</a></span> | <span class="t">add a file create new file and this is just going to be reddit topics tar gc so the exact same file</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=928" target="_blank">00:15:28.880</a></span> | <span class="t">we create before and i'm just going to paste all that code in there okay so you see we have all</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=934" target="_blank">00:15:34.560</a></span> | <span class="t">this code uh let's let's just remove this is that important uh it's not squad anymore so let's just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=942" target="_blank">00:15:42.160</a></span> | <span class="t">call it reddit topics tar gz demo data set one thing we do need is we need to import json so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=952" target="_blank">00:15:52.000</a></span> | <span class="t">it's good that's already there um we don't need this anymore but let's keep it in there for now</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=957" target="_blank">00:15:57.840</a></span> | <span class="t">before we start removing everything creating more errors so let's commit that and then let's just try</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=965" target="_blank">00:16:05.920</a></span> | <span class="t">and see what happens okay so i'm going to create a new file to test it so i'm saying test test data</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=973" target="_blank">00:16:13.680</a></span> | <span class="t">and what we're going to do is from data sets import load data set</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=985" target="_blank">00:16:25.200</a></span> | <span class="t">and the data set we'll just call it data load data set</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=988" target="_blank">00:16:28.480</a></span> | <span class="t">and we can find the data set name over here so i'm just going to copy click here copy that and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=997" target="_blank">00:16:37.120</a></span> | <span class="t">there is just one split in this data set so split equals train okay let's see what happens</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1002" target="_blank">00:16:42.880</a></span> | <span class="t">okay we download the build script so far so good download the data and then we get this okay what</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1011" target="_blank">00:16:51.440</a></span> | <span class="t">is this os error come down here cannot find data file okay so if we have a look at this so without</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1019" target="_blank">00:16:59.200</a></span> | <span class="t">this dot here uh we can see that data file is there so we have our first error um which was</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1026" target="_blank">00:17:06.080</a></span> | <span class="t">not on purpose but that's fine so the reason we have that is because here i we put a dot i'm not</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1033" target="_blank">00:17:13.760</a></span> | <span class="t">sure why i did that so let's save that and actually let's just edit it in the in the web editor here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1039" target="_blank">00:17:19.680</a></span> | <span class="t">as well so let's remove that commit changes and then let's try again okay let's come up here let's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1050" target="_blank">00:17:30.240</a></span> | <span class="t">clear everything restart and let's go again okay so now we get this key error so what does that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1056" target="_blank">00:17:36.640</a></span> | <span class="t">mean key error context okay i don't remember putting context anywhere so let's have a look at the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1063" target="_blank">00:17:43.520</a></span> | <span class="t">builder script and if we okay let's have a look okay here we have this so we haven't modified</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1069" target="_blank">00:17:49.360</a></span> | <span class="t">this yet now what is this telling us um it's basically telling the data set builder which</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1077" target="_blank">00:17:57.520</a></span> | <span class="t">features to expect in the data set so basically down here we're kind of feeding in these these</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1084" target="_blank">00:18:04.080</a></span> | <span class="t">different features we're feeding these these records each record is a key value pair so the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1088" target="_blank">00:18:08.720</a></span> | <span class="t">keys are the feature names and the values are obviously values which have a particular data type</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1093" target="_blank">00:18:13.840</a></span> | <span class="t">now here we have the the feature names so the keys um but they are not aligned to our actual</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1103" target="_blank">00:18:23.200</a></span> | <span class="t">data set these are using the squad data set key value pairs so we need to come over to this file</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1109" target="_blank">00:18:29.920</a></span> | <span class="t">and we can get those features specific to our data set from there so let's take these i'm going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1116" target="_blank">00:18:36.320</a></span> | <span class="t">copy them across here and all i'm going to do is actually just write those here okay so we have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1126" target="_blank">00:18:46.080</a></span> | <span class="t">subtitle self-text</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1128" target="_blank">00:18:48.880</a></span> | <span class="t">upvote ratio</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1132" target="_blank">00:18:52.000</a></span> | <span class="t">uh we have oh we have id and we also have another one so let's create another</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1140" target="_blank">00:19:00.000</a></span> | <span class="t">well actually let's make this one more normal first so id</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1143" target="_blank">00:19:03.760</a></span> | <span class="t">is this and then we have one more which is created utc</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1151" target="_blank">00:19:11.840</a></span> | <span class="t">okay now we can try this it's not going to work again but let's try</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1158" target="_blank">00:19:18.160</a></span> | <span class="t">okay let's rerun this see what happens okay so actually it does work but it's not working</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1172" target="_blank">00:19:32.320</a></span> | <span class="t">in the way that we might expect so if we have a look at data and zero okay we have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1181" target="_blank">00:19:41.440</a></span> | <span class="t">subtitle self-text and then we come down here there's a lot in this self-text um but so just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1188" target="_blank">00:19:48.960</a></span> | <span class="t">look at this so the upvote ratio which is a floating point number is now a string</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1196" target="_blank">00:19:56.320</a></span> | <span class="t">the id that's fine we should expect that and the credit utc which is also a floating point number</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1202" target="_blank">00:20:02.720</a></span> | <span class="t">is now a string as well so there's a bit of an issue here basically if we if we go back to our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1209" target="_blank">00:20:09.440</a></span> | <span class="t">script when we are feeding the features through this sort of feature specification um it's seeing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1220" target="_blank">00:20:20.000</a></span> | <span class="t">that we're saying everything should be a string and it's converting everything into a string</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1223" target="_blank">00:20:23.840</a></span> | <span class="t">we don't actually want everything to be a string so what we need to do here is use a specific</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1230" target="_blank">00:20:30.240</a></span> | <span class="t">apache arrow data type identifiers for different things so for example float that we have here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1236" target="_blank">00:20:36.880</a></span> | <span class="t">okay so let's go ahead and have a look at how or what that might be so to find that i'm just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1242" target="_blank">00:20:42.720</a></span> | <span class="t">going to type like apache arrow data types here so apache arrow data types and schemas</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1251" target="_blank">00:20:51.360</a></span> | <span class="t">schemas maybe uh we come here and we can see we can see a load these so we have we have integer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1258" target="_blank">00:20:58.480</a></span> | <span class="t">values unsigned integers and then we have floats so i'm going to say okay single precision floating</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1265" target="_blank">00:21:05.120</a></span> | <span class="t">point type is perfect okay so i'm just going to copy that float 32 i'm going to put that for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1271" target="_blank">00:21:11.440</a></span> | <span class="t">create utc and also the upvote ratio okay i'm going to save that i'm going to change a few</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1278" target="_blank">00:21:18.160</a></span> | <span class="t">things that we don't we don't actually need so i'm going to remove this task template because</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1281" target="_blank">00:21:21.680</a></span> | <span class="t">we can't do question answering with this data set um no we can't at least not extractive question</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1287" target="_blank">00:21:27.920</a></span> | <span class="t">answering or can't train with that uh for the home page let's let's put this i suppose</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1298" target="_blank">00:21:38.240</a></span> | <span class="t">okay supervisor keys is none and what else do we have here so description</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1306" target="_blank">00:21:46.000</a></span> | <span class="t">uh so it's a demo we know that okay okay let's save this and and try again okay so i'm going</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1314" target="_blank">00:21:54.880</a></span> | <span class="t">to copy this over into home face come here uh not here here edit and come here select all paste</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1324" target="_blank">00:22:04.880</a></span> | <span class="t">and i am going to commit those changes now let's have a look at what happens if we load the data</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1332" target="_blank">00:22:12.800</a></span> | <span class="t">set so come back over here test data set uh let's run this let's see what happens okay it loaded</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1341" target="_blank">00:22:21.360</a></span> | <span class="t">well it loaded correctly that's a good sign come down here and now we can see that these are no</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1347" target="_blank">00:22:27.200</a></span> | <span class="t">longer strings but they're actually floating point numbers okay so that is that's everything</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1355" target="_blank">00:22:35.600</a></span> | <span class="t">there are maybe a few aesthetic things to change here so the like the citation</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1361" target="_blank">00:22:41.680</a></span> | <span class="t">we'll change that up here i can change this as well but we're not going to go through that in</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1366" target="_blank">00:22:46.960</a></span> | <span class="t">this uh in this video i don't think you want to watch me change citations so yeah that's everything</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1374" target="_blank">00:22:54.640</a></span> | <span class="t">for this video in the next video what we're going to do is take a look at taking this a a little bit</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1380" target="_blank">00:23:00.080</a></span> | <span class="t">further and adding more advanced data types like images into our data sets so until then i hope</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1388" target="_blank">00:23:08.320</a></span> | <span class="t">this has been useful thank you very much for watching and i will see you again in the next one</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=ODdKC30dT8c&t=1393" target="_blank">00:23:13.520</a></span> | <span class="t">bye</span></div></div></body></html>
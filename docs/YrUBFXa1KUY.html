<html><head><title>Vector Search Benchmark[eting] - Philipp Krenn, Elastic</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>Vector Search Benchmark[eting] - Philipp Krenn, Elastic</h2><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY"><img src="https://i.ytimg.com/vi_webp/YrUBFXa1KUY/maxresdefault.webp" style="width:50%;"></a><div><br></div><div style="text-align: left;"><a href="./YrUBFXa1KUY.html">Whisper Transcript</a> | <a href="./transcript_YrUBFXa1KUY.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=0" target="_blank">00:00:00.040</a></span> | <span class="t">I'm Philippe. Let's talk a bit about benchmarking, benchmarking. Who has heard the term benchmarking</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=22" target="_blank">00:00:22.960</a></span> | <span class="t">before? Benchmarking is what you get in most of the benchmarks out there, even though nobody</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=32" target="_blank">00:00:32.560</a></span> | <span class="t">calls their own benchmarks like that. Let's take a quick look. Who is using vector search</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=37" target="_blank">00:00:37.200</a></span> | <span class="t">today? I assume many. Who likes the performance of their vector search? Who has looked at various</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=46" target="_blank">00:00:46.960</a></span> | <span class="t">performance benchmarks around vector search? Quite a few. How did you like those benchmarks?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=51" target="_blank">00:00:51.920</a></span> | <span class="t">Yes. That is, I have this X is faster than Y. The problem is that you can have pretty much</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=61" target="_blank">00:01:01.920</a></span> | <span class="t">any product in X or any product in Y. I think at this point, we have benchmarks for every</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=66" target="_blank">00:01:06.700</a></span> | <span class="t">single vendor being both faster and slower than all of their competitors, which is a bit</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=72" target="_blank">00:01:12.360</a></span> | <span class="t">of a funny sign for benchmarks. Why is that? Are benchmarks just bad? Is everybody lying?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=79" target="_blank">00:01:19.960</a></span> | <span class="t">How does it happen that benchmarks are so different? Don't be shy. Come up here. We have some more</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=85" target="_blank">00:01:25.160</a></span> | <span class="t">chairs up here. Also, don't trust the glossy charts. The better looking the benchmarks are,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=93" target="_blank">00:01:33.960</a></span> | <span class="t">sometimes, the worse the underlying material is. Let's dive into what to do and what not</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=101" target="_blank">00:01:41.400</a></span> | <span class="t">do with benchmarks. Come up here. We have two more chairs up here. The first thing, and that's one of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=108" target="_blank">00:01:48.360</a></span> | <span class="t">the biggest ones, is finding the right use case. The right use case, of course, depends on your system.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=115" target="_blank">00:01:55.560</a></span> | <span class="t">This is one of my favorite benchmarking comics. It's under similar conditions. We are comparing two</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=122" target="_blank">00:02:02.120</a></span> | <span class="t">systems, and one is doing much better than the other system. That is pretty much exactly what many</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=129" target="_blank">00:02:09.000</a></span> | <span class="t">system or many companies are doing with their own vendor benchmarks. Define a scenario that they like,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=136" target="_blank">00:02:16.040</a></span> | <span class="t">and probably their competitors don't like so much, and then run the benchmark, and then afterwards they</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=141" target="_blank">00:02:21.320</a></span> | <span class="t">will say how much better they are. This is like a very common pattern for benchmarks. Or to take it in</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=147" target="_blank">00:02:27.240</a></span> | <span class="t">a slightly different direction. If you try to build a benchmarking dataset, and maybe you've seen that with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=154" target="_blank">00:02:34.680</a></span> | <span class="t">your own marketing team, it's like you run various scenarios, and then you see like this is no good,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=160" target="_blank">00:02:40.440</a></span> | <span class="t">this is no good, this is definitely no good, but here you have struck gold. Because here,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=166" target="_blank">00:02:46.360</a></span> | <span class="t">them is down here, and us is up here. So we will take this one, and then we'll generalize, and generalize,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=175" target="_blank">00:02:55.400</a></span> | <span class="t">and say like for everything, we're 40% faster than the competition. And you forget about all the others.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=180" target="_blank">00:03:00.760</a></span> | <span class="t">That is one of the very common things that you do with benchmarks. And I will just call out a couple</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=188" target="_blank">00:03:08.600</a></span> | <span class="t">of things, especially for vector search. One of the things, depending on the underlying data structure</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=193" target="_blank">00:03:13.480</a></span> | <span class="t">that you have, and like this is how the system is built, most of the benchmarks, because it's much easier,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=199" target="_blank">00:03:19.560</a></span> | <span class="t">and also more reproducible, will be read-only, oftentimes within optimized format. The problem is,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=205" target="_blank">00:03:25.640</a></span> | <span class="t">most of our workloads are not read-only, but pretty much all the benchmarks that you see out there are</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=212" target="_blank">00:03:32.040</a></span> | <span class="t">for read-only datasets. Because it's much easier to compare, versus if you have a specific dataset,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=218" target="_blank">00:03:38.440</a></span> | <span class="t">and then you would need to find the right read-write ratio, and like there's so many parameters that you can</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=223" target="_blank">00:03:43.640</a></span> | <span class="t">do, that most people just don't, and then you have a benchmark that is not really representative of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=228" target="_blank">00:03:48.440</a></span> | <span class="t">what you're trying to do. Another thing is, one very counterintuitive thing about vector search is,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=236" target="_blank">00:03:56.440</a></span> | <span class="t">that at least for HNSW, filtering makes things slower. So if you come from a regular data store,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=244" target="_blank">00:04:04.200</a></span> | <span class="t">and you normally, you have a restrictive filter, and you reduce the dataset, let's say like only 20%</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=249" target="_blank">00:04:09.400</a></span> | <span class="t">of the things make it through the filter, and you then try to rank those, it will be faster.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=253" target="_blank">00:04:13.800</a></span> | <span class="t">The way vector search works, or at least for approximate nearest neighbor search, is that that will</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=260" target="_blank">00:04:20.200</a></span> | <span class="t">actually make it slower, because you need to look at a lot more candidates, and then find actually what</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=264" target="_blank">00:04:24.760</a></span> | <span class="t">remains after the filter. And there are various optimizations to do that, but that's another trick</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=269" target="_blank">00:04:29.640</a></span> | <span class="t">that you can do, depending on how good or how bad you are with filters, that you just tune the right</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=275" target="_blank">00:04:35.160</a></span> | <span class="t">scenario to find your sweet spot. Or that you have just built in some optimizations, and then you're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=282" target="_blank">00:04:42.600</a></span> | <span class="t">making sure that you have a scenario that hits exactly these optimizations that your competition doesn't have.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=287" target="_blank">00:04:47.400</a></span> | <span class="t">Another thing that I see quite frequently, especially as people update their benchmarks,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=294" target="_blank">00:04:54.520</a></span> | <span class="t">they normally always update their own software, but they don't update their competitors.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=298" target="_blank">00:04:58.760</a></span> | <span class="t">We see that in various benchmarks, where we are also present as a company, that our version is probably</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=304" target="_blank">00:05:04.840</a></span> | <span class="t">18 months old, and the competitor has something that came out in the last one or two months.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=309" target="_blank">00:05:09.080</a></span> | <span class="t">And then obviously, they will do quite a bit better there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=313" target="_blank">00:05:13.720</a></span> | <span class="t">So yeah, you only opted your own version and the other ones. I can understand, you don't want to keep</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=320" target="_blank">00:05:20.920</a></span> | <span class="t">up with the changes of all your competitors. You don't want to figure out like what changed and how are things</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=326" target="_blank">00:05:26.680</a></span> | <span class="t">configured the right way in a newer version. And you're mostly focused on the interesting things that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=330" target="_blank">00:05:30.760</a></span> | <span class="t">you're doing yourself. It is also convenient for your own performance.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=335" target="_blank">00:05:35.080</a></span> | <span class="t">There's also like a lot of implicit biases. It's like, you know how your system is built and what it is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=343" target="_blank">00:05:43.640</a></span> | <span class="t">built for and how it works well. And then you might often pick scenarios that work well for that use case.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=350" target="_blank">00:05:50.760</a></span> | <span class="t">And then it might not even be intentional, but then you might pick something that is just not a very good</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=356" target="_blank">00:05:56.040</a></span> | <span class="t">fit for your competitors. The same goes for defaults. It's like how you split up shard, how you allocate</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=362" target="_blank">00:06:02.760</a></span> | <span class="t">memory, what instance size or instance configuration you pick. You might not even mean it in a bad way,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=370" target="_blank">00:06:10.600</a></span> | <span class="t">or you haven't even benchmarked the competitor against it on that specific machine. But you might just pick</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=375" target="_blank">00:06:15.640</a></span> | <span class="t">something that you know that works well for you. And then conveniently, it's not so great for your</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=380" target="_blank">00:06:20.280</a></span> | <span class="t">competitors. It could be like the shard size, the total data size, what fits into memory, how you compress</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=386" target="_blank">00:06:26.440</a></span> | <span class="t">something, the overall memory settings, the general data access patterns. There are a ton of different</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=392" target="_blank">00:06:32.600</a></span> | <span class="t">ways how you could tweak that one way or another. And then there is obviously cheating. My favorite example</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=403" target="_blank">00:06:43.240</a></span> | <span class="t">for that is if you got the Volkswagen a while ago, like they had some creative ways to look good in the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=412" target="_blank">00:06:52.600</a></span> | <span class="t">benchmarks for like how much exhaust they were producing. I think there was even a fun project</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=419" target="_blank">00:06:59.880</a></span> | <span class="t">that was like a Volkswagen plugin for UCI server that would just always make your tests pass,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=425" target="_blank">00:07:05.640</a></span> | <span class="t">which is kind of like the same thing here. And cheating can be many things. For vector search</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=432" target="_blank">00:07:12.360</a></span> | <span class="t">specifically, especially when you do approximate nearest neighbor search, where it's depending on how you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=439" target="_blank">00:07:19.480</a></span> | <span class="t">pick the parameters and like how widely you search, the quality of the results will</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=447" target="_blank">00:07:27.640</a></span> | <span class="t">be different or potentially be different. So precision recall is normally what we do for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=452" target="_blank">00:07:32.680</a></span> | <span class="t">information retrieval. And if you have different parameters or different implementations, and you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=457" target="_blank">00:07:37.080</a></span> | <span class="t">don't include those in the benchmark, you're comparing totally different things. And then it's not totally</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=463" target="_blank">00:07:43.480</a></span> | <span class="t">uncommon to see that precision and benchmark are I'm not sure if intentionally or unintentionally</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=469" target="_blank">00:07:49.560</a></span> | <span class="t">skipped for performance, but that you then see widely different numbers, but the results are actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=477" target="_blank">00:07:57.480</a></span> | <span class="t">totally different or the quality is totally different. It's like, obviously, you can produce crap results</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=482" target="_blank">00:08:02.120</a></span> | <span class="t">very quickly. But that is probably not the point of what you do in your benchmarks. We actually had</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=487" target="_blank">00:08:07.960</a></span> | <span class="t">some of those ourselves with people who were less experienced in vector search benchmarks, they forgot</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=493" target="_blank">00:08:13.240</a></span> | <span class="t">about that quality attribute because for other types of searches, for example, if you have a boolean filter</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=499" target="_blank">00:08:19.080</a></span> | <span class="t">where something passes and something doesn't pass, this doesn't exist, that they almost published something</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=505" target="_blank">00:08:25.000</a></span> | <span class="t">without looking at precision and recall. And it did make quite a bit of a difference, even in our own</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=509" target="_blank">00:08:29.800</a></span> | <span class="t">benchmarks. I sometimes see creative statistics. So one thing that I've recently seen that was very</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=518" target="_blank">00:08:38.360</a></span> | <span class="t">funny is like, there were like, I think, 20 data points or so or 20 different things measured. And in 18 or 19,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=524" target="_blank">00:08:44.920</a></span> | <span class="t">two systems were quite similar. And then one system basically introduced some optimization for one of the use</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=530" target="_blank">00:08:50.840</a></span> | <span class="t">cases and made it like 10 times faster than the competitor. And then they found a way to kind of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=536" target="_blank">00:08:56.360</a></span> | <span class="t">like even out the statistics across all of them. And then they said like, overall, we're dead faster.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=541" target="_blank">00:09:01.240</a></span> | <span class="t">But they found this one weird edge case, I think it was like, instead of descending sorting,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=547" target="_blank">00:09:07.480</a></span> | <span class="t">it was ascending sorting or something like that on one specific data type. And that one was much faster.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=553" target="_blank">00:09:13.320</a></span> | <span class="t">And then they evened it out enough that it looked like overall, the systems were wildly different. But it was</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=557" target="_blank">00:09:17.720</a></span> | <span class="t">basically like one specific query on one of the many things you looked at. And then you have like the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=564" target="_blank">00:09:24.120</a></span> | <span class="t">headline, because that's mostly what you're going for in the benchmarks, right? You want to have this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=568" target="_blank">00:09:28.200</a></span> | <span class="t">benchmark five times faster than x. Again, coming back to the glossy charts, those are the things that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=574" target="_blank">00:09:34.360</a></span> | <span class="t">you do. And it's kind of like the money shot in benchmarking. And of course, then there are the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=582" target="_blank">00:09:42.840</a></span> | <span class="t">problems when data doesn't reproduce, you don't publish all the pieces that anybody can actually run this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=587" target="_blank">00:09:47.720</a></span> | <span class="t">to try it out. Those don't make it easy either. So how do we make benchmarks better or more meaningful?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=596" target="_blank">00:09:56.280</a></span> | <span class="t">They should definitely be automated and reproducible. So what we internally do, for example, we have a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=603" target="_blank">00:10:03.640</a></span> | <span class="t">very wide set of, we call them the nightly benchmarks. That's why up here it says nightly. I just pulled</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=610" target="_blank">00:10:10.680</a></span> | <span class="t">this one out because it was nice. We optimized one specific thing, I think like, I don't know,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=615" target="_blank">00:10:15.880</a></span> | <span class="t">100x or 10x or whatever the ratio was. But we optimized this, which was nice. But the important thing here is,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=622" target="_blank">00:10:22.760</a></span> | <span class="t">we run this benchmark every night. And then we put all the changes that we had during that day together</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=628" target="_blank">00:10:28.120</a></span> | <span class="t">to see if the performance changes. Why are we doing that? To avoid the slow boiling frog problem.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=634" target="_blank">00:10:34.520</a></span> | <span class="t">Who knows the slow boiling frog? It's a very French thing. It's like, you know, you throw the frog into</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=642" target="_blank">00:10:42.440</a></span> | <span class="t">the boiling water and the frog will jump out again. And you put the frog into the cold water and slowly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=647" target="_blank">00:10:47.240</a></span> | <span class="t">heat it up and the frog will stay in the water. And the same thing kind of like applies to benchmarks.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=652" target="_blank">00:10:52.600</a></span> | <span class="t">If you make a change today, and it makes something 1% slower, you're probably not going to see it. And</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=657" target="_blank">00:10:57.160</a></span> | <span class="t">next week, you make another change where it gets 2% slower. And over time, your performance just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=661" target="_blank">00:11:01.560</a></span> | <span class="t">decreases a lot. So you're the frog sitting in the warming up water and being boiled. So you want to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=668" target="_blank">00:11:08.760</a></span> | <span class="t">avoid that with your own system that you don't want to boil your own performance. So you want to have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=673" target="_blank">00:11:13.720</a></span> | <span class="t">nightly benchmarks where you see how things are changing and evolving over time. Second, this is a bit of an</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=681" target="_blank">00:11:21.960</a></span> | <span class="t">unfortunate thing. But you will need to do your own benchmarks. Don't trust anybody's benchmarks. And</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=689" target="_blank">00:11:29.560</a></span> | <span class="t">they probably nobody has done exactly the scenario that you want to have. It's like, you need to know</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=694" target="_blank">00:11:34.360</a></span> | <span class="t">this is my data size. And this is my data structure. And this is the read write ratio. And this is how</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=700" target="_blank">00:11:40.520</a></span> | <span class="t">exactly my queries look like. And this is the latency that I am willing to accept. And this is the type of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=705" target="_blank">00:11:45.240</a></span> | <span class="t">hardware that I have. There are so many ways that make the existing benchmarks probably not 100%</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=711" target="_blank">00:11:51.400</a></span> | <span class="t">meaningful for you, that if you want to really be sure, there is no way around doing that yourself.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=716" target="_blank">00:11:56.840</a></span> | <span class="t">Otherwise, you will buy somebody's glossy benchmarks, and you will have to trust them and hope for the best</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=723" target="_blank">00:12:03.640</a></span> | <span class="t">that it actually behaves the same way.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=724" target="_blank">00:12:04.840</a></span> | <span class="t">That's unfortunate, because it always means work. And you need to put in that work. But there is no</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=731" target="_blank">00:12:11.400</a></span> | <span class="t">easy way around that. We have a tool we call Valley. It's basically you create a so-called track, and then</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=738" target="_blank">00:12:18.360</a></span> | <span class="t">you run the track where you say, this is the data, this is the query. And then you can optimize that. And then</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=743" target="_blank">00:12:23.240</a></span> | <span class="t">you can tune the settings or the hardware or whatever else. It's only against us and ourselves. This is how we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=749" target="_blank">00:12:29.000</a></span> | <span class="t">would do nightly benchmarks with ourselves. But that is how you can then benchmark and figure out,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=754" target="_blank">00:12:34.120</a></span> | <span class="t">for my hardware, what can I actually get out in terms of performance? And then you will need to take</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=758" target="_blank">00:12:38.360</a></span> | <span class="t">whatever other tools you want to evaluate and do something similar to see, like, for exactly your</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=763" target="_blank">00:12:43.400</a></span> | <span class="t">workload, how does that compare? One final thing, and that is also what I need to keep repeating internally</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=771" target="_blank">00:12:51.720</a></span> | <span class="t">for ourselves. If you find the flaw in a benchmark, it's easy to call the entire benchmark crap and then</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=778" target="_blank">00:12:58.440</a></span> | <span class="t">ignore everything that comes out of it. What is much smarter is if you look at it and still figure</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=783" target="_blank">00:13:03.400</a></span> | <span class="t">out, can I learn something from that? Even if it's like somebody produces a bad benchmark against a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=789" target="_blank">00:13:09.560</a></span> | <span class="t">competitor, it can tell you, like, where they think their sweet spot is or what is the scenario that they</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=794" target="_blank">00:13:14.520</a></span> | <span class="t">pick for themselves or what they try to highlight. Because even then you can learn, like, what are the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=800" target="_blank">00:13:20.040</a></span> | <span class="t">potential strengths of a system? Where do they shine? What works well and what doesn't work well? So all of that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=805" target="_blank">00:13:25.640</a></span> | <span class="t">makes it easier to find something useful if you want to look. But it's, of course, much easier to say,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=811" target="_blank">00:13:31.560</a></span> | <span class="t">like, all of this is crap and we'll ignore it and we'll call it BS. And then you move on.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=815" target="_blank">00:13:35.880</a></span> | <span class="t">I hope this was useful. I'm afraid you will have to do your own benchmarks to get proper results.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=824" target="_blank">00:13:44.200</a></span> | <span class="t">Otherwise, you will have to believe the benchmarking. Let me take a quick picture with you so I can</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=830" target="_blank">00:13:50.200</a></span> | <span class="t">prove to my colleagues that I've been working today. Can you all wave and say benchmarking?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=YrUBFXa1KUY&t=839" target="_blank">00:13:59.880</a></span> | <span class="t">Thanks a lot. Enjoy the heat and I'll hand over to the next speaker.</span></div></div></body></html>
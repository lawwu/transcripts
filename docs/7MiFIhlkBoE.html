<html><head><title>Patrick Dougherty: How to Build AI Agents that Actually Work</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>Patrick Dougherty: How to Build AI Agents that Actually Work</h2><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE"><img src="https://i.ytimg.com/vi_webp/7MiFIhlkBoE/maxresdefault.webp" style="width:50%;"></a><div><br></div><div style="text-align: left;"><a href="./7MiFIhlkBoE.html">Whisper Transcript</a> | <a href="./transcript_7MiFIhlkBoE.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=0" target="_blank">00:00:00.960</a></span> | <span class="t">Hi, I'm Patrick. I was the co-founder and CTO of Roscoe, and two years ago we decided to rip</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=7" target="_blank">00:00:07.280</a></span> | <span class="t">apart our entire product and rebuild it around AI agents. These are some of the lessons we learned.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=13" target="_blank">00:00:13.040</a></span> | <span class="t">First of all, let's start out with a definition, since a lot of people use the term agent but don't</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=21" target="_blank">00:00:21.040</a></span> | <span class="t">necessarily mean the same thing that I do. For my definition, I came up with there's three</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=26" target="_blank">00:00:26.240</a></span> | <span class="t">specific criteria that it has to have to be considered an AI agent. Number one, the agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=32" target="_blank">00:00:32.720</a></span> | <span class="t">needs to be able to take directions. These can be human or AI provided, but it should be one specific</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=39" target="_blank">00:00:39.920</a></span> | <span class="t">objective or overarching goal. Two, it has to have access to call at least one tool and get a response</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=48" target="_blank">00:00:48.480</a></span> | <span class="t">back. And three, it should be able to autonomously reason how and when to use its tools to accomplish</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=56" target="_blank">00:00:56.160</a></span> | <span class="t">that objective. What that means is it can't be a predefined sequence of this tool will run and then</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=64" target="_blank">00:01:04.480</a></span> | <span class="t">this next tool will run in a prompt chained type of setup. It has to use autonomous reasoning in order</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=70" target="_blank">00:01:10.720</a></span> | <span class="t">to be called an AI agent. One of the biggest lessons we learned in building agents was the necessity to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=80" target="_blank">00:01:20.320</a></span> | <span class="t">focus on enabling the agent to think rather than be limited by what the underlying model knows.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=87" target="_blank">00:01:27.600</a></span> | <span class="t">So a lot of our tool calls were focused on retrieval rather than trying to do RAG where we inserted</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=95" target="_blank">00:01:35.920</a></span> | <span class="t">contents into the system prompt to guide the agent's actions. Instead, we focused on discrete tool calls that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=103" target="_blank">00:01:43.680</a></span> | <span class="t">allowed it to perform retrieval and get the relevant context into its context window while it was working.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=111" target="_blank">00:01:51.040</a></span> | <span class="t">The product that we built was enabling an AI agent to search and query your enterprise data in your data</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=120" target="_blank">00:02:00.000</a></span> | <span class="t">warehouse for you. And so one of the great way to kind of illustrate the limitations of focusing on knowledge</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=129" target="_blank">00:02:09.440</a></span> | <span class="t">over reasoning is when it comes to writing a SQL query given some data. So what we found frequently was that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=137" target="_blank">00:02:17.680</a></span> | <span class="t">if you gave the agent a whole bunch of tables and all of the columns in those tables, it would fail to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=145" target="_blank">00:02:25.040</a></span> | <span class="t">reason correctly about which one to use. It would get overwhelmed by the number of tokens in the prompt and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=152" target="_blank">00:02:32.560</a></span> | <span class="t">either choose the wrong one or just write a terrible query that didn't execute in the first place.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=157" target="_blank">00:02:37.040</a></span> | <span class="t">That's where we went to these more discrete, more simple building blocks of tool calls such as search tables,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=167" target="_blank">00:02:47.280</a></span> | <span class="t">get table detail, or profile a column. The agent is then tasked with using those iteratively to find the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=176" target="_blank">00:02:56.640</a></span> | <span class="t">right columns for the right query. Similarly, we saw this play out as reasoning models have become</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=186" target="_blank">00:03:06.080</a></span> | <span class="t">recently introduced as well. So when you focus on reasoning, you give a reasoning model the ability to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=193" target="_blank">00:03:13.840</a></span> | <span class="t">first attempt to find the data needed to answer a particular question. But then if it doesn't find it,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=200" target="_blank">00:03:20.640</a></span> | <span class="t">it should be able to tell you that it didn't find it and you can take some action with that knowledge.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=205" target="_blank">00:03:25.840</a></span> | <span class="t">What we've seen with GPT 4.0 prior to reasoning models coming out is that regardless of the ability</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=214" target="_blank">00:03:34.560</a></span> | <span class="t">or the underlying data being present for it to be able to answer a question, it is going to attempt to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=220" target="_blank">00:03:40.080</a></span> | <span class="t">write that query anyway. Let's walk through an example of this. So in this prompt, I'm providing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=229" target="_blank">00:03:49.120</a></span> | <span class="t">GPT 4.0 with a table schema that is pretty standard from Salesforce. So there's a table for accounts,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=236" target="_blank">00:03:56.720</a></span> | <span class="t">contacts, and opportunities. And these aren't all the columns in each of those tables. I'm just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=241" target="_blank">00:04:01.280</a></span> | <span class="t">oversimplifying for representative purposes. At the bottom, I've asked GPT 4.0 a question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=247" target="_blank">00:04:07.040</a></span> | <span class="t">Write a query to see how many of my customers churned in the last month.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=252" target="_blank">00:04:12.000</a></span> | <span class="t">What you'll see from GPT 4.0 is it is very incentivized to write a query, give me back SQL.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=260" target="_blank">00:04:20.960</a></span> | <span class="t">It's not really stopping to think about is this query even possible to write in the first place.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=268" target="_blank">00:04:28.080</a></span> | <span class="t">So it makes some assumptions, and then it just starts writing SQL. Its definition is really bad for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=275" target="_blank">00:04:35.520</a></span> | <span class="t">calculating churn. It's essentially just looking in the account table and assuming that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=283" target="_blank">00:04:43.520</a></span> | <span class="t">there's a different type of account that's not customer that would somehow be updated when a customer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=291" target="_blank">00:04:51.040</a></span> | <span class="t">churned. So I think this is very likely to lead an analyst to a totally wrong answer if they were to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=298" target="_blank">00:04:58.560</a></span> | <span class="t">take this query and automatically run it. But what you see is that it's not pushing back in any way.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=303" target="_blank">00:05:03.760</a></span> | <span class="t">It doesn't stop to say, "I should think about this and consider if this is even possible."</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=310" target="_blank">00:05:10.240</a></span> | <span class="t">Okay, now let's flip over and see the same prompt run on O1. So this prompt is the exact same up top.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=318" target="_blank">00:05:18.640</a></span> | <span class="t">We're providing the same schema and the same question. O1 reasoned through the various aspects of this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=326" target="_blank">00:05:26.240</a></span> | <span class="t">question, and it accurately concluded that there is no way, given the schema provided,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=335" target="_blank">00:05:35.600</a></span> | <span class="t">to calculate the status of churned on an account. And so that conclusion kind of shows the difference of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=344" target="_blank">00:05:44.880</a></span> | <span class="t">giving the model the freedom to think and encouraging it to think and reason versus just forcing it,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=352" target="_blank">00:05:52.800</a></span> | <span class="t">essentially, to come up with a SQL query. So that's one of the key lessons that we learned in kind of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=358" target="_blank">00:05:58.080</a></span> | <span class="t">building and deploying agents that were useful for enterprises.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=364" target="_blank">00:06:04.800</a></span> | <span class="t">As part of this, there is a huge need to iterate on what I would call the ACI. I believe this is a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=373" target="_blank">00:06:13.920</a></span> | <span class="t">this is a paper that was published that kind of coined this term, Agent Computer Interface. And it's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=379" target="_blank">00:06:19.200</a></span> | <span class="t">really referring to the exact syntax and structure of tool calls, both what goes into the tool call,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=386" target="_blank">00:06:26.000</a></span> | <span class="t">and then the content and format of the response from the, you know, API or Python code maybe that would</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=393" target="_blank">00:06:33.680</a></span> | <span class="t">handle and execute that tool call. So what we learned is really small tweaks to the Agent Computer Interface</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=400" target="_blank">00:06:40.800</a></span> | <span class="t">can have a massive impact on the accuracy and performance of your agent. And you will feel when</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=407" target="_blank">00:06:47.440</a></span> | <span class="t">you're making these tweaks like they are so trivial, it makes no sense that they would have any bearing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=412" target="_blank">00:06:52.800</a></span> | <span class="t">on your agent's performance. However, I'm telling you that this is actually one of the best ways you can</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=418" target="_blank">00:06:58.880</a></span> | <span class="t">spend your time when you're trying to get your agent working consistently. A couple of specific examples.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=425" target="_blank">00:07:05.280</a></span> | <span class="t">So number one, one of the things that we found was that the format of the response, depending on the model,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=433" target="_blank">00:07:13.120</a></span> | <span class="t">was consumed better or worse, likely correlating to the underlying training data, potentially of the model.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=440" target="_blank">00:07:20.800</a></span> | <span class="t">So specifically, when working with GPT 4.0, we transitioned from responding with these search</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=447" target="_blank">00:07:27.760</a></span> | <span class="t">result payloads. Initially, they were formatted as Markdown. And we were seeing examples where the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=453" target="_blank">00:07:33.520</a></span> | <span class="t">agent would look at that response that it got back from the tool call and tell us that a column did not</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=460" target="_blank">00:07:40.080</a></span> | <span class="t">exist when you could see the column within the context, you know, passed back in the tool result.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=467" target="_blank">00:07:47.040</a></span> | <span class="t">These were long context tool results. Oftentimes, some of our customers had 500 or 1000 column tables</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=472" target="_blank">00:07:52.960</a></span> | <span class="t">in their data warehouse. So it was understandable if you're getting, you know, 30,000 tokens back,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=477" target="_blank">00:07:57.920</a></span> | <span class="t">that there might be some challenges there. But we felt like to consistently be completely blind to it,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=485" target="_blank">00:08:05.120</a></span> | <span class="t">there had to be a way to improve this. So we tested different formats. We ultimately learned that just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=490" target="_blank">00:08:10.400</a></span> | <span class="t">switching the formatting of the response from Markdown to JSON, having that semi-structured payload and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=496" target="_blank">00:08:16.720</a></span> | <span class="t">response immediately solved this problem for GPT 4.0. However, we learned later on that for Claude,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=503" target="_blank">00:08:23.440</a></span> | <span class="t">it was really important to provide XML back to the model and not Mark, not JSON. So again, depending</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=510" target="_blank">00:08:30.640</a></span> | <span class="t">on the model you're using and the specific function arguments and then responses that you're providing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=517" target="_blank">00:08:37.760</a></span> | <span class="t">from those tools, it can really impact your agent's performance.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=526" target="_blank">00:08:46.080</a></span> | <span class="t">Think of the model as your brain when you're building an agent. The model is performing the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=533" target="_blank">00:08:53.120</a></span> | <span class="t">thinking capabilities. And if the model sucks, then your users aren't going to be happy because they're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=538" target="_blank">00:08:58.400</a></span> | <span class="t">going to see some of the obvious logical fallacies that the agent will make. So I think what's critical there is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=545" target="_blank">00:09:05.760</a></span> | <span class="t">even if some of your tasks need to run on a cheaper model, like some of your tool calls or some of the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=551" target="_blank">00:09:11.920</a></span> | <span class="t">sub prompts that might be triggered by your agent, it's really important that the actual model making</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=558" target="_blank">00:09:18.800</a></span> | <span class="t">the determination of which tool call to make next based on what has happened up to that point</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=563" target="_blank">00:09:23.760</a></span> | <span class="t">is a generally intelligent model. I would say Claude 3.5 Sonnet is still probably my favorite for this,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=572" target="_blank">00:09:32.400</a></span> | <span class="t">even beyond the reasoning models, because it does a really nice balance between speed,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=578" target="_blank">00:09:38.240</a></span> | <span class="t">cost, and making a good decision based on what it's learned so far.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=583" target="_blank">00:09:43.360</a></span> | <span class="t">Another thing, we talked about GPT 4.0 versus 0.1 and how 4.0 is incentivized to make an effort even if</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=592" target="_blank">00:09:52.080</a></span> | <span class="t">the task is impossible. One thing you can learn though by observing the failure modes of agents running with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=598" target="_blank">00:09:58.800</a></span> | <span class="t">a certain model is oftentimes the way it hallucinates tells you what the model expects in a tool call for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=606" target="_blank">00:10:06.880</a></span> | <span class="t">instance. So if you see it consistently ignoring your JSON schema for a tool call and providing an argument in a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=615" target="_blank">00:10:15.040</a></span> | <span class="t">different format, that should be an indicator to you that the agent is telling you how it thinks how it</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=622" target="_blank">00:10:22.000</a></span> | <span class="t">thinks the tool call should be defined. And if you can change it to match that expected format, you're going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=629" target="_blank">00:10:29.840</a></span> | <span class="t">generally improve agent performance because it's going to be closer to the training data and the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=637" target="_blank">00:10:37.280</a></span> | <span class="t">instinct that the model has natively versus you trying to force it into doing something else.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=641" target="_blank">00:10:41.760</a></span> | <span class="t">Another lesson we learned was that fine tuning models was a waste of time. I think this is generally</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=651" target="_blank">00:10:51.040</a></span> | <span class="t">accepted now but there's still a little bit of work happening on building agents with fine-tuned models.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=657" target="_blank">00:10:57.200</a></span> | <span class="t">If you buy the premise that we're focusing on reasoning over inherent knowledge of the model,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=665" target="_blank">00:11:05.120</a></span> | <span class="t">then it's logical to say that fine tuning does not really improve reasoning. Actually in our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=673" target="_blank">00:11:13.440</a></span> | <span class="t">experience it actually decreased reasoning in a lot of cases because it effectively overfit or over tuned</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=679" target="_blank">00:11:19.920</a></span> | <span class="t">the model to do a specific sequence of tasks each time rather than stopping and thinking if it you know</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=686" target="_blank">00:11:26.880</a></span> | <span class="t">was was making the right decision. So I would really spend your time focusing on that ACI iteration</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=695" target="_blank">00:11:35.440</a></span> | <span class="t">rather than trying to build a fine-tuned model to run your agent on. Another question that we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=703" target="_blank">00:11:43.680</a></span> | <span class="t">got frequently from customers, users, and others was, "Hey, what abstraction are you using? Which framework</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=710" target="_blank">00:11:50.880</a></span> | <span class="t">are you building on?" And for two reasons we did not end up using an abstraction. Number one was simple.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=717" target="_blank">00:11:57.920</a></span> | <span class="t">When we started building this two years ago, none of the abstraction libraries like a LandGraph</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=723" target="_blank">00:12:03.040</a></span> | <span class="t">or a Crew AI were publicly available yet. So we didn't even have a choice really. We were just kind</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=728" target="_blank">00:12:08.400</a></span> | <span class="t">of basing some of our research off of Auto-GPT at the time. But the second reason is that even as those</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=734" target="_blank">00:12:14.720</a></span> | <span class="t">frameworks started to become more popular, we continued to evaluate transferring some of our code to them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=740" target="_blank">00:12:20.160</a></span> | <span class="t">The problem was there's huge blockers and considerations when you want to go to production</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=745" target="_blank">00:12:25.520</a></span> | <span class="t">with an agent running on one of these frameworks. One of the key things for us as an example was</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=752" target="_blank">00:12:32.880</a></span> | <span class="t">the ability for an end user security credentials to cascade down to the agent they were talking to.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=761" target="_blank">00:12:41.360</a></span> | <span class="t">So you think about if a human is trying to use an agent to query their Snowflake account,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=767" target="_blank">00:12:47.440</a></span> | <span class="t">they may have very granular permissions within that Snowflake account or of what they specifically are</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=772" target="_blank">00:12:52.080</a></span> | <span class="t">allowed to see in the underlying data. We needed our agent to be able to run with that user's permissions</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=780" target="_blank">00:13:00.240</a></span> | <span class="t">using an OAuth integration. And that was something that made an approach like LandGraph extremely</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=786" target="_blank">00:13:06.800</a></span> | <span class="t">difficult to build and scale because we needed to essentially manage the authentication process</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=793" target="_blank">00:13:13.440</a></span> | <span class="t">and the underlying service keys and tokens within our code base, not within a third-party framework.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=801" target="_blank">00:13:21.760</a></span> | <span class="t">So the lesson I think to take away from that is think about what your end goal is first before you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=807" target="_blank">00:13:27.840</a></span> | <span class="t">get too dependent on one of these frameworks. There is not too much code that you have to write to build</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=814" target="_blank">00:13:34.000</a></span> | <span class="t">an agent or even a multi-agent system. If you're in prototype mode, then sure, use an abstraction,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=821" target="_blank">00:13:41.440</a></span> | <span class="t">speed yourself up, validate something as quickly as possible. But if your goal at the end is production,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=826" target="_blank">00:13:46.800</a></span> | <span class="t">you'll likely regret being too dependent on a third-party library.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=830" target="_blank">00:13:50.000</a></span> | <span class="t">One of the other philosophical conclusions we made is ultimately your agent's not your moat, meaning the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=843" target="_blank">00:14:03.200</a></span> | <span class="t">system prompts. I think the most valuable thing you can do is set up the ecosystem around your agent,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=860" target="_blank">00:14:20.880</a></span> | <span class="t">including the user experience of how your user interacts with your agent and then also the connections and the security protocols that your agent has to follow in doing its work.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=871" target="_blank">00:14:31.360</a></span> | <span class="t">That is the most time-consuming part of building a production quality agent into a product.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=877" target="_blank">00:14:37.920</a></span> | <span class="t">And that is ultimately going to be your moat in as much as we can even have moats these days with how quickly this stuff is moving.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=885" target="_blank">00:14:45.440</a></span> | <span class="t">Last but not least, one of the key lessons that we learned more recently was about designing and executing on multi-agent systems.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=896" target="_blank">00:14:56.720</a></span> | <span class="t">So about a year into our process of transitioning to an agent-based product, as our customers were getting</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=904" target="_blank">00:15:04.160</a></span> | <span class="t">comfortable with single agents, we introduced a multi-agent concept. And these are some of the key</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=909" target="_blank">00:15:09.040</a></span> | <span class="t">lessons we learned when doing that that really stuck with us and I think have continued to be highly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=915" target="_blank">00:15:15.200</a></span> | <span class="t">resonant when you're designing agents in a product. Number one is the need to implement a manager agent within a hierarchy.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=923" target="_blank">00:15:23.760</a></span> | <span class="t">The reason for that is that we found the manager agent would own the final</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=930" target="_blank">00:15:30.320</a></span> | <span class="t">outcome but could delegate subtasks to specific worker agents that would have more context in their</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=937" target="_blank">00:15:37.200</a></span> | <span class="t">instructions and more specific tool calls to accomplish those tasks. Whereas if you gave all</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=943" target="_blank">00:15:43.360</a></span> | <span class="t">of that information to a single manager agent, it could become overwhelmed. It might make bad decisions,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=949" target="_blank">00:15:49.280</a></span> | <span class="t">go down bad paths. We also learned that the number of agents working together, there's almost a two-pizza rule</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=958" target="_blank">00:15:58.960</a></span> | <span class="t">kind of similar to how Jeff Bezos would design teams early on at Amazon that applies here. So we found that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=965" target="_blank">00:16:05.280</a></span> | <span class="t">if you could limit yourself to about between five and eight agents working together, then that was typically a task</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=973" target="_blank">00:16:13.360</a></span> | <span class="t">that could be accomplished well by a multi-agent team. I've seen and prototype some systems where you might</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=980" target="_blank">00:16:20.800</a></span> | <span class="t">have 25 or 50 agents working together. And really what happens is you strongly decrease the likelihood that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=988" target="_blank">00:16:28.240</a></span> | <span class="t">the actual outcome ever gets accomplished because you're likely to trigger infinite loops or go down</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=994" target="_blank">00:16:34.320</a></span> | <span class="t">paths that you don't return from. Incentivization is the number one way to set these things up.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1001" target="_blank">00:16:41.760</a></span> | <span class="t">So the goal should not be to force your worker agents through a discrete set of steps, but rather to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1010" target="_blank">00:16:50.160</a></span> | <span class="t">incentivize your manager agent, meaning describe and quote unquote reward it with accomplishing the overall</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1018" target="_blank">00:16:58.800</a></span> | <span class="t">objective and relying on it to manage the underlying worker agents and make sure that they</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1024" target="_blank">00:17:04.960</a></span> | <span class="t">their output is valuable and that it can be used within the context of achieving that broader outcome.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1035" target="_blank">00:17:15.680</a></span> | <span class="t">I wrote more about the designing effective multi-agent teams on my blog at astorapp.com. This is the blog post,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1045" target="_blank">00:17:25.360</a></span> | <span class="t">so I go into a little more detail about these principles and some other thoughts as well.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1048" target="_blank">00:17:28.960</a></span> | <span class="t">Thanks so much for your time and hope you enjoyed learning all of the mistakes that I've made the last</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=7MiFIhlkBoE&t=1057" target="_blank">00:17:37.360</a></span> | <span class="t">couple years in designing agent systems and multi-agent systems. I hope you can avoid them and that it saves you some time.</span></div></div></body></html>
<html><head><title>Supabase Vector: The Postgres Vector database: Paul Copplestone</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>Supabase Vector: The Postgres Vector database: Paul Copplestone</h2><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q"><img src="https://i.ytimg.com/vi/MDxEXKkxf2Q/sddefault.jpg" style="width:50%;"></a><div><br></div><h3>Chapters</h3><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=0">0:0</a> Introduction<br><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=36">0:36</a> Supabase overview<br><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=151">2:31</a> Postgres Vector<br><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=296">4:56</a> Supabase<br><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=490">8:10</a> Roofflow<br><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=809">13:29</a> Whats next<br><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=943">15:43</a> Outro<br><br><div style="text-align: left;"><a href="./MDxEXKkxf2Q.html">Whisper Transcript</a> | <a href="./transcript_MDxEXKkxf2Q.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=0" target="_blank">00:00:00.000</a></span> | <span class="t">Hey everyone. So, yeah, I'm Koppel, the CEO and co-founder of Superbase. Also, thank you for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=22" target="_blank">00:00:22.220</a></span> | <span class="t">having me, especially to Swix and Ben. When Swix asks you to come to a conference, you don't say</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=27" target="_blank">00:00:27.600</a></span> | <span class="t">yes, you say definitely, and this is the first time we've ever sponsored a conference at</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=33" target="_blank">00:00:33.880</a></span> | <span class="t">all, so it's good to be here. So, first of all, very apt that apparently this section</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=41" target="_blank">00:00:41.600</a></span> | <span class="t">of talks is scaled to millions in a weekend. It's very apt because it's actually our tagline.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=47" target="_blank">00:00:47.460</a></span> | <span class="t">So, what is Superbase? We are a backend as a service. What does that mean? We give you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=55" target="_blank">00:00:55.780</a></span> | <span class="t">a full Postgres database. Every time you launch a database, a project within Superbase, you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=62" target="_blank">00:01:02.560</a></span> | <span class="t">get the database. And we also provide you with authentication. All of the users when you use</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=70" target="_blank">00:01:10.560</a></span> | <span class="t">our auth service are also stored inside that database. We give you edge functions for compute.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=77" target="_blank">00:01:17.200</a></span> | <span class="t">These are powered by Deno. You can also trigger them from the database. So, hopefully you see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=81" target="_blank">00:01:21.900</a></span> | <span class="t">where this is going. We give you large file storage. These do not get stored in your database, but</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=87" target="_blank">00:01:27.960</a></span> | <span class="t">the directory structure does get stored in your database. So, you can write access rooms, things</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=93" target="_blank">00:01:33.080</a></span> | <span class="t">like that. We have a real-time system. This is actually the genesis of Superbase. I won't</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=100" target="_blank">00:01:40.960</a></span> | <span class="t">talk about it in here, but you can use this to listen to changes coming out of your database,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=106" target="_blank">00:01:46.000</a></span> | <span class="t">your Postgres database. You can also use it to build live, like, cursor movements, things</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=111" target="_blank">00:01:51.420</a></span> | <span class="t">like this. And then, most importantly for this talk, we have a vector offering. This is for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=117" target="_blank">00:01:57.540</a></span> | <span class="t">storing embeddings. This is powered by PG vector. And that's the topic of this talk. I want to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=124" target="_blank">00:02:04.460</a></span> | <span class="t">sort of make the case for PG vector. So, first of all, I wanted to show -- and, yeah, finally,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=131" target="_blank">00:02:11.940</a></span> | <span class="t">we're open source. So, we've been operating since 2020. Everything we do is MIT licensed, Apache</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=138" target="_blank">00:02:18.080</a></span> | <span class="t">2 or Postgres. We try to support existing communities wherever we can, and we try to coexist with them.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=144" target="_blank">00:02:24.800</a></span> | <span class="t">And that's largely why we support PG vector. It is an existing tool. We contribute to it. So, I wanted</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=152" target="_blank">00:02:32.640</a></span> | <span class="t">to show a little bit about how the sausage is made in an open source company. And for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=158" target="_blank">00:02:38.060</a></span> | <span class="t">PG vector, this started with just an email from Greg. He said, I'm sending this email to see what</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=165" target="_blank">00:02:45.760</a></span> | <span class="t">it would take for your team to accept a Postgres extension called PG vector. It's a simple yet</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=171" target="_blank">00:02:51.560</a></span> | <span class="t">powerful extension to support vector operations. I've already done the work. You can find my pull</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=178" target="_blank">00:02:58.300</a></span> | <span class="t">request on GitHub. So, I jumped on a call with Greg. And afterwards, I sent him an email the next day.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=185" target="_blank">00:03:05.720</a></span> | <span class="t">Hey, Greg, the extension is merged. So, it should be landing in prod this week. By the way, our docs search is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=193" target="_blank">00:03:13.480</a></span> | <span class="t">currently a bit broken. Is this something you'd be interested in helping with? Then, fast forward two weeks, and we released</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=201" target="_blank">00:03:21.420</a></span> | <span class="t">Clippy. Which is, of course, a throwback to Microsoft Clippy, the OG AI assistant. I think we were the first</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=211" target="_blank">00:03:31.840</a></span> | <span class="t">to do this within docs. We certainly didn't know of anyone else doing this as a docs search interface.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=216" target="_blank">00:03:36.680</a></span> | <span class="t">So, we built an example, a template around it where you can do this within your own docs. And others followed suit.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=223" target="_blank">00:03:43.100</a></span> | <span class="t">Notably, Mozilla released this for MDN, one of the most popular dev docs on the internet. Along with many other</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=231" target="_blank">00:03:51.700</a></span> | <span class="t">AI applications. So, this is a chart of all the new databases being launched on superbase.com, our platform.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=240" target="_blank">00:04:00.100</a></span> | <span class="t">It doesn't include the open source databases. So, you can see where PG vector was added. It is one of the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=248" target="_blank">00:04:08.020</a></span> | <span class="t">tailwinds that accelerated the growth of new databases on our platform. And since then, we've kind of become</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=255" target="_blank">00:04:15.380</a></span> | <span class="t">part of the AI stack for a lot of builders, especially. We work very well with Vercel, Netlify, the Jamstack</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=262" target="_blank">00:04:22.340</a></span> | <span class="t">crowd. And now we're launching around 12,000 databases a week. And so, this around maybe 10 to 15 percent of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=270" target="_blank">00:04:30.980</a></span> | <span class="t">them are using PG vector in one way or another. So, thousands of AI applications being launched every</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=276" target="_blank">00:04:36.740</a></span> | <span class="t">week. Also, some of these apps kind of fit that tagline build in a weekend scale to millions. We've</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=283" target="_blank">00:04:43.940</a></span> | <span class="t">literally had apps. We had one that scaled to a million users in 10 days. I know they built it in three</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=289" target="_blank">00:04:49.860</a></span> | <span class="t">days. So, a lot of really bizarre things that we've seen since PG vector was launched. Also, the app you're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=299" target="_blank">00:04:59.460</a></span> | <span class="t">using today, if you're using it, is powered by superbase. So, thank you, Simon, for using that inside</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=305" target="_blank">00:05:05.220</a></span> | <span class="t">the application. And then finally, just to wrap up that story arc, Greg, who emailed us at the start of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=312" target="_blank">00:05:12.740</a></span> | <span class="t">the year, now works at Superbase. If you attended the workshop yesterday, he actually was the one</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=319" target="_blank">00:05:19.700</a></span> | <span class="t">leading that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=320" target="_blank">00:05:20.340</a></span> | <span class="t">Nice. Thanks, Greg.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=323" target="_blank">00:05:23.780</a></span> | <span class="t">Also responsible for a lot of the growth in Superbase. So, we owe him a lot.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=329" target="_blank">00:05:29.220</a></span> | <span class="t">But every good story has a few speed bumps. And for PG vector, that started with a tweet.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=337" target="_blank">00:05:37.940</a></span> | <span class="t">This is one, it says, why you should never use PG vector, Superbase vector store, for production.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=345" target="_blank">00:05:45.060</a></span> | <span class="t">PG vector is 20 times slower than a decent vector database quadrant. And it's a full 18% worse in</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=352" target="_blank">00:05:52.100</a></span> | <span class="t">finding relevant docs for you. So, in this chart, higher is better. It's the queries per second. Just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=359" target="_blank">00:05:59.060</a></span> | <span class="t">making sure you all know. And Postgres, the IVF flat index is not doing well here. And first of all,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=367" target="_blank">00:06:07.860</a></span> | <span class="t">we feel this is an unfair mischaracterization of Superbase because PG vector is actually owned by</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=374" target="_blank">00:06:14.100</a></span> | <span class="t">Andrew Kane, a single sole contributor who developed this many years before Superbase came along.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=381" target="_blank">00:06:21.860</a></span> | <span class="t">But nonetheless, we are contributors. And so, when Andrew saw the tweet, he decided, well,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=389" target="_blank">00:06:29.220</a></span> | <span class="t">HNSW, let's just add it. And we got to work with the Aureol team and the AWS team. And it took about</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=396" target="_blank">00:06:36.980</a></span> | <span class="t">one month to build in HNSW. What were the results? This is the same chart, but we just use Postgres HNSW.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=408" target="_blank">00:06:48.020</a></span> | <span class="t">HNSW is the same chart for you. .</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=413" target="_blank">00:06:53.380</a></span> | <span class="t">First of all, I'm not a big fan of benchmarks because it seems like I'm ragging on quadrant</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=420" target="_blank">00:07:00.100</a></span> | <span class="t">here. I'm not. Unfortunately, they were used in the tweet, so we had to benchmark against them. Also,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=428" target="_blank">00:07:08.100</a></span> | <span class="t">they're very isolated. But what you can see most importantly is that the queries per second</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=433" target="_blank">00:07:13.700</a></span> | <span class="t">increased and also the accuracy increase. They're both for quadrant and HNSW 0.99.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=440" target="_blank">00:07:20.900</a></span> | <span class="t">Also, you might be thinking, well, you can just throw compute at it. Maybe that's what they're doing.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=447" target="_blank">00:07:27.220</a></span> | <span class="t">This one actually is a blog post we released today. You can read it. That's the QR code for it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=453" target="_blank">00:07:33.380</a></span> | <span class="t">This is an apples for apples comparison between Pinecone and Postgres for the same compute.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=459" target="_blank">00:07:39.700</a></span> | <span class="t">We basically take the same dollar value. So it's very hard to benchmark Pinecone and to find accuracy.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=467" target="_blank">00:07:47.700</a></span> | <span class="t">But we're measuring the queries per second for Pinecone using six replicas which cost $480 versus one of our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=477" target="_blank">00:07:57.940</a></span> | <span class="t">database systems, which is 410. So we give them a bit of extra compute and the queries per second and accuracy</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=483" target="_blank">00:08:03.860</a></span> | <span class="t">obviously different on the chart.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=486" target="_blank">00:08:06.980</a></span> | <span class="t">So why am I bullish about Postgres and PG vector for this particular thing?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=495" target="_blank">00:08:15.780</a></span> | <span class="t">I was chatting to Joseph, actually the CEO of RoboFlow, a few months ago, and I like to tell this example.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=502" target="_blank">00:08:22.500</a></span> | <span class="t">It's related actually to the Paint one, but a slightly different application. I like to tell it because</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=507" target="_blank">00:08:27.620</a></span> | <span class="t">it highlights the power of Postgres. So he told me about this app where the users could take photos</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=514" target="_blank">00:08:34.980</a></span> | <span class="t">of trash within San Francisco and then they would upload it to an embedding store and they would kind</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=520" target="_blank">00:08:40.980</a></span> | <span class="t">of measure the trends of trash throughout San Francisco. You could think of this the same as</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=527" target="_blank">00:08:47.700</a></span> | <span class="t">the Painter WTF, the example that he just used. The problem, of course, with all of these ones is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=536" target="_blank">00:08:56.580</a></span> | <span class="t">not safe for work images. So why is that a problem? First of all, it fills up your embedding store. You</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=548" target="_blank">00:09:08.420</a></span> | <span class="t">have to store the data. It's going to cost you more. Your indexes are going to slow down if you're indexing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=554" target="_blank">00:09:14.260</a></span> | <span class="t">this content and users can see this data inside the app. So I thought about this for an hour and I did a little</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=560" target="_blank">00:09:20.100</a></span> | <span class="t">proof of concept for him just using Postgres. The solution that I thought of was partitions. Now trash</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=567" target="_blank">00:09:27.060</a></span> | <span class="t">is very boring, so I'm going to use cats in this example. We're going to segment good cats and bad cats.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=573" target="_blank">00:09:33.060</a></span> | <span class="t">So we'll start with a basic table where we're going to store all of our cats. We're going to store the embeddings</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=579" target="_blank">00:09:39.620</a></span> | <span class="t">inside them. Then when an embedding is uploaded, we're going to call a function called iscats and here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=587" target="_blank">00:09:47.300</a></span> | <span class="t">I'm going to compare it to a canonical cat. In this case, my space cat. Then if the similarity is greater</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=596" target="_blank">00:09:56.820</a></span> | <span class="t">than 0.8, I'll store it in a good cats partition and everything else can just go into a bad cats partition.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=605" target="_blank">00:10:05.300</a></span> | <span class="t">So to do this, I just took my space cat and I generated a vector of that and then I literally just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=612" target="_blank">00:10:12.020</a></span> | <span class="t">stuffed it inside a Postgres function called iscat. The way that this works, it takes in an embedding</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=618" target="_blank">00:10:18.100</a></span> | <span class="t">that's the line three and then it's going to return a float, a similarity basically. And all it's going to do is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=627" target="_blank">00:10:27.540</a></span> | <span class="t">compare the distance to this canonical cat. I'm going to create a table to store all of my embeddings.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=634" target="_blank">00:10:34.980</a></span> | <span class="t">That's line five, the embeddings, the URL of the image. And then finally on line six, we're going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=641" target="_blank">00:10:41.300</a></span> | <span class="t">determine the similarity. Is it a good cat or a bad cat? Then finally, Postgres has this thing called</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=649" target="_blank">00:10:49.860</a></span> | <span class="t">triggers which are very cool. What we can do is attach a trigger to a table. So first of all, line two,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=656" target="_blank">00:10:56.580</a></span> | <span class="t">we're going to create the trigger. Line three, we're going to do it before the insert onto this table.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=662" target="_blank">00:11:02.340</a></span> | <span class="t">And then the most important one is line six. And this trigger for every time you upload a cat,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=668" target="_blank">00:11:08.420</a></span> | <span class="t">we're going to run that function that we just saw, compare it, and then store in</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=674" target="_blank">00:11:14.660</a></span> | <span class="t">the table the similarity. New here is actually kind of a special value for Postgres. Inside the trigger</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=681" target="_blank">00:11:21.380</a></span> | <span class="t">is for the values that you're about to insert. And then finally, what does the data look like?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=686" target="_blank">00:11:26.900</a></span> | <span class="t">After uploading a bunch of images, you can see here that we're storing all of our embeddings,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=692" target="_blank">00:11:32.100</a></span> | <span class="t">the URLs for them, and then on the right-hand side, that similarity. And now we can use that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=697" target="_blank">00:11:37.620</a></span> | <span class="t">essentially to create a segment. So we just need to split the data. And the nice thing about</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=705" target="_blank">00:11:45.380</a></span> | <span class="t">partitions in Postgres, they've got kind of all the properties of a regular table and each one</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=711" target="_blank">00:11:51.060</a></span> | <span class="t">individually. So we can create an index only on the good cats. And then to clean up, as our bad cats</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=717" target="_blank">00:11:57.620</a></span> | <span class="t">are getting uploaded, if we ever want to clean them up, we just drop the partition and recreate it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=722" target="_blank">00:12:02.340</a></span> | <span class="t">And the way that they work on disk is all the data is stored grouped together. So good cats will be</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=730" target="_blank">00:12:10.100</a></span> | <span class="t">fast, kept fast, bad cats will be dropped. So what does that look like in code? In Postgres code,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=737" target="_blank">00:12:17.780</a></span> | <span class="t">it's really just 14, 13, 14 lines of code. Here I'm just adding on line 7, you can see the part,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=745" target="_blank">00:12:25.220</a></span> | <span class="t">partition that I create. And I'm going to do it by a range. Here is cat is the column that I'm going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=752" target="_blank">00:12:32.020</a></span> | <span class="t">partition by. And then on line 9, I create good cats. And line 11 is where I actually determine the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=759" target="_blank">00:12:39.460</a></span> | <span class="t">values between 0.8 and 1. And then on line 13, everything else is going to fall into the default</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=766" target="_blank">00:12:46.820</a></span> | <span class="t">partition. So honestly, I don't even know if this is the right way to solve the problem. But I just think</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=772" target="_blank">00:12:52.580</a></span> | <span class="t">it's cool that I could just do that and it's all built into Postgres. So that's really why I'm bullish</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=779" target="_blank">00:12:59.300</a></span> | <span class="t">on Postgres. I mean, it's so extensible. It's got 30 years of engineering. It's got pretty much</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=785" target="_blank">00:13:05.460</a></span> | <span class="t">everything that you, all the primitives that you might need to get out of your way while you are</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=790" target="_blank">00:13:10.420</a></span> | <span class="t">building an AI application. It's also extensible. PG vector itself is not built into Postgres. It's just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=797" target="_blank">00:13:17.300</a></span> | <span class="t">an extension. So for us to add it, we just scouted around the community, or Greg did in this case,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=803" target="_blank">00:13:23.140</a></span> | <span class="t">and then we merged it in as an extension, and it was running basically within two days.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=808" target="_blank">00:13:28.580</a></span> | <span class="t">Some other things worth highlighting, if you're doing RAG especially, Postgres has row level security,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=815" target="_blank">00:13:35.940</a></span> | <span class="t">which I think is very cool. This allows you to write declarative rules on your tables inside your</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=822" target="_blank">00:13:42.100</a></span> | <span class="t">Postgres database. And so if you're storing user data and you want to split it up by different</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=827" target="_blank">00:13:47.060</a></span> | <span class="t">users, you can actually write those rules. It's also a defense at depth. So if it gets through maybe</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=834" target="_blank">00:13:54.100</a></span> | <span class="t">your API security, you can go directly into your database. The security is still there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=839" target="_blank">00:13:59.380</a></span> | <span class="t">Something that's often not captured in benchmarks, a single round trip versus multiple round trips.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=846" target="_blank">00:14:06.900</a></span> | <span class="t">So if you store your embeddings next to your operational data, then you do a single fetch to your database.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=855" target="_blank">00:14:15.140</a></span> | <span class="t">And then finally, we're still early. PG vector is currently an extension. I can foresee it's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=864" target="_blank">00:14:24.500</a></span> | <span class="t">probably going to get merged into PG core eventually. I'm not too sure. People often ask me, is there</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=872" target="_blank">00:14:32.180</a></span> | <span class="t">still space for a specialized vector database? Yes, I think there are. For many other things that databases</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=880" target="_blank">00:14:40.180</a></span> | <span class="t">don't do, maybe a lot of putting models closer to the database could be one of those things. But for</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=887" target="_blank">00:14:47.460</a></span> | <span class="t">this particular use case where you're actually just storing embeddings, indexing them, fetching them out,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=892" target="_blank">00:14:52.180</a></span> | <span class="t">I think then Postgres is definitely going to be moving down that direction. What's next for Superbase Vector?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=902" target="_blank">00:15:02.020</a></span> | <span class="t">Pretty simply, we have been really focused on more enterprise use cases, or largely how do you store</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=909" target="_blank">00:15:09.460</a></span> | <span class="t">billions of vectors. This is another area that needs development. So we've been working on sharding</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=915" target="_blank">00:15:15.380</a></span> | <span class="t">with Citus, another Postgres extension, and it allows you to split your data between different nodes.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=923" target="_blank">00:15:23.140</a></span> | <span class="t">And we've found that the transactions scale in a linear fashion as you add nodes. So in this case,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=931" target="_blank">00:15:31.380</a></span> | <span class="t">we're going to develop this. We've been chatting to the Citus team at Microsoft. If you want to be a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=936" target="_blank">00:15:36.180</a></span> | <span class="t">design partner on this, then we'd love to work with you on it, and especially if you're already storing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=940" target="_blank">00:15:40.740</a></span> | <span class="t">billions of embeddings. And if you want to get started, just go to database.new. And we also have,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=949" target="_blank">00:15:49.060</a></span> | <span class="t">apparently now our swag has finally arrived. So if you want some free credits and swag, come see us</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=953" target="_blank">00:15:53.620</a></span> | <span class="t">at the booth, and happy building.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=MDxEXKkxf2Q&t=955" target="_blank">00:15:55.620</a></span> | <span class="t">Thank you.</span></div></div></body></html>
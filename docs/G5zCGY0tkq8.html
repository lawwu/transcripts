<html><head><title>Bjarne Stroustrup: C++ Zero-Overhead Principle and Object-Oriented Programming</title></head><body><a href="index.html">back to index</a><h2>Bjarne Stroustrup: C++ Zero-Overhead Principle and Object-Oriented Programming</h2><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8"><img src="https://i.ytimg.com/vi_webp/G5zCGY0tkq8/maxresdefault.webp" style="width:50%;"></a><div><br></div><div style="text-align: left;"><a href="./G5zCGY0tkq8.html">Whisper Transcript</a> | <a href="./transcript_G5zCGY0tkq8.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=0">00:00:00.000</a></span> | <span class="t">C++ is an object-oriented programming language that creates, especially with its newer versions,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=8">00:00:08.000</a></span> | <span class="t">as we'll talk about, higher and higher levels of abstraction.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=11">00:00:11.840</a></span> | <span class="t">So how do you design, let's even go back to the origin of C++, how do you design something</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=18">00:00:18.640</a></span> | <span class="t">with so much abstraction that's still efficient and is still something that you can manage,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=29">00:00:29.780</a></span> | <span class="t">do static analysis on, you can have constraints on, they can be reliable, all those things</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=35">00:00:35.540</a></span> | <span class="t">we've talked about.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=38">00:00:38.140</a></span> | <span class="t">To me, there's a slight tension between high-level abstraction and efficiency.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=46">00:00:46.620</a></span> | <span class="t">That's a good question.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=47">00:00:47.620</a></span> | <span class="t">I could probably have a year's course just trying to answer it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=52">00:00:52.500</a></span> | <span class="t">Yes, there's a tension between efficiency and abstraction, but you also get the interesting</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=60">00:01:00.260</a></span> | <span class="t">situation that you get the best efficiency out of the best abstraction.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=65">00:01:05.200</a></span> | <span class="t">And my main tool for efficiency, for performance, actually is abstraction.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=73">00:01:13.160</a></span> | <span class="t">So let's go back to how C++ got there.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=77">00:01:17.020</a></span> | <span class="t">You said it was an object-oriented programming language.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=79">00:01:19.620</a></span> | <span class="t">I actually never said that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=82">00:01:22.160</a></span> | <span class="t">It's always quoted, but I never did.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=84">00:01:24.340</a></span> | <span class="t">I said C++ supports object-oriented programming and other techniques.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=91">00:01:31.460</a></span> | <span class="t">And that's important because I think that the best solution to most complex, interesting</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=98">00:01:38.740</a></span> | <span class="t">problems require ideas and techniques from things that have been called object-oriented,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=109">00:01:49.820</a></span> | <span class="t">abstraction, functional, traditional C-style code, all of the above.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=119">00:01:59.040</a></span> | <span class="t">And so when I was designing C++, I soon realized I couldn't just add features.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=128">00:02:08.520</a></span> | <span class="t">If you just add what looks pretty or what people ask for or what you think is good,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=135">00:02:15.000</a></span> | <span class="t">one by one, you're not going to get a coherent whole.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=138">00:02:18.720</a></span> | <span class="t">What you need is a set of guidelines that guides your decisions.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=145">00:02:25.360</a></span> | <span class="t">Should this feature be in or should this feature be out?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=148">00:02:28.780</a></span> | <span class="t">How should a feature be modified before it can go in and such?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=153">00:02:33.720</a></span> | <span class="t">And in the book I wrote about that, the design evolution of C++, there's a whole bunch of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=160">00:02:40.460</a></span> | <span class="t">rules like that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=161">00:02:41.800</a></span> | <span class="t">Most of them are not language technical.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=165">00:02:45.920</a></span> | <span class="t">There are things like don't violate static type system because I like static type system</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=171">00:02:51.920</a></span> | <span class="t">for the obvious reason that I like things to be reliable on reasonable amounts of hardware.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=182">00:03:02.040</a></span> | <span class="t">But one of these rules is the zero overhead principle.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=186">00:03:06.320</a></span> | <span class="t">The what kind of principle?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=187">00:03:07.320</a></span> | <span class="t">The zero overhead principle.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=189">00:03:09.560</a></span> | <span class="t">It basically says that if you have an abstraction, it should not cost anything compared to write</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=198">00:03:18.640</a></span> | <span class="t">the equivalent code at a lower level.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=204">00:03:24.960</a></span> | <span class="t">So if I have, say, a matrix multiply, it should be written in such a way that you could not</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=215">00:03:35.040</a></span> | <span class="t">drop to the C level of abstraction and use arrays and pointers and such and run faster.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=222">00:03:42.720</a></span> | <span class="t">And so people have written such matrix multiplications and they've actually gotten code that ran</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=230">00:03:50.400</a></span> | <span class="t">faster than Fortran because once you had the right abstraction, you can eliminate temporaries</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=238">00:03:58.000</a></span> | <span class="t">and you can do loop fusion and other good stuff like that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=243">00:04:03.000</a></span> | <span class="t">It's quite hard to do by hand and in a lower level language.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=247">00:04:07.120</a></span> | <span class="t">And there's some really nice examples of that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=250">00:04:10.560</a></span> | <span class="t">And the key here is that that matrix multiplication, the matrix abstraction allows you to write</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=258">00:04:18.640</a></span> | <span class="t">code that's simple and easy.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=260">00:04:20.760</a></span> | <span class="t">You can do that in any language.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=262">00:04:22.600</a></span> | <span class="t">But with C++, it has the features so that you can also have this thing run faster than</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=267">00:04:27.920</a></span> | <span class="t">if you hand coded it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=270">00:04:30.320</a></span> | <span class="t">Now people have given that lecture many times, I and others, and a very common question after</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=277">00:04:37.640</a></span> | <span class="t">the talk where you have demonstrated that you can outperform Fortran for dense matrix</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=282">00:04:42.440</a></span> | <span class="t">multiplication, people come up and say, "Yeah, but that was C++.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=286">00:04:46.640</a></span> | <span class="t">If I rewrote your code in C, how much faster would it run?"</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=290">00:04:50.960</a></span> | <span class="t">The answer is much slower.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=294">00:04:54.960</a></span> | <span class="t">This happened the first time actually back in the 80s with a friend of mine called Doug</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=299">00:04:59.840</a></span> | <span class="t">McElroy who demonstrated exactly this effect.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=305">00:05:05.320</a></span> | <span class="t">And so the principle is you should give programmers the tools so that their abstractions can follow</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=312">00:05:12.920</a></span> | <span class="t">the zero-overhead principle.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=315">00:05:15.200</a></span> | <span class="t">Furthermore, when you put in a language feature in C++ or a standard library feature, you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=321">00:05:21.280</a></span> | <span class="t">try to meet this.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=322">00:05:22.920</a></span> | <span class="t">It doesn't mean it's absolutely optimal, but it means if you hand code it with the usual</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=329">00:05:29.000</a></span> | <span class="t">facilities in the language, in C++, in C, you should not be able to better it.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=336">00:05:36.360</a></span> | <span class="t">Usually you can do better if you use embedded assembler for machine code for some of the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=344">00:05:44.120</a></span> | <span class="t">details to utilize part of a computer that the compiler doesn't know about.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=349">00:05:49.640</a></span> | <span class="t">But you should get to that point before you beat to the abstraction.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=354">00:05:54.120</a></span> | <span class="t">So that's a beautiful ideal to reach for.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=358">00:05:58.120</a></span> | <span class="t">And we meet it quite often.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=359">00:05:59.720</a></span> | <span class="t">Quite often.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=361">00:06:01.080</a></span> | <span class="t">So where's the magic of that coming from?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=364">00:06:04.400</a></span> | <span class="t">Some of it is the compilation process, so the implementation of C++.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=368">00:06:08.600</a></span> | <span class="t">Some of it is the design of the feature itself, the guidelines.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=374">00:06:14.420</a></span> | <span class="t">So I've recently and often talked to Chris Ladner, so Clang.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=381">00:06:21.980</a></span> | <span class="t">Just out of curiosity, is your relationship in general with the different implementations</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=388">00:06:28.420</a></span> | <span class="t">of C++ as you think about you and committee and other people in C++, think about the design</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=394">00:06:34.540</a></span> | <span class="t">of new features or design of previous features?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=400">00:06:40.200</a></span> | <span class="t">Even trying to reach the ideal of zero overhead, does the magic come from the design, the guidelines</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=409">00:06:49.280</a></span> | <span class="t">or from the implementations?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=411">00:06:51.780</a></span> | <span class="t">And not all.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=416">00:06:56.520</a></span> | <span class="t">You go for programming technique, program language features and implementation techniques.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=422">00:07:02.180</a></span> | <span class="t">You need all three.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=424">00:07:04.020</a></span> | <span class="t">And how can you think about all three at the same time?</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=428">00:07:08.660</a></span> | <span class="t">It takes some experience, takes some practice and sometimes you get it wrong, but after</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=433">00:07:13.500</a></span> | <span class="t">a while you sort of get it right.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=436">00:07:16.020</a></span> | <span class="t">I don't write compilers anymore, but Brian Kernighan pointed out that one of the reasons</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=444">00:07:24.420</a></span> | <span class="t">C++ succeeded was some of the craftsmanship I put into the early compilers.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=455">00:07:35.880</a></span> | <span class="t">And of course I did the language design and of course I wrote a fair amount of code using</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=459">00:07:39.980</a></span> | <span class="t">this kind of stuff.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=461">00:07:41.860</a></span> | <span class="t">And I think most of the successes involves progress in all three areas together.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=469">00:07:49.580</a></span> | <span class="t">A small group of people can do that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=473">00:07:53.340</a></span> | <span class="t">Two, three people can work together to do something like that.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=477">00:07:57.060</a></span> | <span class="t">It's ideal if it's one person that has all the skills necessary, but nobody has all the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=482">00:08:02.020</a></span> | <span class="t">skills necessary in all the fields where C++ is used.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=486">00:08:06.780</a></span> | <span class="t">So if you want to approach my ideal in say concurrent programming, you need to know about</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=493">00:08:13.100</a></span> | <span class="t">algorithms from concurrent programming.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=495">00:08:15.380</a></span> | <span class="t">You need to know the trigger of lock-free programming.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=499">00:08:19.260</a></span> | <span class="t">You need to know something about the compiler techniques.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=503">00:08:23.020</a></span> | <span class="t">And then you have to know some of the application areas where this is, like some forms of grammar,</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=511">00:08:31.980</a></span> | <span class="t">graphics or some forms of what we call a web-serving kind of stuff.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=520">00:08:40.660</a></span> | <span class="t">And that's very hard to get into a single head, but small groups can do it too.</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=525">00:08:45.500</a></span> | <span class="t">[ Silence ]</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=526">00:08:46.500</a></span> | <span class="t">------------------------------fe4f6f6f6f6--</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=526">00:08:46.500</a></span> | <span class="t">------------------------------fe4f6f6f6f6--</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=531">00:08:51.500</a></span> | <span class="t">------------------------------fe4f6f6f6f6--</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=536">00:08:56.500</a></span> | <span class="t">------------------------------fe4f6f6f6f6--</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=G5zCGY0tkq8&t=541">00:09:01.500</a></span> | <span class="t">[BLANK_AUDIO]</span></div></div></body></html>
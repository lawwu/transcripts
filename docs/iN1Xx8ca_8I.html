<html><head><title>LangChain Agent Executor Deep Dive</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }
    .container {
        width: 95%;  /* Increased width to use more space */
        margin: auto;
        overflow: auto;  /* Added to handle overflow by adding a scrollbar if necessary */
    }
    h2, h3 {
        color: #333;
        text-align: center;
    }
    a {
        color: #0000FF;  /* Traditional blue color for links */
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    img {
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .c {
        margin: 10px 0;
    }
    .s, .t {
        display: inline-block;
        margin-right: 5px;
    }
    .max-width {
        max-width: 800px;
        margin: auto;
        padding-left: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;  /* Ensure text alignment is consistent */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tr:nth-child(odd) {
        background-color: #e6e6e6;
    }
</style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-69VLBMTTP0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-69VLBMTTP0');
    </script>
    </head><body><div class='container'><a href="index.html">back to index</a><h2>LangChain Agent Executor Deep Dive</h2><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I"><img src="https://i.ytimg.com/vi/iN1Xx8ca_8I/maxresdefault.jpg" style="width:50%;"></a><div><br></div><h3>Chapters</h3><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=0">0:0</a> LangChain v0.3 Agent Executor<br><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=566">9:26</a> Creating an Agent with LCEL<br><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=833">13:53</a> Executing Tool Calls<br><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1018">16:58</a> Agentic Final Answers<br><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1558">25:58</a> Building a Custom Agent Executor<br><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1967">32:47</a> Executing Multiple Tool Calls<br><br><div style="text-align: left;"><a href="./iN1Xx8ca_8I.html">Whisper Transcript</a> | <a href="./transcript_iN1Xx8ca_8I.html">Transcript Only Page</a></div><br><div style="max-width: 800px;"><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=0" target="_blank">00:00:00.000</a></span> | <span class="t">in this chapter we're going to be taking a deep dive into agents with the lang chain and we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=6" target="_blank">00:00:06.880</a></span> | <span class="t">going to be covering what an agent is we're going to talk a little bit conceptually about agents the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=15" target="_blank">00:00:15.200</a></span> | <span class="t">react agent and the type of agent that we're going to be building and based on that knowledge we are</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=20" target="_blank">00:00:20.560</a></span> | <span class="t">actually going to build out our own agent execution logic which we refer to as the agent executor so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=29" target="_blank">00:00:29.920</a></span> | <span class="t">in comparison to the previous video on agents in lang chain which is more of an introduction</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=36" target="_blank">00:00:36.160</a></span> | <span class="t">this is far more detailed we'll be getting into the weeds a lot more with both what agents are and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=43" target="_blank">00:00:43.680</a></span> | <span class="t">also agents within lang chain now when we talk about agents a significant part of the agent is actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=53" target="_blank">00:00:53.680</a></span> | <span class="t">relatively simple code logic that iteratively runs lm calls and processes their outputs potentially</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=64" target="_blank">00:01:04.400</a></span> | <span class="t">running or executing tools the exact logic for each approach to building an agent will actually vary</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=72" target="_blank">00:01:12.720</a></span> | <span class="t">pretty significantly but we'll focus on one of those which is the react agent now react is it's a very</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=82" target="_blank">00:01:22.160</a></span> | <span class="t">common pattern and although being relatively old now most of the tool agents that we see used by open ai</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=90" target="_blank">00:01:30.080</a></span> | <span class="t">and essentially every lm company they all use a very similar pattern now the react agent follows a pattern</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=98" target="_blank">00:01:38.480</a></span> | <span class="t">like this okay so we would have our user input up here okay so our input here is a question all right</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=106" target="_blank">00:01:46.800</a></span> | <span class="t">aside from the apple remote what other device can control the program apple remote was originally</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=111" target="_blank">00:01:51.600</a></span> | <span class="t">designed to interact with now probably most elements would actually be able to answer this directly now</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=116" target="_blank">00:01:56.800</a></span> | <span class="t">this is from the paper which was a few years back now in this scenario assuming our lm didn't already know</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=124" target="_blank">00:02:04.560</a></span> | <span class="t">the answer there are multiple steps that an lm or an agent might take in order to find out the answer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=131" target="_blank">00:02:11.520</a></span> | <span class="t">okay so the first of those is we say our question here is what other device can control the program</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=138" target="_blank">00:02:18.400</a></span> | <span class="t">apple remote was originally designed to interact with so the first thing is okay what was the program that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=144" target="_blank">00:02:24.320</a></span> | <span class="t">the apple remote was originally designed to interact with that's the first question we have here so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=150" target="_blank">00:02:30.080</a></span> | <span class="t">what we do is i need to search apple remote and find a program it was useful this is a reasoning</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=155" target="_blank">00:02:35.840</a></span> | <span class="t">step so the lm is reasoning about what it needs to do i need to search for that and find a program</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=162" target="_blank">00:02:42.000</a></span> | <span class="t">of useful so we are taking an action this is a tool call here okay so we're going to use the search</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=168" target="_blank">00:02:48.720</a></span> | <span class="t">tool and our query will be apple remote and the observation is the response we get from executing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=174" target="_blank">00:02:54.320</a></span> | <span class="t">that tool okay so the response here would be the apple remote is designed to control the front row media</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=180" target="_blank">00:03:00.240</a></span> | <span class="t">center so now we know the program apple remote was originally designed to interact with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=184" target="_blank">00:03:04.880</a></span> | <span class="t">now we're going to go through another iteration okay so this is one iteration</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=192" target="_blank">00:03:12.320</a></span> | <span class="t">of our reasoning action and observation so when we're talking about react here although again</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=199" target="_blank">00:03:19.920</a></span> | <span class="t">this sort of pattern is very common across many agents when we're talking about react the name actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=206" target="_blank">00:03:26.800</a></span> | <span class="t">is reasoning or the first two characters of re's reasoning followed by action okay so that's where the react</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=215" target="_blank">00:03:35.520</a></span> | <span class="t">comes from so this is one of our react agent loops iterations we're going to go and do another one</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=222" target="_blank">00:03:42.000</a></span> | <span class="t">so next step we have this information the lm is now provided with this information now we want to do a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=228" target="_blank">00:03:48.720</a></span> | <span class="t">search for front row okay so we do that this is the reasoning step we perform the action search front row</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=236" target="_blank">00:03:56.720</a></span> | <span class="t">okay tool search query front row observation this is the response front row is controlled by an apple remote</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=244" target="_blank">00:04:04.240</a></span> | <span class="t">or keyboard function keys all right cool so we know keyboard function keys are the other device that we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=252" target="_blank">00:04:12.560</a></span> | <span class="t">were asking about up here so now we have all the information we need we can provide an answer to our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=260" target="_blank">00:04:20.240</a></span> | <span class="t">user so we go through another iteration here reasoning in action our reasoning is i can now provide the answer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=269" target="_blank">00:04:29.200</a></span> | <span class="t">of keyboard function keys of keyboard function keys to the user okay great so then we use the answer tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=276" target="_blank">00:04:36.080</a></span> | <span class="t">it's like final answer in more common tool agent use and the answer would be keyboard function keys which we then</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=286" target="_blank">00:04:46.560</a></span> | <span class="t">output to our user okay so that is the react loop okay so looking at this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=296" target="_blank">00:04:56.800</a></span> | <span class="t">how where are we actually calling an lm and what and in what way are we actually calling an lm so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=303" target="_blank">00:05:03.440</a></span> | <span class="t">we have our reasoning step our lm is generating the text here right so lm is generating okay what should i do</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=312" target="_blank">00:05:12.240</a></span> | <span class="t">then our lm is going to generate input parameters to our action step here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=320" target="_blank">00:05:20.640</a></span> | <span class="t">that will those input parameters and the tool being used will be taken by our code logic our agent executor</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=327" target="_blank">00:05:27.760</a></span> | <span class="t">logic and they will be used to execute some code in which we will get an output that output might be</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=334" target="_blank">00:05:34.560</a></span> | <span class="t">taken directly to our observation or our lm might take that output and then generate an observation based on</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=341" target="_blank">00:05:41.040</a></span> | <span class="t">that it depends on how you've implemented everything so our lm could potentially be new be being used at</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=350" target="_blank">00:05:50.480</a></span> | <span class="t">every single set there and of course that will repeat through every iteration so we have further</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=358" target="_blank">00:05:58.080</a></span> | <span class="t">iterations down here so you're potentially using lm multiple times throughout this whole process which of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=364" target="_blank">00:06:04.560</a></span> | <span class="t">course in terms of latency and token costs it does mean that you're going to be paying more for an agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=371" target="_blank">00:06:11.040</a></span> | <span class="t">than you are with just a standard lm but that that is of course expected because you have all of these</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=376" target="_blank">00:06:16.720</a></span> | <span class="t">different things going on but the idea is that what you can get out of an agent is of course much</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=383" target="_blank">00:06:23.040</a></span> | <span class="t">better than what you can get out of an lm alone so when we're looking at all of this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=388" target="_blank">00:06:28.640</a></span> | <span class="t">all of this iterative</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=390" target="_blank">00:06:30.720</a></span> | <span class="t">chain of thought and tool use</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=393" target="_blank">00:06:33.360</a></span> | <span class="t">all this needs to be controlled by what we call the agent executor</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=397" target="_blank">00:06:37.840</a></span> | <span class="t">okay which is our code logic which is hitting our lm processing its outputs</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=402" target="_blank">00:06:42.640</a></span> | <span class="t">and repeating that process until we get to our answer so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=406" target="_blank">00:06:46.240</a></span> | <span class="t">breaking that part down what does it actually look like</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=410" target="_blank">00:06:50.400</a></span> | <span class="t">it looks kind of like this so we have our user input goes into our lm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=414" target="_blank">00:06:54.880</a></span> | <span class="t">okay and then we move on to the reasoning and action steps</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=419" target="_blank">00:06:59.680</a></span> | <span class="t">is the action the answer if it is the answer so as we saw</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=425" target="_blank">00:07:05.120</a></span> | <span class="t">here where is the answer if the action is the answer so true we would just go straight to our outputs</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=433" target="_blank">00:07:13.440</a></span> | <span class="t">otherwise we're going to use our select tool agent executor is going to handle all this it's going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=439" target="_blank">00:07:19.280</a></span> | <span class="t">execute our tool and then from that we get our you know three reasoning action observation inputs and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=446" target="_blank">00:07:26.560</a></span> | <span class="t">outputs and then we're feeding all that information back into our lm okay in which case we go back</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=453" target="_blank">00:07:33.280</a></span> | <span class="t">through that loop so we could be looping for a little while until we get to that final output</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=458" target="_blank">00:07:38.240</a></span> | <span class="t">okay so let's go across to the code when we're going to the agent executor notebook we'll open that up in</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=465" target="_blank">00:07:45.600</a></span> | <span class="t">colab and we'll go ahead and just install our prerequisites</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=469" target="_blank">00:07:49.680</a></span> | <span class="t">nothing different here just line chain linesmith optionally as before</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=476" target="_blank">00:07:56.240</a></span> | <span class="t">again optionally line chain api key if you do want to use linesmith okay and then we'll come down to our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=484" target="_blank">00:08:04.880</a></span> | <span class="t">first section where it's going to define a few quick tools i'm not necessarily going to go through these</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=491" target="_blank">00:08:11.440</a></span> | <span class="t">these because we've already covered them in the agent introduction but very quickly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=497" target="_blank">00:08:17.360</a></span> | <span class="t">line chain core tools we're just importing this tool decorator which</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=501" target="_blank">00:08:21.280</a></span> | <span class="t">transforms each of our functions here into what we would call a structured tool object this thing here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=509" target="_blank">00:08:29.680</a></span> | <span class="t">okay which we can see i'm just having a quick look here and then if we wanted to we can extract all of the sort of key information from that structure tool using these parameters here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=521" target="_blank">00:08:41.280</a></span> | <span class="t">or attributes so name description</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=526" target="_blank">00:08:46.080</a></span> | <span class="t">which gives us essentially how the llm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=529" target="_blank">00:08:49.040</a></span> | <span class="t">should use our function okay so i'm going to keep pushing through that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=535" target="_blank">00:08:55.840</a></span> | <span class="t">now very quickly again we did cover this in the intro video so i don't want to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=542" target="_blank">00:09:02.880</a></span> | <span class="t">necessarily go over again in too much detail but our agent executor logic is going to need this part</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=549" target="_blank">00:09:09.920</a></span> | <span class="t">so we're going to be getting a string from our llm we're going to be loading that into</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=555" target="_blank">00:09:15.520</a></span> | <span class="t">to a dictionary object and we're going to be using that to actually execute our tool as we do here using keyword arguments</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=564" target="_blank">00:09:24.480</a></span> | <span class="t">okay like that okay so with the tools out of the way let's take a look at how we create our agent so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=571" target="_blank">00:09:31.760</a></span> | <span class="t">when i say agent here i'm specifically talking about the part that is generating our reasoning step</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=579" target="_blank">00:09:39.920</a></span> | <span class="t">then generating which tool and what the input parameters to that tool will be</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=587" target="_blank">00:09:47.200</a></span> | <span class="t">then the rest of that is not actually covered by the agent okay the rest of that would be covered by</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=592" target="_blank">00:09:52.000</a></span> | <span class="t">agent execution logic which would be taking the tool to be used the parameters executing the tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=599" target="_blank">00:09:59.040</a></span> | <span class="t">getting the response aka the observation and then iterating through that until the llm is satisfied and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=605" target="_blank">00:10:05.840</a></span> | <span class="t">we have enough information to answer a question so looking at that our agent will look something like this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=613" target="_blank">00:10:13.440</a></span> | <span class="t">it's pretty simple so we have our input parameters including the chat history user query we have our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=619" target="_blank">00:10:19.040</a></span> | <span class="t">input parameters including the chat history use query and actually would also have any intermediate</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=624" target="_blank">00:10:24.800</a></span> | <span class="t">steps that have happened in here as well we have our prompt template and then we have our llm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=630" target="_blank">00:10:30.320</a></span> | <span class="t">binded with tools so let's see how all this would look starting with we'll define our prompt template</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=638" target="_blank">00:10:38.160</a></span> | <span class="t">searching like this we have our system message you're a helpful assistant when answering these</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=644" target="_blank">00:10:44.320</a></span> | <span class="t">questions you should use on talk to provide after using a tool the tool app will provide in the scratch</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=648" target="_blank">00:10:48.640</a></span> | <span class="t">pad below okay which we're naming here if you have an answer in scratch pad you should not use any more</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=655" target="_blank">00:10:55.280</a></span> | <span class="t">tools and send answer directly to the user okay so we have that as our system message we could obviously</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=661" target="_blank">00:11:01.760</a></span> | <span class="t">modify that based on what we're actually doing then following our system message we're going to have our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=667" target="_blank">00:11:07.920</a></span> | <span class="t">chat history so any previous interactions between user and the ai then we have our current message</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=674" target="_blank">00:11:14.720</a></span> | <span class="t">from the user okay we should be fed into the input field there and then following this we have our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=680" target="_blank">00:11:20.720</a></span> | <span class="t">agent stretch pad or the intermediate thoughts so this is where things like the llm deciding okay this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=687" target="_blank">00:11:27.760</a></span> | <span class="t">is what i need to do this is how i'm going to do it aka the tool call and this is the observation that's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=694" target="_blank">00:11:34.000</a></span> | <span class="t">where all of that information will be going all right so each of those you want to pass in as a message</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=700" target="_blank">00:11:40.160</a></span> | <span class="t">okay and the way that will look is that any</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=702" target="_blank">00:11:42.960</a></span> | <span class="t">tool call generation from the llm so when the llm is saying use this tool please</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=708" target="_blank">00:11:48.880</a></span> | <span class="t">that will be a assistant message and then the responses from our tool so the observations</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=717" target="_blank">00:11:57.200</a></span> | <span class="t">they will be returned as tool messages great so we'll run that to define our prompt template we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=724" target="_blank">00:12:04.800</a></span> | <span class="t">going to define our lm so we're going to be using jupy 40 mini with a temperature of zero because we want</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=733" target="_blank">00:12:13.040</a></span> | <span class="t">less creativity here particularly when we're doing tool calling that there's just no need for us to use</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=738" target="_blank">00:12:18.640</a></span> | <span class="t">a high temperature here so we need to enter our openai api key which we would get from platform</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=743" target="_blank">00:12:23.200</a></span> | <span class="t">openai.com you enter this then we're going to continue and we're just going to add tools</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=750" target="_blank">00:12:30.320</a></span> | <span class="t">to our lm here okay these and we're going to bind them here then we have tool choice any so tool choice</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=761" target="_blank">00:12:41.120</a></span> | <span class="t">any we'll see in a moment i'll go through this a little bit more in a second but that's going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=766" target="_blank">00:12:46.400</a></span> | <span class="t">essentially force a tool call now you can also put required which is actually a bit more a bit clearer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=773" target="_blank">00:12:53.200</a></span> | <span class="t">but i'm using any here so i'll stick with it so these are our tools we're going through we have our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=779" target="_blank">00:12:59.040</a></span> | <span class="t">inputs into the agent runnable we have our prompt template and then that will get fed into our lm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=786" target="_blank">00:13:06.720</a></span> | <span class="t">so let's run that now we would invoke the agent part of everything here with this okay so let's see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=794" target="_blank">00:13:14.080</a></span> | <span class="t">what it outputs this is important so i'm asking what is 10 percent obviously that should use the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=799" target="_blank">00:13:19.200</a></span> | <span class="t">addition tool and we can actually see that happening so the agent message content is actually empty here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=806" target="_blank">00:13:26.080</a></span> | <span class="t">this is where you'd usually get an answer but if we go and have a look we have additional keyword args</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=812" target="_blank">00:13:32.400</a></span> | <span class="t">in there we have tool calls and then we have function arguments okay so we're calling a function</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=819" target="_blank">00:13:39.040</a></span> | <span class="t">arguments for that function are this okay so we can see this is string again the way that we would</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=825" target="_blank">00:13:45.360</a></span> | <span class="t">pass that as we do json loads and that becomes a dictionary and then we can see which function is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=830" target="_blank">00:13:50.640</a></span> | <span class="t">being called and it is the add function and that is all we need in order to actually execute our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=836" target="_blank">00:13:56.720</a></span> | <span class="t">function or our tool okay we can see it's a lot more detail here now what do we do from here we're going to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=846" target="_blank">00:14:06.720</a></span> | <span class="t">map the tool name to the tool function and then we're just going to execute the tool function with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=850" target="_blank">00:14:10.960</a></span> | <span class="t">the generated args i.e those i'll also just point out quickly that here we are getting the dictionary</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=858" target="_blank">00:14:18.400</a></span> | <span class="t">directly which i think is coming from somewhere else and this which is probably which is here okay so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=865" target="_blank">00:14:25.280</a></span> | <span class="t">even that step here where we're passing this out we don't necessarily need to do that because i think</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=871" target="_blank">00:14:31.280</a></span> | <span class="t">on the lang chain side they're doing it for us so we're already getting that so json loads we don't</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=878" target="_blank">00:14:38.400</a></span> | <span class="t">necessarily need here okay so we're just creating this tool name to function mapping dictionary here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=885" target="_blank">00:14:45.440</a></span> | <span class="t">so we're taking the well the tool names and we're just mapping those back to our tool functions and this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=891" target="_blank">00:14:51.120</a></span> | <span class="t">is coming from our tools lists so that tools list that we defined here okay and we can even just see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=898" target="_blank">00:14:58.240</a></span> | <span class="t">quickly and that will include everything or each of the tools you define there okay that's all it is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=904" target="_blank">00:15:04.240</a></span> | <span class="t">now we're going to execute using our name to tool mapping okay so this here will get us the function</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=913" target="_blank">00:15:13.600</a></span> | <span class="t">so it will go as this function and then to that function we're going to pass the arguments that we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=920" target="_blank">00:15:20.800</a></span> | <span class="t">generated okay let's do what looks like all right so the response so the observation is 20. now we are</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=932" target="_blank">00:15:32.080</a></span> | <span class="t">going to feed that back into our lm using the tool message and we're actually going to put a little bit</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=939" target="_blank">00:15:39.120</a></span> | <span class="t">of text around this to make it a little bit nice so we don't necessarily need to do this to be completely</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=944" target="_blank">00:15:44.160</a></span> | <span class="t">honest we could just return the answer directly i don't understand i don't even think there would</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=952" target="_blank">00:15:52.240</a></span> | <span class="t">really be any difference so we could do either in some cases that could be very useful in other cases</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=959" target="_blank">00:15:59.200</a></span> | <span class="t">like here it doesn't really make too much difference particularly because we have this tool call id and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=964" target="_blank">00:16:04.320</a></span> | <span class="t">what this tool call id is doing is it's being used by open ai is being read by the lm so that the lm knows</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=972" target="_blank">00:16:12.080</a></span> | <span class="t">that the response we got here is actually mapped back to the the tool execution that it's identified here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=981" target="_blank">00:16:21.840</a></span> | <span class="t">because you see that we have this id right we have an id here the lm is going to see the id it's going</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=988" target="_blank">00:16:28.480</a></span> | <span class="t">to see the id that we pass back in here and it's going to see those two are connected so you can see</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=993" target="_blank">00:16:33.760</a></span> | <span class="t">okay this is the tool i called and this is a response i got from it because of that you don't necessarily</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=999" target="_blank">00:16:39.120</a></span> | <span class="t">need to say which tool you used here but you can it depends on what you're doing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1006" target="_blank">00:16:46.960</a></span> | <span class="t">okay so what do we get here we have okay just running everything again we've added our tool call</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1014" target="_blank">00:16:54.640</a></span> | <span class="t">so that's the original ai message that includes okay use the add tool and then we have the tool execution</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1020" target="_blank">00:17:00.080</a></span> | <span class="t">tool message which is the observation we map those to the agent stretch pad and then what do we get we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1027" target="_blank">00:17:07.200</a></span> | <span class="t">have an ai message but the content is empty again which is interesting because we we said to our lm up here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1035" target="_blank">00:17:15.760</a></span> | <span class="t">if you have an answer to the district in the stretch pad you should not use any more tools and send</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1039" target="_blank">00:17:19.920</a></span> | <span class="t">answer directly to the user so why why is our lm not answering well the reason for that is down here we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1051" target="_blank">00:17:31.920</a></span> | <span class="t">specify tool choice equals any which again is the same as tool choice required which is telling the lm that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1061" target="_blank">00:17:41.840</a></span> | <span class="t">it cannot actually answer directly it has to use a tool and i usually do this all right i would usually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1068" target="_blank">00:17:48.720</a></span> | <span class="t">put tool choice equals any or all required and force the lm to use a tool every single time so then the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1076" target="_blank">00:17:56.800</a></span> | <span class="t">question is if it has to use a tool over time how does it answer our user well we'll see in a moment</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1085" target="_blank">00:18:05.600</a></span> | <span class="t">first i just want to show you the two options essentially that we have the second is what i</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1091" target="_blank">00:18:11.360</a></span> | <span class="t">would usually use but let's let's start with the first so the first option is that we set tool choice</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1097" target="_blank">00:18:17.040</a></span> | <span class="t">equal to auto and this tells the lm that you can either use a tool or it can answer the user directly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1104" target="_blank">00:18:24.320</a></span> | <span class="t">using the final answer or using that content field so if we run that like we're specifying tool choices</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1112" target="_blank">00:18:32.000</a></span> | <span class="t">auto we run that let's invoke okay initially you see ah wait there's still no content that's because we</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1120" target="_blank">00:18:40.320</a></span> | <span class="t">we didn't add anything into the agent scratchpad here there's no information right it's all empty</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1126" target="_blank">00:18:46.320</a></span> | <span class="t">um actually it's empty because sorry so here you have the chat history that's empty we didn't specify</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1133" target="_blank">00:18:53.440</a></span> | <span class="t">the agent scratchpad and the reason that we can do that is because we're using if you look here we're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1139" target="_blank">00:18:59.200</a></span> | <span class="t">using get so essentially it's saying try and get agent scratchpad from this dictionary but if it hasn't</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1145" target="_blank">00:19:05.120</a></span> | <span class="t">been provided we're just going to give an empty list so that's what that's why we don't need to</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1150" target="_blank">00:19:10.640</a></span> | <span class="t">specify it here but that means that oh okay the the agent doesn't actually know anything here it hasn't</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1157" target="_blank">00:19:17.440</a></span> | <span class="t">used the tool yet so we're going to just go through our iteration again right so we're going to get our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1164" target="_blank">00:19:24.240</a></span> | <span class="t">tool output we're going to use that to create the tool message and then we're going to add our tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1170" target="_blank">00:19:30.240</a></span> | <span class="t">call from the ai and the observation we're going to pass those to the agent scratchpad and this time</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1176" target="_blank">00:19:36.880</a></span> | <span class="t">we'll see we run that okay now we get the content okay so now it's not calling you see here there's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1184" target="_blank">00:19:44.720</a></span> | <span class="t">no tool call or anything going on we just get content so that is this is a standard way of doing or</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1194" target="_blank">00:19:54.880</a></span> | <span class="t">building a tool calling agent the other option which i mentioned this is what i would usually go</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1199" target="_blank">00:19:59.840</a></span> | <span class="t">with so number two here i would usually create a final answer tool so why would we even do that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1210" target="_blank">00:20:10.080</a></span> | <span class="t">why would we create a final answer tool rather than just you know this method is actually perfectly</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1215" target="_blank">00:20:15.200</a></span> | <span class="t">you know it works so why would we not just use this there are a few reasons the main ones are that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1224" target="_blank">00:20:24.000</a></span> | <span class="t">with option two where we're forcing tool calling this removes possibility of an agent using that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1230" target="_blank">00:20:30.720</a></span> | <span class="t">content field directly and the reason at least the reason i found this good when building agents in the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1237" target="_blank">00:20:37.360</a></span> | <span class="t">past is that occasionally when you do want to use a tool it's actually going to go with the content field</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1243" target="_blank">00:20:43.680</a></span> | <span class="t">and it can get quite annoying and use the content field quite frequently when you actually do want</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1248" target="_blank">00:20:48.880</a></span> | <span class="t">it to be using one of the tools and this is particularly noticeable with smaller models</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1256" target="_blank">00:20:56.880</a></span> | <span class="t">with bigger models it's not as common although it does so happen now the second thing that i quite</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1264" target="_blank">00:21:04.400</a></span> | <span class="t">like about using a tool as your final answer is that you can enforce a structured output in your answers so this is something we saw in i think the first yes the first line</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1278" target="_blank">00:21:18.000</a></span> | <span class="t">chain example where we were using the structured output tool of line chain and what that actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1285" target="_blank">00:21:25.680</a></span> | <span class="t">is that the structured outputs feature of line chain it's actually just a tool call right so it's forcing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1291" target="_blank">00:21:31.280</a></span> | <span class="t">a tool call from your lm it's just abstracted away so you don't realize that that's what it's doing but that is what it's doing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1297" target="_blank">00:21:37.840</a></span> | <span class="t">so i find that structured outputs are very useful particularly when you have a lot of code around</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1306" target="_blank">00:21:46.000</a></span> | <span class="t">your agent so when that output needs to go downstream into some logic that can be very useful because you can</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1315" target="_blank">00:21:55.120</a></span> | <span class="t">you have a reliable output format that you know is going to be output and it's also incredibly useful if</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1323" target="_blank">00:22:03.200</a></span> | <span class="t">you have multiple outputs or multiple fields that you need to generate for so those can be very useful</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1330" target="_blank">00:22:10.880</a></span> | <span class="t">now to implement this so to implement option two we need to create a final answer tool we as without</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1339" target="_blank">00:22:19.760</a></span> | <span class="t">other tools we're actually going to provide description and you can or you cannot do this so you can</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1345" target="_blank">00:22:25.920</a></span> | <span class="t">you can also just return none and actually just use the generated action</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1353" target="_blank">00:22:33.520</a></span> | <span class="t">as the essentially what you're going to send out of your agent execution logic or you can actually just</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1361" target="_blank">00:22:41.360</a></span> | <span class="t">execute the tool and just pass that information directly through perhaps in some cases you might</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1366" target="_blank">00:22:46.720</a></span> | <span class="t">have some additional post processing for your final answer maybe you do some checks to make sure it hasn't</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1372" target="_blank">00:22:52.080</a></span> | <span class="t">said anything weird you could add that in this tool here but yeah in this case we're just trying to pass</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1379" target="_blank">00:22:59.360</a></span> | <span class="t">those two directly so let's run this we've added where are we finance it we've added the final answer tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1389" target="_blank">00:23:09.280</a></span> | <span class="t">to our named tool mapping so our agent can now use it we redefine our agent setting tool choice to any</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1396" target="_blank">00:23:16.880</a></span> | <span class="t">because we're forcing the tool choice here and let's go with what is 10 plus 10 see what happens</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1404" target="_blank">00:23:24.080</a></span> | <span class="t">okay we get this right we can also one thing nice thing here is that we don't need to check is our app</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1410" target="_blank">00:23:30.240</a></span> | <span class="t">in the content field or is it in the tool course field we know it's going to be in the tool course</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1414" target="_blank">00:23:34.640</a></span> | <span class="t">field because we're forcing that tool use which is quite nice so okay we know we're using the add tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1420" target="_blank">00:23:40.480</a></span> | <span class="t">and these are the arguments great we go or go through our process again we're going to create our</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1426" target="_blank">00:23:46.960</a></span> | <span class="t">tool message and then we're going to add those messages into our scratchpad or intermediate sets</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1433" target="_blank">00:23:53.040</a></span> | <span class="t">and then we can see again ah okay content field is empty that is expected we we're forcing tool</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1440" target="_blank">00:24:00.240</a></span> | <span class="t">users no way that this can be this can be or have anything inside it but then if we come down here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1447" target="_blank">00:24:07.120</a></span> | <span class="t">to our tool course nice final answer arbs answer 10 plus 10 equals 20. all right we also have this</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1457" target="_blank">00:24:17.280</a></span> | <span class="t">tools use where's tools use coming from okay well i mentioned before that you can add additional things</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1463" target="_blank">00:24:23.760</a></span> | <span class="t">or or outputs when you're using this tool use for your final answer so if you just come up here to here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1472" target="_blank">00:24:32.320</a></span> | <span class="t">you can see that i asked the lm to use that tools use field which i defined here it's a list of strings</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1479" target="_blank">00:24:39.920</a></span> | <span class="t">use this to tell me what tools you used in your answer all right so i'm getting the normal answer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1485" target="_blank">00:24:45.840</a></span> | <span class="t">but i'm also getting this information as well which is kind of nice so that's where that is coming from</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1490" target="_blank">00:24:50.320</a></span> | <span class="t">see that okay so we have our actual answer here and then we just have some additional information</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1496" target="_blank">00:24:56.240</a></span> | <span class="t">okay and we've also defined the type here it's just a list of strings which is really nice it's giving us a</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1501" target="_blank">00:25:01.440</a></span> | <span class="t">lot of control over what we're outputting which is perfect that's you know when you're building with</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1506" target="_blank">00:25:06.880</a></span> | <span class="t">agents the biggest problem in most cases is control of your lm so here we're getting a honestly pretty</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1518" target="_blank">00:25:18.720</a></span> | <span class="t">unbelievable amount of control over what our lm is going to be doing which is perfect for when you're</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1525" target="_blank">00:25:25.440</a></span> | <span class="t">building in the real world so this is everything that we need this is our answer and we would of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1532" target="_blank">00:25:32.960</a></span> | <span class="t">course be passing that downstream into whatever logic our ai application would be using okay so maybe</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1542" target="_blank">00:25:42.160</a></span> | <span class="t">that goes directly to a front end and we're displaying this as our answer and we're maybe providing some</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1548" target="_blank">00:25:48.720</a></span> | <span class="t">information about okay where did this answer come from or maybe there's some additional steps downstream</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1554" target="_blank">00:25:54.800</a></span> | <span class="t">where we're actually doing some more processing or transformations but yeah we have that that's</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1559" target="_blank">00:25:59.840</a></span> | <span class="t">great now everything we've just done here we've been executing everything one by one</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1565" target="_blank">00:26:05.520</a></span> | <span class="t">and that's to help us understand what process we go through when we're building an agent executor</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1574" target="_blank">00:26:14.320</a></span> | <span class="t">but we're not going to want to do that all the time are we most of the time we probably want to abstract</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1582" target="_blank">00:26:22.480</a></span> | <span class="t">all this away and that's what we're going to do now so we're going to build essentially everything we've</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1589" target="_blank">00:26:29.120</a></span> | <span class="t">just taken we're going to abstract take that and abstract it away into a custom agent executor class</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1596" target="_blank">00:26:36.000</a></span> | <span class="t">so let's have a quick look at what we're doing here although it's literally just what we we just did</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1602" target="_blank">00:26:42.400</a></span> | <span class="t">okay so custom agent executor we initialize it we set this match situations i'll talk about this in a moment</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1610" target="_blank">00:26:50.480</a></span> | <span class="t">we initialize it that is going to set our chat history to just being empty okay because it's a new</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1617" target="_blank">00:26:57.600</a></span> | <span class="t">agent and there should be no chat history in this case then we actually define our agent right so that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1622" target="_blank">00:27:02.960</a></span> | <span class="t">part of the logic that is going to be taking out inputs and generating what to do next aka what tool call to do</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1630" target="_blank">00:27:10.400</a></span> | <span class="t">okay and we set everything as attributes of our class and then we're going to define an invoke method</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1637" target="_blank">00:27:17.520</a></span> | <span class="t">this invoke method is going to take an input which is just a string so it's going to be our message from the user</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1644" target="_blank">00:27:24.000</a></span> | <span class="t">and what it's going to do is it's going to iterate through essentially everything we just did</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1653" target="_blank">00:27:33.040</a></span> | <span class="t">okay until we hit the the final answer tool okay so well what does that mean we have our tool call</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1661" target="_blank">00:27:41.360</a></span> | <span class="t">right which is it we're just invoking our agent all right so it's going to generate what tool to use and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1666" target="_blank">00:27:46.720</a></span> | <span class="t">what parameters should go into that okay and that's a that's an ai message so we would append that to our agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1675" target="_blank">00:27:55.040</a></span> | <span class="t">scratch pad and then we're going to use the information from our tool call so the name of the tool and the args and also the id</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1682" target="_blank">00:28:02.000</a></span> | <span class="t">we're going to use all that information to execute our tool and then provide the observation back to our lm</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1691" target="_blank">00:28:11.440</a></span> | <span class="t">okay so execute our tool here we then format the tool output into a tool message see here that i'm just using</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1699" target="_blank">00:28:19.840</a></span> | <span class="t">the output directly i'm not adding that additional information there we do need to always pass in the</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1707" target="_blank">00:28:27.760</a></span> | <span class="t">tool call id so that our lm knows which output is mapped to which tool i didn't mention this before in</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1714" target="_blank">00:28:34.960</a></span> | <span class="t">in this video at least but that is that's important when we have multiple tool calls happening in parallel</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1720" target="_blank">00:28:40.240</a></span> | <span class="t">because that can happen when we have multiple tool calls happening in parallel let's say we have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1724" target="_blank">00:28:44.800</a></span> | <span class="t">10 tool calls all those responses might come back at different times so then the order of those can get</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1730" target="_blank">00:28:50.880</a></span> | <span class="t">messed up so we wouldn't necessarily always see that it's a ai message beginning a tool call followed by</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1740" target="_blank">00:29:00.080</a></span> | <span class="t">the answer to that tool call instead it might be ai message followed by like 10 different tool call</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1746" target="_blank">00:29:06.880</a></span> | <span class="t">responses so you need to have those ids in there okay so then we pass our tool output back to our agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1756" target="_blank">00:29:16.320</a></span> | <span class="t">scratchpad or intermediate steps i'm sending a print in here so that we can see what's happening whilst</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1762" target="_blank">00:29:22.000</a></span> | <span class="t">everything is running then we increment this count number we'll talk about that in a moment so coming</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1767" target="_blank">00:29:27.840</a></span> | <span class="t">past that we say okay if the tool name here is final answer that means we should stop okay so once we get</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1777" target="_blank">00:29:37.440</a></span> | <span class="t">to final answer that means we can actually extract our final answer from the the final tool call okay and</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1784" target="_blank">00:29:44.400</a></span> | <span class="t">in this case i'm going to say that we're going to extract the answer from the tool call or the observation</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1793" target="_blank">00:29:53.360</a></span> | <span class="t">we're going to extract the answer that was generated we're going to pass that into our chat history so</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1799" target="_blank">00:29:59.120</a></span> | <span class="t">we're going to have our user message this is the one the user came up with followed by our answer which</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1805" target="_blank">00:30:05.360</a></span> | <span class="t">is just the natural answer field and that's going to be an ai message but then we're actually going to be</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1811" target="_blank">00:30:11.120</a></span> | <span class="t">including all of the information so this is the the answer natural language answer and also the tools</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1818" target="_blank">00:30:18.800</a></span> | <span class="t">used output we're going to be feeding all of that out to some downstream process as preferred so we have</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1826" target="_blank">00:30:26.720</a></span> | <span class="t">that now one thing that can happen if we're not careful is that our agent executor might may run many</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1836" target="_blank">00:30:36.720</a></span> | <span class="t">many many times and particularly if we've done something wrong in our logic as we're building</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1841" target="_blank">00:30:41.840</a></span> | <span class="t">these things it can happen that maybe we've not connected the observation back up into our agent</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1850" target="_blank">00:30:50.080</a></span> | <span class="t">executor logic and in that case what we might see is our agent executor runs again and again and again</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1855" target="_blank">00:30:55.360</a></span> | <span class="t">and i mean that's fine we're going to stop it but if we don't realize straight away and we're doing a lot of</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1862" target="_blank">00:31:02.320</a></span> | <span class="t">lm calls that can get quite expensive quite quickly so what we can do is we can set a limit all right</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1868" target="_blank">00:31:08.480</a></span> | <span class="t">so that's what we've done up here with this max iterations we said okay if we go past three max</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1873" target="_blank">00:31:13.120</a></span> | <span class="t">iterations by default i'm going to say stop all right so that's that's why we have the count here while</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1880" target="_blank">00:31:20.000</a></span> | <span class="t">count is less than the max iterations we're going to keep going once we hit the number of max iterations</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1886" target="_blank">00:31:26.640</a></span> | <span class="t">we stop okay so the while loop will will just stop looping okay so it just protects us in case of that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1893" target="_blank">00:31:33.600</a></span> | <span class="t">and it also potentially maybe at some point your agent might be doing too much to answer a question</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1900" target="_blank">00:31:40.320</a></span> | <span class="t">so this will force it to stop and just provide an answer although if that does happen i just realize</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1906" target="_blank">00:31:46.000</a></span> | <span class="t">there's a bit of a fault in the logic here if that does happen we wouldn't necessarily have the answer</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1912" target="_blank">00:31:52.160</a></span> | <span class="t">here right so we would probably want to handle that nicely but in this scenario a very simple use case</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1919" target="_blank">00:31:59.440</a></span> | <span class="t">we're not going to see that happening so we initialize our custom agent executor and then we invoke it</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1927" target="_blank">00:32:07.200</a></span> | <span class="t">okay and let's see what happens all right there we go so that just wrapped everything</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1935" target="_blank">00:32:15.440</a></span> | <span class="t">into a single single invoke so everything is handled for us we could say okay what is 10 you know we can</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1945" target="_blank">00:32:25.200</a></span> | <span class="t">modify that and say 7.4 for example and that will go through we'll use the multiply tool instead and then</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1953" target="_blank">00:32:33.840</a></span> | <span class="t">we'll come back to the final answer again okay so we can see that with this custom agent executor we've built</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1961" target="_blank">00:32:41.840</a></span> | <span class="t">an agent and we have a lot more control over everything that is going on in here one thing</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1968" target="_blank">00:32:48.480</a></span> | <span class="t">that we would probably need to add in this scenario is right now i'm assuming that only one tool call</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1976" target="_blank">00:32:56.080</a></span> | <span class="t">will happen at once and it's also why i'm asking here i'm not asking a complicated question because i</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1980" target="_blank">00:33:00.960</a></span> | <span class="t">don't want it to go and try and execute multiple tool calls at once which which can happen so let's just try</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1988" target="_blank">00:33:08.720</a></span> | <span class="t">this okay so this is actually completely fine so this did just execute it one after the other</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=1995" target="_blank">00:33:15.120</a></span> | <span class="t">so you can see that when asking this more complicated question it first did the exponentiate tool followed</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2004" target="_blank">00:33:24.000</a></span> | <span class="t">by the add tool and then it actually gave us our final answer which is cool also told us we use both</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2009" target="_blank">00:33:29.840</a></span> | <span class="t">those tools which it did but one thing that we should just be aware of is that from open ai open ai can</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2018" target="_blank">00:33:38.480</a></span> | <span class="t">actually execute multiple tool calls in parallel so by specifying that we're just using this zero here</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2026" target="_blank">00:33:46.240</a></span> | <span class="t">we're actually assuming that we're only ever going to be calling one tool at any one time which is not</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2031" target="_blank">00:33:51.680</a></span> | <span class="t">always going to be the case so you would probably need to add a little bit of extra logic there in case of scenarios if you're building in an agent that is</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2039" target="_blank">00:33:59.680</a></span> | <span class="t">it's likely to be running parallel tool calls but yeah you can see here actually</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2044" target="_blank">00:34:04.480</a></span> | <span class="t">it's completely fine so it's running one after the other okay so with that</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2049" target="_blank">00:34:09.200</a></span> | <span class="t">we've built our agent executor i know there's a lot to that and of course you can just use the very</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2056" target="_blank">00:34:16.320</a></span> | <span class="t">abstract agent executor in linechain but i think it's very good to understand what is actually going on to build our own agent executor in this case and it sets you up nicely for building more complicated or</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2068" target="_blank">00:34:28.560</a></span> | <span class="t">or use case specific agent logic as well so that is it for this chapter</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2077" target="_blank">00:34:37.280</a></span> | <span class="t">you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2090" target="_blank">00:34:50.720</a></span> | <span class="t">you</span></div><div class="c"><span class="s"><a href="https://www.youtube.com/watch?v=iN1Xx8ca_8I&t=2091" target="_blank">00:34:51.220</a></span> | <span class="t">you</span></div></div></body></html>